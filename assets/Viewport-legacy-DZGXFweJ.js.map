{"version":3,"file":"Viewport-legacy-DZGXFweJ.js","sources":["../../src/pages/Viewport.tsx"],"sourcesContent":["import { Text, View, hexColor } from \"@lightningtv/solid\";\nimport { onMount, onCleanup, createSignal } from \"solid-js\";\nimport { setGlobalBackground } from \"../state\";\n\nexport default () => {\n  let ball, invervalTimer;\n\n  const [ballStatus, setBallStatus] = createSignal<string[]>([]);\n\n  const styleBall = {\n    width: 100,\n    height: 100,\n    x: -400,\n    y: -400,\n    rotation: 0,\n    borderRadius: 50,\n    color: \"#4287f5\",\n    transition: {\n      x: { duration: 1250, easing: \"linear\" },\n      y: { duration: 1250, easing: \"linear\" },\n      rotation: { duration: 1400, easing: \"ease-in-out\" },\n    },\n  } as const;\n\n  const Title = {\n    fontSize: 32,\n    x: 960,\n    y: 540,\n    mount: 0.5,\n    lineheight: 52,\n  };\n\n  const randomIntBetween = (from, to) =>\n    Math.floor(Math.random() * (to - from + 1) + from);\n\n  onMount(() => {\n    setGlobalBackground(\"#000000\");\n\n    ball.x = (1920 - 100) / 2;\n    ball.y = (1080 - 100) / 2;\n    invervalTimer = setInterval(() => {\n      ball.rotation = randomIntBetween(-90, 90);\n      ball.x = randomIntBetween(-300, 2220);\n      ball.y = randomIntBetween(-300, 1380);\n    }, 2500);\n  });\n\n  function logEvent(name, elm) {\n    setBallStatus((prev) => {\n      return [...prev, name].slice(-4);\n    });\n    console.log(name);\n  }\n\n  onCleanup(() => {\n    clearInterval(invervalTimer);\n  });\n\n  return (\n    <View>\n      <Text style={Title}>{ballStatus().join(\"\\n\")}</Text>\n      <View\n        autofocus\n        style={styleBall}\n        ref={ball}\n        onEvent={{\n          inBounds: (elm) => logEvent(\"inBounds\", elm),\n          outOfBounds: (elm) => logEvent(\"outOfBounds\", elm),\n          inViewport: (elm) => logEvent(\"inViewport\", elm),\n          outOfViewport: (elm) => logEvent(\"outOfViewport\", elm),\n        }}\n      />\n    </View>\n  );\n};\n"],"names":["Viewport","exports","ball","invervalTimer","_createSignal","createSignal","_createSignal2","_slicedToArray","ballStatus","setBallStatus","styleBall","width","height","x","y","rotation","borderRadius","color","transition","duration","easing","Title","fontSize","mount","lineheight","randomIntBetween","from","to","Math","floor","random","onMount","setGlobalBackground","setInterval","logEvent","name","elm","prev","concat","_toConsumableArray","slice","console","log","onCleanup","clearInterval","_$createComponent","View","children","Text","style","join","autofocus","ref","r$","_ref$","onEvent","inBounds","outOfBounds","inViewport","outOfViewport"],"mappings":"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"}