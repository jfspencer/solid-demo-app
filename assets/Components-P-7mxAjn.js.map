{"version":3,"file":"Components-P-7mxAjn.js","sources":["../../node_modules/.pnpm/@lightningtv+solid@2.7.8_@lightningjs+renderer@2.13.0_@solidjs+router@0.15.3_patch_hash=hnhvc_j2dbu7s43oiapm3sbrx6morz7u/node_modules/@lightningtv/solid/src/primitives/Visible.tsx","../../src/pages/Components.tsx"],"sourcesContent":["import {\n  DEV,\n  children,\n  createMemo,\n  ChildrenReturn,\n  JSX,\n  untrack,\n  onCleanup,\n  createRoot,\n} from 'solid-js';\nimport { ElementNode } from '@lightningtv/solid';\n\nexport function Visible<T>(props: {\n  when: T | undefined | null | false;\n  keyed?: boolean;\n  fallback?: JSX.Element;\n  children: JSX.Element;\n}): JSX.Element {\n  let child: ChildrenReturn | undefined;\n  let disposer: VoidFunction | undefined;\n  const keyed = props.keyed;\n  const condition = createMemo<T | undefined | null | boolean>(\n    () => props.when,\n    undefined,\n    DEV\n      ? {\n          equals: (a, b) => (keyed ? a === b : !a === !b),\n          name: \"condition\"\n        }\n      : { equals: (a, b) => (keyed ? a === b : !a === !b) }\n  );\n\n  onCleanup(() => disposer?.());\n\n\n  return createMemo(() => {\n    const c = condition();\n    const isKeyed = untrack(() => !!keyed);\n    if (isKeyed){\n      disposer?.();\n      child = undefined;\n    }\n\n    if (c && !child) {\n      disposer = createRoot((dispose) => {\n        child = children(() => props.children);\n        return dispose;\n      })\n    }\n\n    const isHidden = !c;\n    child?.toArray().forEach((childNode) => {\n      if (childNode instanceof ElementNode) {\n        childNode.hidden = isHidden;\n      }\n    });\n\n    return c ? child : props.fallback;\n  }) as unknown as JSX.Element;\n};\n","import { Text, View, Dynamic } from \"@lightningtv/solid\";\nimport { Visible } from \"@lightningtv/solid/primitives\";\nimport { Button } from \"@lightningtv/solid-ui\";\nimport { createSignal, For, onCleanup } from \"solid-js\";\nimport { setGlobalBackground } from \"../state\";\n\n// Define the Square component\nfunction Square(props) {\n  return (\n    <View\n      {...props}\n      width={props.size || 80}\n      height={props.size || 80}\n      color={props.color || \"#e0e0e0\"}\n    />\n  );\n}\n\n// Define the Card component, which nests a Square\nfunction Card(props) {\n  return (\n    <View\n      {...props}\n      width={props.size === \"large\" ? 400 : 200}\n      height={props.size === \"large\" ? 500 : 300}\n      transition={true}\n      color=\"#0891b2\"\n    >\n      <Square x={80} y={80} />\n      <Square x={20} y={20} size={40} />\n    </View>\n  );\n}\n\nconst PositioningPage = () => {\n  setGlobalBackground(\"#1e293b\");\n\n  const [x, setX] = createSignal(100);\n  const [size, setSize] = createSignal(true);\n\n  const [dynamicComponents] = createSignal([Square, Card, Square]);\n\n  const interval = setInterval(() => {\n    setX((x) => (x === 100 ? 250 : 100));\n    setSize((size) => !size);\n  }, 2000);\n\n  onCleanup(() => clearInterval(interval));\n\n  return (\n    <View x={150} autofocus>\n      {/* Simple square components with different sizes */}\n      <Visible when={size()}>\n        <Square\n          onDestroy={() => console.log(\"destroyed\")}\n          x={100}\n          y={100}\n          size={50}\n          color=\"#ef4444\"\n        />\n        <Square x={100} y={200} size={100} color=\"#22c55e\" />\n        <Square x={100} y={350} size={200} color=\"#3b82f6\" />\n      </Visible>\n\n      {/* Reactive square with animated x position */}\n      <Square\n        x={x()}\n        y={600}\n        size={50}\n        transition={{ x: { duration: 1000, easing: \"linear\" } }}\n      />\n\n      {/* Card components */}\n      <Card x={500} y={100} size={size() ? \"large\" : \"small\"} />\n      <Card x={500} y={500} size={size() ? \"small\" : \"large\"} />\n\n      {/* Dynamic components */}\n      <View x={1000} y={100}>\n        <Text>Dynamic Components</Text>\n        <Dynamic component={Button} y={50} width={200} children=\"Button\" />\n        <For each={dynamicComponents()}>\n          {(Component, index) => (\n            <Dynamic\n              component={Component}\n              x={205 * index()}\n              y={300}\n              size={50}\n            />\n          )}\n        </For>\n      </View>\n    </View>\n  );\n};\n\nexport default PositioningPage;\n"],"names":["Visible","props","child","disposer","keyed","condition","createMemo","when","undefined","equals","a","b","c","isKeyed","untrack","createRoot","dispose","children","isHidden","toArray","forEach","childNode","ElementNode","hidden","fallback","Square","_$createComponent","View","_$mergeProps","width","size","height","color","Card","transition","x","y","PositioningPage","setGlobalBackground","setX","createSignal","setSize","dynamicComponents","interval","setInterval","clearInterval","autofocus","onDestroy","console","log","duration","easing","Text","Dynamic","component","Button","For","each","Component","index"],"mappings":"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","x_google_ignoreList":[0]}