var mi=Object.defineProperty;var xi=(r,n,e)=>n in r?mi(r,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[n]=e;var h=(r,n,e)=>(xi(r,typeof n!="symbol"?n+"":n,e),e);import{a as L,i as vo,T as yi,g as Bn,c as gt,E as ot,b as ke,d as vi,e as nr,f as wi,m as _t,W as Pt,h as wo,j as bo,k as bi,l as kn,S as _r,B as Si,n as Ai,o as So,p as Ci,q as Ti,C as _i,r as Ri,s as Rr,t as Ir,u as Ii,v as Bi,R as ki,w as Ei}from"./CoreExtension-D6FI1p2n.js";function Sd(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))t(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&t(s)}).observe(document,{childList:!0,subtree:!0});function e(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function t(o){if(o.ep)return;o.ep=!0;const i=e(o);fetch(o.href,i)}})();const Ao=(r,n)=>r===n,cn=Symbol("solid-proxy"),Fi=Symbol("solid-track"),Ni=Symbol("solid-dev-component"),dn={equals:Ao};let Co=Eo;const Ae=1,un=2,Li={owned:null,cleanups:null,context:null,owner:null},En={};var U=null;let Fn=null,Mi=null,H=null,ae=null,Ie=null,Sn=0;const zi={afterUpdate:null,afterCreateOwner:null,afterCreateSignal:null};function mt(r,n){const e=H,t=U,o=r.length===0,i=n===void 0?t:n,s=o?{owned:null,cleanups:null,context:null,owner:null}:{owned:null,cleanups:null,context:i?i.context:null,owner:i},a=o?()=>r(()=>{throw new Error("Dispose method must be an explicit argument to createRoot function")}):()=>r(()=>le(()=>Cn(s)));U=s,H=null;try{return Be(a,!0)}finally{H=e,U=t}}function W(r,n){n=n?Object.assign({},dn,n):dn;const e={value:r,observers:null,observerSlots:null,comparator:n.equals||void 0};n.name&&(e.name=n.name),n.internal||Ro(e);const t=o=>(typeof o=="function"&&(o=o(e.value)),rr(e,o));return[ko.bind(e),t]}function Dn(r,n,e){const t=yt(r,n,!0,Ae,e);Xe(t)}function Re(r,n,e){const t=yt(r,n,!1,Ae,e);Xe(t)}function je(r,n,e){Co=Hi;const t=yt(r,n,!1,Ae,e);(!e||!e.render)&&(t.user=!0),Ie?Ie.push(t):Xe(t)}function q(r,n,e){e=e?Object.assign({},dn,e):dn;const t=yt(r,n,!0,0,e);return t.observers=null,t.observerSlots=null,t.comparator=e.equals||void 0,Xe(t),ko.bind(t)}function Pi(r){return r&&typeof r=="object"&&"then"in r}function tt(r,n,e){let t,o,i;arguments.length===2&&typeof n=="object"||arguments.length===1?(t=!0,o=r,i=n||{}):(t=r,o=n,i=e||{});let s=null,a=En,c=!1,d="initialValue"in i,u=typeof t=="function"&&q(t);const g=new Set,[w,A]=(i.storage||W)(i.initialValue),[p,y]=W(void 0),[S,b]=W(void 0,{equals:!1}),[v,x]=W(d?"ready":"unresolved");function m(T,_,k,z){return s===T&&(s=null,z!==void 0&&(d=!0),(T===a||_===a)&&i.onHydrated&&queueMicrotask(()=>i.onHydrated(z,{value:_})),a=En,C(_,k)),_}function C(T,_){Be(()=>{_===void 0&&A(()=>T),x(_!==void 0?"errored":d?"ready":"unresolved"),y(_);for(const k of g.keys())k.decrement();g.clear()},!1)}function I(){const T=Ui,_=w(),k=p();if(k!==void 0&&!s)throw k;return H&&!H.user&&T&&Dn(()=>{S(),s&&(T.resolved||g.has(T)||(T.increment(),g.add(T)))}),_}function R(T=!0){if(T!==!1&&c)return;c=!1;const _=u?u():t;if(_==null||_===!1){m(s,le(w));return}const k=a!==En?a:le(()=>o(_,{value:w(),refetching:T}));return Pi(k)?(s=k,"value"in k?(k.status==="success"?m(s,k.value,void 0,_):m(s,void 0,void 0,_),k):(c=!0,queueMicrotask(()=>c=!1),Be(()=>{x(d?"refreshing":"pending"),b()},!1),k.then(z=>m(k,z,void 0,_),z=>m(k,void 0,No(z),_)))):(m(s,k,void 0,_),k)}return Object.defineProperties(I,{state:{get:()=>v()},error:{get:()=>p()},loading:{get(){const T=v();return T==="pending"||T==="refreshing"}},latest:{get(){if(!d)return I();const T=p();if(T&&!s)throw T;return w()}}}),u?Dn(()=>R(!1)):R(!1),[I,{refetch:R,mutate:A}]}function To(r,n=Ao,e){const t=new Map,o=yt(i=>{const s=r();for(const[a,c]of t.entries())if(n(a,s)!==n(a,i))for(const d of c.values())d.state=Ae,d.pure?ae.push(d):Ie.push(d);return s},void 0,!0,Ae,e);return Xe(o),i=>{const s=H;if(s){let a;(a=t.get(i))?a.add(s):t.set(i,a=new Set([s])),Me(()=>{a.delete(s),!a.size&&t.delete(i)})}return n(i,o.value)}}function Di(r){return Be(r,!1)}function le(r){if(H===null)return r();const n=H;H=null;try{return r()}finally{H=n}}function it(r,n,e){const t=Array.isArray(r);let o,i=e&&e.defer;return s=>{let a;if(t){a=Array(r.length);for(let d=0;d<r.length;d++)a[d]=r[d]()}else a=r();if(i)return i=!1,s;const c=le(()=>n(a,o,s));return o=a,c}}function Qe(r){je(()=>le(r))}function Me(r){return U===null?console.warn("cleanups created outside a `createRoot` or `render` will never be run"):U.cleanups===null?U.cleanups=[r]:U.cleanups.push(r),r}function Dt(){return U}function _o(r,n){const e=U,t=H;U=r,H=null;try{return Be(n,!0)}catch(o){or(o)}finally{U=e,H=t}}function Oi(r){const n=H,e=U;return Promise.resolve().then(()=>{H=n,U=e;let t;return Be(r,!1),H=U=null,t?t.done:void 0})}function Wi(r,n){const e=yt(()=>le(()=>(Object.assign(r,{[Ni]:!0}),r(n))),void 0,!0,0);return e.props=n,e.observers=null,e.observerSlots=null,e.name=r.name,e.component=r,Xe(e),e.tValue!==void 0?e.tValue:e.value}function Ro(r){U&&(U.sourceMap?U.sourceMap.push(r):U.sourceMap=[r],r.graph=U)}function Io(r,n){const e=Symbol("context");return{id:e,Provider:ji(e,n),defaultValue:r}}function Bo(r){return U&&U.context&&U.context[r.id]!==void 0?U.context[r.id]:r.defaultValue}function An(r){const n=q(r),e=q(()=>On(n()),void 0,{name:"children"});return e.toArray=()=>{const t=e();return Array.isArray(t)?t:t!=null?[t]:[]},e}let Ui;function ko(){if(this.sources&&this.state)if(this.state===Ae)Xe(this);else{const r=ae;ae=null,Be(()=>fn(this),!1),ae=r}if(H){const r=this.observers?this.observers.length:0;H.sources?(H.sources.push(this),H.sourceSlots.push(r)):(H.sources=[this],H.sourceSlots=[r]),this.observers?(this.observers.push(H),this.observerSlots.push(H.sources.length-1)):(this.observers=[H],this.observerSlots=[H.sources.length-1])}return this.value}function rr(r,n,e){let t=r.value;return(!r.comparator||!r.comparator(t,n))&&(r.value=n,r.observers&&r.observers.length&&Be(()=>{for(let o=0;o<r.observers.length;o+=1){const i=r.observers[o],s=Fn&&Fn.running;s&&Fn.disposed.has(i),(s?!i.tState:!i.state)&&(i.pure?ae.push(i):Ie.push(i),i.observers&&Fo(i)),s||(i.state=Ae)}if(ae.length>1e6){throw ae=[],new Error("Potential Infinite Loop Detected.");throw new Error}},!1)),n}function Xe(r){if(!r.fn)return;Cn(r);const n=Sn;Yi(r,r.value,n)}function Yi(r,n,e){let t;const o=U,i=H;H=U=r;try{t=r.fn(n)}catch(s){return r.pure&&(r.state=Ae,r.owned&&r.owned.forEach(Cn),r.owned=null),r.updatedAt=e+1,or(s)}finally{H=i,U=o}(!r.updatedAt||r.updatedAt<=e)&&(r.updatedAt!=null&&"observers"in r?rr(r,t):r.value=t,r.updatedAt=e)}function yt(r,n,e,t=Ae,o){const i={fn:r,state:t,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:n,owner:U,context:U?U.context:null,pure:e};return U===null?console.warn("computations created outside a `createRoot` or `render` will never be disposed"):U!==Li&&(U.owned?U.owned.push(i):U.owned=[i]),o&&o.name&&(i.name=o.name),i}function hn(r){if(r.state===0)return;if(r.state===un)return fn(r);if(r.suspense&&le(r.suspense.inFallback))return r.suspense.effects.push(r);const n=[r];for(;(r=r.owner)&&(!r.updatedAt||r.updatedAt<Sn);)r.state&&n.push(r);for(let e=n.length-1;e>=0;e--)if(r=n[e],r.state===Ae)Xe(r);else if(r.state===un){const t=ae;ae=null,Be(()=>fn(r,n[0]),!1),ae=t}}function Be(r,n){if(ae)return r();let e=!1;n||(ae=[]),Ie?e=!0:Ie=[],Sn++;try{const t=r();return $i(e),t}catch(t){e||(Ie=null),ae=null,or(t)}}function $i(r){if(ae&&(Eo(ae),ae=null),r)return;const n=Ie;Ie=null,n.length&&Be(()=>Co(n),!1)}function Eo(r){for(let n=0;n<r.length;n++)hn(r[n])}function Hi(r){let n,e=0;for(n=0;n<r.length;n++){const t=r[n];t.user?r[e++]=t:hn(t)}for(n=0;n<e;n++)hn(r[n])}function fn(r,n){r.state=0;for(let e=0;e<r.sources.length;e+=1){const t=r.sources[e];if(t.sources){const o=t.state;o===Ae?t!==n&&(!t.updatedAt||t.updatedAt<Sn)&&hn(t):o===un&&fn(t,n)}}}function Fo(r){for(let n=0;n<r.observers.length;n+=1){const e=r.observers[n];e.state||(e.state=un,e.pure?ae.push(e):Ie.push(e),e.observers&&Fo(e))}}function Cn(r){let n;if(r.sources)for(;r.sources.length;){const e=r.sources.pop(),t=r.sourceSlots.pop(),o=e.observers;if(o&&o.length){const i=o.pop(),s=e.observerSlots.pop();t<o.length&&(i.sourceSlots[s]=t,o[t]=i,e.observerSlots[t]=s)}}if(r.owned){for(n=r.owned.length-1;n>=0;n--)Cn(r.owned[n]);r.owned=null}if(r.cleanups){for(n=r.cleanups.length-1;n>=0;n--)r.cleanups[n]();r.cleanups=null}r.state=0,delete r.sourceMap}function No(r){return r instanceof Error?r:new Error(typeof r=="string"?r:"Unknown error",{cause:r})}function or(r,n=U){throw No(r)}function On(r){if(typeof r=="function"&&!r.length)return On(r());if(Array.isArray(r)){const n=[];for(let e=0;e<r.length;e++){const t=On(r[e]);Array.isArray(t)?n.push.apply(n,t):n.push(t)}return n}return r}function ji(r,n){return function(t){let o;return Re(()=>o=le(()=>(U.context={...U.context,[r]:t.value},An(()=>t.children))),void 0,n),o}}const Qi=Symbol("fallback");function Br(r){for(let n=0;n<r.length;n++)r[n]()}function Xi(r,n,e={}){let t=[],o=[],i=[],s=0,a=n.length>1?[]:null;return Me(()=>Br(i)),()=>{let c=r()||[],d,u;return c[Fi],le(()=>{let w=c.length,A,p,y,S,b,v,x,m,C;if(w===0)s!==0&&(Br(i),i=[],t=[],o=[],s=0,a&&(a=[])),e.fallback&&(t=[Qi],o[0]=mt(I=>(i[0]=I,e.fallback())),s=1);else if(s===0){for(o=new Array(w),u=0;u<w;u++)t[u]=c[u],o[u]=mt(g);s=w}else{for(y=new Array(w),S=new Array(w),a&&(b=new Array(w)),v=0,x=Math.min(s,w);v<x&&t[v]===c[v];v++);for(x=s-1,m=w-1;x>=v&&m>=v&&t[x]===c[m];x--,m--)y[m]=o[x],S[m]=i[x],a&&(b[m]=a[x]);for(A=new Map,p=new Array(m+1),u=m;u>=v;u--)C=c[u],d=A.get(C),p[u]=d===void 0?-1:d,A.set(C,u);for(d=v;d<=x;d++)C=t[d],u=A.get(C),u!==void 0&&u!==-1?(y[u]=o[d],S[u]=i[d],a&&(b[u]=a[d]),u=p[u],A.set(C,u)):i[d]();for(u=v;u<w;u++)u in y?(o[u]=y[u],i[u]=S[u],a&&(a[u]=b[u],a[u](u))):o[u]=mt(g);o=o.slice(0,s=w),t=c.slice(0)}return o});function g(w){if(i[u]=w,a){const[A,p]=W(u,{name:"index"});return a[u]=p,n(c[u],A)}return n(c[u])}}}function Lo(r,n){return Wi(r,n||{})}function $t(){return!0}const Wn={get(r,n,e){return n===cn?e:r.get(n)},has(r,n){return n===cn?!0:r.has(n)},set:$t,deleteProperty:$t,getOwnPropertyDescriptor(r,n){return{configurable:!0,enumerable:!0,get(){return r.get(n)},set:$t,deleteProperty:$t}},ownKeys(r){return r.keys()}};function Nn(r){return(r=typeof r=="function"?r():r)?r:{}}function Ki(){for(let r=0,n=this.length;r<n;++r){const e=this[r]();if(e!==void 0)return e}}function ir(...r){let n=!1;for(let s=0;s<r.length;s++){const a=r[s];n=n||!!a&&cn in a,r[s]=typeof a=="function"?(n=!0,q(a)):a}if(n)return new Proxy({get(s){for(let a=r.length-1;a>=0;a--){const c=Nn(r[a])[s];if(c!==void 0)return c}},has(s){for(let a=r.length-1;a>=0;a--)if(s in Nn(r[a]))return!0;return!1},keys(){const s=[];for(let a=0;a<r.length;a++)s.push(...Object.keys(Nn(r[a])));return[...new Set(s)]}},Wn);const e={},t=Object.create(null);for(let s=r.length-1;s>=0;s--){const a=r[s];if(!a)continue;const c=Object.getOwnPropertyNames(a);for(let d=c.length-1;d>=0;d--){const u=c[d];if(u==="__proto__"||u==="constructor")continue;const g=Object.getOwnPropertyDescriptor(a,u);if(!t[u])t[u]=g.get?{enumerable:!0,configurable:!0,get:Ki.bind(e[u]=[g.get.bind(a)])}:g.value!==void 0?g:void 0;else{const w=e[u];w&&(g.get?w.push(g.get.bind(a)):g.value!==void 0&&w.push(()=>g.value))}}}const o={},i=Object.keys(t);for(let s=i.length-1;s>=0;s--){const a=i[s],c=t[a];c&&c.get?Object.defineProperty(o,a,c):o[a]=c?c.value:void 0}return o}function Vi(r,...n){if(cn in r){const o=new Set(n.length>1?n.flat():n[0]),i=n.map(s=>new Proxy({get(a){return s.includes(a)?r[a]:void 0},has(a){return s.includes(a)&&a in r},keys(){return s.filter(a=>a in r)}},Wn));return i.push(new Proxy({get(s){return o.has(s)?void 0:r[s]},has(s){return o.has(s)?!1:s in r},keys(){return Object.keys(r).filter(s=>!o.has(s))}},Wn)),i}const e={},t=n.map(()=>({}));for(const o of Object.getOwnPropertyNames(r)){const i=Object.getOwnPropertyDescriptor(r,o),s=!i.get&&!i.set&&i.enumerable&&i.writable&&i.configurable;let a=!1,c=0;for(const d of n)d.includes(o)&&(a=!0,s?t[c][o]=i.value:Object.defineProperty(t[c],o,i)),++c;a||(s?e[o]=i.value:Object.defineProperty(e,o,i))}return[...t,e]}const Gi=r=>"Attempting to access a stale value from <".concat(r,"> that could possibly be undefined. This may occur because you are reading the accessor returned from the component at a time where it has already been unmounted. We recommend cleaning up any stale timers or async, or reading from the initial condition.");function Tn(r){const n="fallback"in r&&{fallback:()=>r.fallback};return q(Xi(()=>r.each,r.children,n||void 0),void 0,{name:"value"})}function ze(r){const n=r.keyed,e=q(()=>r.when,void 0,{equals:(t,o)=>n?t===o:!t==!o,name:"condition"});return q(()=>{const t=e();if(t){const o=r.children;return typeof o=="function"&&o.length>0?le(()=>o(n?t:()=>{if(!le(e))throw Gi("Show");return r.when})):o}return r.fallback},void 0,{name:"value"})}const qi={hooks:zi,writeSignal:rr,registerGraph:Ro};globalThis&&(globalThis.Solid$$?console.warn("You appear to have multiple instances of Solid. This can lead to unexpected behavior."):globalThis.Solid$$=!0);const[sr,Mo]=W(void 0);class zo{constructor(n){h(this,"releaseCallback");this.releaseCallback=n}}class Zi extends zo{constructor(e,t){var o,i;super(e);h(this,"textureMap",new Map);h(this,"zeroReferenceTextureSet",new Set);h(this,"options");this.options={textureCleanupIntervalMs:(o=t.textureCleanupIntervalMs)!=null?o:1e4,textureCleanupAgeThreadholdMs:(i=t.textureCleanupAgeThreadholdMs)!=null?i:6e4},setInterval(()=>{const s=Date.now(),a=this.options.textureCleanupAgeThreadholdMs;for(const c of this.zeroReferenceTextureSet)s-c.lastUpdate>a&&(this.releaseCallback(c.id),this.textureMap.delete(c.id),this.zeroReferenceTextureSet.delete(c))},this.options.textureCleanupIntervalMs)}registerTexture(e){var o;const t=(o=e.options)==null?void 0:o.id;if(L(t,"Texture must have an id to be registered"),!this.textureMap.has(t)){const i={id:t,nodeRefCount:0,lastUpdate:Date.now()};this.textureMap.set(t,i),this.zeroReferenceTextureSet.add(i)}}incrementTextureRefCount(e){var i;const t=(i=e.options)==null?void 0:i.id;L(t,"Texture must have an id to be registered");let o=this.textureMap.get(t);o||(this.registerTexture(e),o=this.textureMap.get(t)),L(o,"Texture must have been registered"),e.txType==="SubTexture"&&this.incrementTextureRefCount(e.props.texture),o.nodeRefCount++,o.lastUpdate=Date.now(),this.zeroReferenceTextureSet.has(o)&&this.zeroReferenceTextureSet.delete(o)}decrementTextureRefCount(e){var i;const t=(i=e.options)==null?void 0:i.id;L(t,"Texture must have an id to be registered");const o=this.textureMap.get(t);L(o,"Texture must have been registered"),o.nodeRefCount--,o.lastUpdate=Date.now(),o.nodeRefCount===0&&this.zeroReferenceTextureSet.add(o),e.txType==="SubTexture"&&this.decrementTextureRefCount(e.props.texture)}}class Ji extends zo{constructor(e){super(e);h(this,"registry");this.registry=new FinalizationRegistry(e)}registerTexture(e){var t,o;L((t=e.options)==null?void 0:t.id,"Texture must have an ID to be registered"),this.registry.register(e,(o=e.options)==null?void 0:o.id)}incrementTextureRefCount(){}decrementTextureRefCount(){}}const St={alpha:r=>r===1?null:{prop:"opacity",value:"".concat(r)},x:r=>({prop:"left",value:"".concat(r,"px")}),y:r=>({prop:"top",value:"".concat(r,"px")}),width:r=>r===0?null:{prop:"width",value:"".concat(r,"px")},height:r=>r===0?null:{prop:"height",value:"".concat(r,"px")},zIndex:()=>"zIndex",fontFamily:()=>"font-family",fontSize:()=>"font-size",fontStyle:()=>"font-style",fontWeight:()=>"font-weight",fontStretch:()=>"font-stretch",lineHeight:()=>"line-height",letterSpacing:()=>"letter-spacing",textAlign:()=>"text-align",overflowSuffix:()=>"overflow-suffix",maxLines:()=>"max-lines",contain:()=>"contain",verticalAlign:()=>"vertical-align",clipping:r=>r===!1?null:{prop:"overflow",value:r?"hidden":"visible"},rotation:r=>r===0?null:{prop:"transform",value:"rotate(".concat(r,"rad)")},scale:r=>r===1?null:{prop:"transform",value:"scale(".concat(r,")")},scaleX:r=>r===1?null:{prop:"transform",value:"scaleX(".concat(r,")")},scaleY:r=>r===1?null:{prop:"transform",value:"scaleY(".concat(r,")")},color:r=>r===0?null:{prop:"color",value:Po(r)}},Po=r=>{const n=(r&255)/255,e=r>>8&255,t=r>>16&255,o=r>>24&255;return"rgba(".concat(o,",").concat(t,",").concat(e,",").concat(n,")")},es={id:"id"};class ts{constructor(n,e){h(this,"root",null);h(this,"canvas",null);h(this,"height",1080);h(this,"width",1920);h(this,"scaleX",1);h(this,"scaleY",1);var i,s,a,c,d,u;if(vo())return;if(!e)throw new Error("settings is required");this.height=Math.ceil((s=e.appHeight)!=null?s:1080/((i=e.deviceLogicalPixelRatio)!=null?i:1)),this.width=Math.ceil((c=e.appWidth)!=null?c:1900/((a=e.deviceLogicalPixelRatio)!=null?a:1)),this.scaleX=(d=e.deviceLogicalPixelRatio)!=null?d:1,this.scaleY=(u=e.deviceLogicalPixelRatio)!=null?u:1,this.canvas=n,this.root=document.createElement("div"),this.setRootPosition(),document.body.appendChild(this.root),new MutationObserver(this.setRootPosition.bind(this)).observe(n,{attributes:!0,childList:!1,subtree:!1}),new ResizeObserver(this.setRootPosition.bind(this)).observe(n),window.addEventListener("resize",this.setRootPosition.bind(this)),console.warn("Inspector is enabled, this will impact performance")}setRootPosition(){if(this.root===null||this.canvas===null)return;const n=this.canvas.getBoundingClientRect(),e=document.documentElement.scrollTop+n.top,t=document.documentElement.scrollLeft+n.left;this.root.id="root",this.root.style.left="".concat(t,"px"),this.root.style.top="".concat(e,"px"),this.root.style.width="".concat(this.width,"px"),this.root.style.height="".concat(this.height,"px"),this.root.style.position="absolute",this.root.style.transformOrigin="0 0 0",this.root.style.transform="scale(".concat(this.scaleX,", ").concat(this.scaleY,")"),this.root.style.overflow="hidden",this.root.style.zIndex="65534"}createDiv(n,e){const t=document.createElement("div");t.style.position="absolute",t.id=n.id.toString();for(const o in e)this.updateNodeProperty(t,o,e[o]);return t}createNode(n,e){const t=n.createNode(e),o=this.createDiv(t,e);return o.node=t,t.div=o,this.createProxy(t,o)}createTextNode(n,e){const t=n.createTextNode(e),o=this.createDiv(t,e);return o.node=t,t.div=o,this.createProxy(t,o)}createProxy(n,e){return new Proxy(n,{set:(t,o,i)=>(this.updateNodeProperty(e,o,i),Reflect.set(t,o,i)),get:(t,o,i)=>(o==="destroy"&&this.destroyNode(t),o==="animate"?(s,a)=>{const c=t.animate(s,a);return new Proxy(c,{get:(d,u,g)=>(u==="start"&&this.animateNode(e,n,s,a),Reflect.get(d,u,g))})}:Reflect.get(t,o,i))})}destroyNode(n){const e=document.getElementById(n.id.toString());e==null||e.remove()}updateNodeProperty(n,e,t){var o;if(!(this.root===null||t===void 0||t===null)){if(e==="parent"){const i=t.id;if(i===1){this.root.appendChild(n);return}const s=document.getElementById(i.toString());s==null||s.appendChild(n);return}if(e==="text"){n.innerHTML=String(t),n.style.visibility="hidden";return}if(e==="src"&&t){n.setAttribute("data-src",String(t));return}if(St[e]){const i=(o=St[e])==null?void 0:o.call(St,t);if(i===null)return;if(typeof i=="string"){n.style.setProperty(i,String(t));return}typeof i=="object"&&n.style.setProperty(i.prop,i.value);return}if(es[e]){n.setAttribute(String(St[e]),String(t));return}if(e==="data"){for(const i in t)n.setAttribute("data-".concat(i),String(t[i]));return}}}animateNode(n,e,t,o){const{duration:i=1e3,delay:s=0}=o,{x:a,y:c,width:d,height:u,alpha:g=1,rotation:w=0,scale:A=1,color:p}=t;function y(){setTimeout(()=>{n.style.top="".concat(c,"px"),n.style.left="".concat(a,"px"),n.style.width="".concat(d,"px"),n.style.height="".concat(u,"px"),n.style.opacity="".concat(g),n.style.rotate="".concat(w,"rad"),n.style.scale="".concat(A),n.style.color=Po(p)},i)}setTimeout(y,s)}}const ns="modulepreload",rs=function(r){return"/solid-demo-app/"+r},kr={},os=function(n,e,t){let o=Promise.resolve();if(e&&e.length>0){const i=document.getElementsByTagName("link"),s=document.querySelector("meta[property=csp-nonce]"),a=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));o=Promise.all(e.map(c=>{if(c=rs(c),c in kr)return;kr[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(!!t)for(let A=i.length-1;A>=0;A--){const p=i[A];if(p.href===c&&(!d||p.rel==="stylesheet"))return}else if(document.querySelector('link[href="'.concat(c,'"]').concat(u)))return;const w=document.createElement("link");if(w.rel=d?"stylesheet":ns,d||(w.as="script",w.crossOrigin=""),w.href=c,a&&w.setAttribute("nonce",a),document.head.appendChild(w),d)return new Promise((A,p)=>{w.addEventListener("load",A),w.addEventListener("error",()=>p(new Error("Unable to preload CSS for ".concat(c))))})}))}return o.then(()=>n()).catch(i=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=i,window.dispatchEvent(s),!s.defaultPrevented)throw i})};class ie{constructor(n){h(this,"priority",1);h(this,"name","");h(this,"ref");h(this,"target");h(this,"passParameters","");h(this,"declaredUniforms","");h(this,"uniformInfo",{});const{ref:e,target:t,props:o={}}=n;this.ref=e,this.target=t;const i={},s=[];let a="";const c=this.constructor.uniforms||{};for(const d in c){const u=c[d],g=u.type,w="".concat(e,"_").concat(d);let A="";u.size&&(A="[".concat(u.size(o),"]")),s.push(w),a+="uniform ".concat(g," ").concat(w).concat(A,";"),i[d]={name:w,uniform:c[d].method}}this.passParameters=s.join(","),this.declaredUniforms=a,this.uniformInfo=i}static getEffectKey(n){return""}static getMethodParameters(n,e){const t=[];for(const o in n){const i=n[o];let s="";i.size&&(s="[".concat(i.size(e),"]")),t.push("".concat(i.type," ").concat(o).concat(s))}return t.join(",")}static resolveDefaults(n){return{}}static makeEffectKey(n){return!1}}h(ie,"uniforms",{}),h(ie,"methods"),h(ie,"onShaderMask"),h(ie,"onColorize"),h(ie,"onEffectMask");const is={x:(r,n)=>{r.props.x=n},y:(r,n)=>{r.props.y=n},width:(r,n)=>{r.props.width=n},height:(r,n)=>{r.props.height=n},color:(r,n)=>{r.props.color=n},zIndex:(r,n)=>{r.props.zIndex=n},fontFamily:(r,n)=>{r.props.fontFamily=n},fontWeight:(r,n)=>{r.props.fontWeight=n},fontStyle:(r,n)=>{r.props.fontStyle=n},fontStretch:(r,n)=>{r.props.fontStretch=n},fontSize:(r,n)=>{r.props.fontSize=n},text:(r,n)=>{r.props.text=n},textAlign:(r,n)=>{r.props.textAlign=n},contain:(r,n)=>{r.props.contain=n},offsetY:(r,n)=>{r.props.offsetY=n},scrollable:(r,n)=>{r.props.scrollable=n},scrollY:(r,n)=>{r.props.scrollY=n},letterSpacing:(r,n)=>{r.props.letterSpacing=n},lineHeight:(r,n)=>{r.props.lineHeight=n},maxLines:(r,n)=>{r.props.maxLines=n},textBaseline:(r,n)=>{r.props.textBaseline=n},verticalAlign:(r,n)=>{r.props.verticalAlign=n},overflowSuffix:(r,n)=>{r.props.overflowSuffix=n},debug:(r,n)=>{r.props.debug=n}};class Do{constructor(n){h(this,"stage");h(this,"set");this.stage=n;const e={...is,...this.getPropertySetters()};this.set=Object.freeze(Object.fromEntries(Object.entries(e).map(([t,o])=>[t,(i,s)=>{i.props[t]!==s&&(o(i,s),this.stage.requestRender())}])))}setStatus(n,e,t){n.status!==e&&(n.status=e,n.emitter.emit(e,t))}setIsRenderable(n,e){n.isRenderable=e}destroyState(n){["loading","loaded","failed"].forEach(t=>{n.emitter.off(t)})}scheduleUpdateState(n){n.updateScheduled||(n.updateScheduled=!0,queueMicrotask(()=>{n.updateScheduled=!1,this.updateState(n)}))}}class Er extends yi{constructor(e,t,o){super(e,t);h(this,"fontFace");h(this,"fontUrl");const i=o.replace(/\(|\)/g,""),s=this.descriptors,a={style:s.style,weight:typeof s.weight=="number"?"".concat(s.weight):s.weight,stretch:s.stretch,unicodeRange:s.unicodeRange,variant:s.variant,featureSettings:s.featureSettings,display:s.display},c=new FontFace(e,"url(".concat(i,")"),a);c.load().then(()=>{this.loaded=!0,this.emit("loaded")}).catch(console.error),this.fontFace=c,this.fontUrl=o}}const Fr=2048;function Nr(r,n,e,t,o){const i=r!=="bottom"?.5*n:0;return e*(t-1)+i+Math.max(e,n)+(o||0)}class ss{constructor(n,e){h(this,"_canvas");h(this,"_context");h(this,"_settings");h(this,"renderInfo");this._canvas=n,this._context=e,this._settings=this.mergeDefaults({})}set settings(n){this._settings=this.mergeDefaults(n)}get settings(){return this._settings}getPrecision(){return this._settings.precision}setFontProperties(){this._context.font=this._getFontSetting(),this._context.textBaseline=this._settings.textBaseline}_getFontSetting(){const n=[this._settings.fontFace],e=[];for(let t=0,o=n.length;t<o;t++)n[t]==="serif"||n[t]==="sans-serif"?e.push(n[t]):e.push('"'.concat(n[t],'"'));return"".concat(this._settings.fontStyle," ").concat(this._settings.fontSize*this.getPrecision(),"px ").concat(e.join(","))}_load(){if(document.fonts){const n=this._getFontSetting();try{if(!document.fonts.check(n,this._settings.text))return document.fonts.load(n,this._settings.text).catch(e=>{console.warn("[Lightning] Font load error",e,n)}).then(()=>{document.fonts.check(n,this._settings.text)||console.warn("[Lightning] Font not found",n)})}catch(e){console.warn("[Lightning] Can't check font loading for "+n)}}}calculateRenderInfo(){const n={},e=this.getPrecision(),t=this._settings.paddingLeft*e,o=this._settings.paddingRight*e,i=this._settings.fontSize*e;let s=this._settings.offsetY===null?null:this._settings.offsetY*e,a=(this._settings.lineHeight||i)*e;const c=this._settings.w*e,d=this._settings.h*e;let u=this._settings.wordWrapWidth*e;const g=this._settings.cutSx*e,w=this._settings.cutEx*e,A=this._settings.cutSy*e,p=this._settings.cutEy*e,y=(this._settings.letterSpacing||0)*e,S=this._settings.textIndent*e;this.setFontProperties();let b=c||2048/this.getPrecision(),v=b-t;if(v<10&&(b+=10-v,v=10),u||(u=v),this._settings.textOverflow&&!this._settings.wordWrap){let T;switch(this._settings.textOverflow){case"clip":T="";break;case"ellipsis":T=this._settings.overflowSuffix;break;default:T=this._settings.textOverflow}this._settings.text=this.wrapWord(this._settings.text,u-S,T)}let x;if(this._settings.wordWrap)x=this.wrapText(this._settings.text,u,y,S);else{x={l:this._settings.text.split(/(?:\r\n|\r|\n)/),n:[]};const T=x.l.length;for(let _=0;_<T-1;_++)x.n.push(_)}let m=x.l;if(this._settings.maxLines&&m.length>this._settings.maxLines){const T=m.slice(0,this._settings.maxLines);let _=null;if(this._settings.overflowSuffix){const O=this._settings.overflowSuffix?this.measureText(this._settings.overflowSuffix):0,D=this.wrapText(T[T.length-1],u-O,y,S);T[T.length-1]="".concat(D.l[0]).concat(this._settings.overflowSuffix),_=[D.l.length>1?D.l[1]:""]}else _=[""];let k;const z=m.length;let F=0;const P=x.n.length;for(k=this._settings.maxLines;k<z;k++)_[F]+="".concat(_[F]?" ":"").concat(m[k]),k+1<P&&x.n[k+1]&&F++;n.remainingText=_.join("\n"),n.moreTextLines=!0,m=T}else n.moreTextLines=!1,n.remainingText="";let C=0;const I=[];for(let T=0;T<m.length;T++){const _=this.measureText(m[T],y)+(T===0?S:0);I.push(_),C=Math.max(C,_)}n.lineWidths=I,c||(b=C+t+o,v=C),a=a||i;let R;return d?R=d:R=Nr(this._settings.textBaseline,i,a,m.length,s),s===null&&(s=i),n.w=b,n.h=R,n.lines=m,n.precision=e,b||(b=1),R||(R=1),(g||w)&&(b=Math.min(b,w-g)),(A||p)&&(R=Math.min(R,p-A)),n.width=b,n.innerWidth=v,n.height=R,n.fontSize=i,n.cutSx=g,n.cutSy=A,n.cutEx=w,n.cutEy=p,n.lineHeight=a,n.lineWidths=I,n.offsetY=s,n.paddingLeft=t,n.paddingRight=o,n.letterSpacing=y,n.textIndent=S,n}draw(n,e){const t=this.getPrecision(),o=(e==null?void 0:e.lines)||n.lines,i=(e==null?void 0:e.lineWidths)||n.lineWidths,s=e?Nr(this._settings.textBaseline,n.fontSize,n.lineHeight,e.lines.length,this._settings.offsetY===null?null:this._settings.offsetY*t):n.height;this._canvas.width=Math.min(Math.ceil(n.width+this._settings.textRenderIssueMargin),Fr),this._canvas.height=Math.min(Math.ceil(s),Fr),this.setFontProperties(),n.fontSize>=128&&(this._context.globalAlpha=.01,this._context.fillRect(0,0,.01,.01),this._context.globalAlpha=1),(n.cutSx||n.cutSy)&&this._context.translate(-n.cutSx,-n.cutSy);let a,c;const d=[];for(let g=0,w=o.length;g<w;g++)a=g===0?n.textIndent:0,c=g*n.lineHeight+n.offsetY,this._settings.verticalAlign=="middle"?c+=(n.lineHeight-n.fontSize)/2:this._settings.verticalAlign=="bottom"&&(c+=n.lineHeight-n.fontSize),this._settings.textAlign==="right"?a+=n.innerWidth-i[g]:this._settings.textAlign==="center"&&(a+=(n.innerWidth-i[g])/2),a+=n.paddingLeft,d.push({text:o[g],x:a,y:c,w:i[g]});if(this._settings.highlight){const g=this._settings.highlightColor,w=this._settings.highlightHeight*t||n.fontSize*1.5,A=this._settings.highlightOffset*t,p=this._settings.highlightPaddingLeft!==null?this._settings.highlightPaddingLeft*t:n.paddingLeft,y=this._settings.highlightPaddingRight!==null?this._settings.highlightPaddingRight*t:n.paddingRight;this._context.fillStyle=Bn(g);for(let S=0;S<d.length;S++){const b=d[S];this._context.fillRect(b.x-p,b.y-n.offsetY+A,b.w+y+p,w)}}let u=null;this._settings.shadow&&(u=[this._context.shadowColor,this._context.shadowOffsetX,this._context.shadowOffsetY,this._context.shadowBlur],this._context.shadowColor=Bn(this._settings.shadowColor),this._context.shadowOffsetX=this._settings.shadowOffsetX*t,this._context.shadowOffsetY=this._settings.shadowOffsetY*t,this._context.shadowBlur=this._settings.shadowBlur*t),this._context.fillStyle=Bn(this._settings.textColor);for(let g=0,w=d.length;g<w;g++){const A=d[g];if(n.letterSpacing===0)this._context.fillText(A.text,A.x,A.y);else{const p=A.text.split("");let y=A.x;for(let S=0,b=p.length;S<b;S++)this._context.fillText(p[S],y,A.y),y+=this.measureText(p[S],n.letterSpacing)}}u&&(this._context.shadowColor=u[0],this._context.shadowOffsetX=u[1],this._context.shadowOffsetY=u[2],this._context.shadowBlur=u[3]),(n.cutSx||n.cutSy)&&this._context.translate(n.cutSx,n.cutSy),this.renderInfo=n}wrapWord(n,e,t){const o=this._context.measureText(t).width,i=n.length,s=this._context.measureText(n).width;if(s<=e)return n;let a=Math.floor(e*i/s),c=this._context.measureText(n.substring(0,a)).width+o;if(c>e)for(;a>0&&(c=this._context.measureText(n.substring(0,a)).width+o,c>e);)a-=1;else for(;a<i;)if(c=this._context.measureText(n.substring(0,a)).width+o,c<e)a+=1;else{a-=1;break}return n.substring(0,a)+(e>=o?t:"")}wrapText(n,e,t,o=0){const i=n.split(/\r?\n/g);let s=[];const a=[];for(let c=0;c<i.length;c++){const d=[];let u="",g=e-o;const w=i[c].split(" ");for(let A=0;A<w.length;A++){const p=this.measureText(w[A],t),y=p+this.measureText(" ",t);A===0||y>g?(A>0&&(d.push(u),u=""),u+=w[A],g=e-p-(A===0?o:0)):(g-=y,u+=" ".concat(w[A]))}d.push(u),u="",s=s.concat(d),c<i.length-1&&a.push(s.length)}return{l:s,n:a}}measureText(n,e=0){return e?n.split("").reduce((t,o)=>t+this._context.measureText(o).width+e,0):this._context.measureText(n).width}mergeDefaults(n){return{text:"",w:0,h:0,fontStyle:"normal",fontSize:40,fontFace:null,wordWrap:!0,wordWrapWidth:0,wordBreak:!1,textOverflow:"",lineHeight:null,textBaseline:"alphabetic",textAlign:"left",verticalAlign:"top",offsetY:null,maxLines:0,overflowSuffix:"...",textColor:[1,1,1,1],paddingLeft:0,paddingRight:0,shadow:!1,shadowColor:[0,0,0,1],shadowOffsetX:0,shadowOffsetY:0,shadowBlur:5,highlight:!1,highlightHeight:0,highlightColor:[0,0,0,1],highlightOffset:0,highlightPaddingLeft:0,highlightPaddingRight:0,letterSpacing:0,textIndent:0,cutSx:0,cutEx:0,cutSy:0,cutEy:0,advancedRenderer:!1,fontBaselineRatio:0,precision:1,textRenderIssueMargin:0,...n}}}const Lr=typeof self>"u"?globalThis:self;var yo;const Mr=((yo=Lr.document)==null?void 0:yo.fonts)||Lr.fonts;function as(r){const{fontFamily:n,fontStyle:e,fontWeight:t,fontStretch:o,fontSize:i}=r;return[e,t,o,"".concat(i,"px"),n].join(" ")}const ls=gt(0,0,0,0);class cs extends Do{constructor(e){super(e);h(this,"canvas");h(this,"context");h(this,"rendererBounds");typeof OffscreenCanvas<"u"?this.canvas=new OffscreenCanvas(0,0):this.canvas=document.createElement("canvas");let t=this.canvas.getContext("2d");t||(this.canvas=document.createElement("canvas"),t=this.canvas.getContext("2d")),L(t),this.context=t,this.rendererBounds={x1:0,y1:0,x2:this.stage.options.appWidth,y2:this.stage.options.appHeight}}getPropertySetters(){return{fontFamily:(e,t)=>{e.props.fontFamily=t,e.fontInfo=void 0,this.invalidateLayoutCache(e)},fontWeight:(e,t)=>{e.props.fontWeight=t,e.fontInfo=void 0,this.invalidateLayoutCache(e)},fontStyle:(e,t)=>{e.props.fontStyle=t,e.fontInfo=void 0,this.invalidateLayoutCache(e)},fontStretch:(e,t)=>{e.props.fontStretch=t,e.fontInfo=void 0,this.invalidateLayoutCache(e)},fontSize:(e,t)=>{e.props.fontSize=t,e.fontInfo=void 0,this.invalidateLayoutCache(e)},text:(e,t)=>{e.props.text=t,this.invalidateLayoutCache(e)},textAlign:(e,t)=>{e.props.textAlign=t,this.invalidateLayoutCache(e)},color:(e,t)=>{e.props.color=t,this.invalidateLayoutCache(e)},x:(e,t)=>{e.props.x=t,this.invalidateVisibleWindowCache(e)},y:(e,t)=>{e.props.y=t,this.invalidateVisibleWindowCache(e)},contain:(e,t)=>{e.props.contain=t,this.invalidateLayoutCache(e)},width:(e,t)=>{e.props.width=t,e.props.contain!=="none"&&this.invalidateLayoutCache(e)},height:(e,t)=>{e.props.height=t,e.props.contain==="both"&&this.invalidateLayoutCache(e)},offsetY:(e,t)=>{e.props.offsetY=t,this.invalidateLayoutCache(e)},scrollY:(e,t)=>{e.props.scrollY=t},letterSpacing:(e,t)=>{e.props.letterSpacing=t,this.invalidateLayoutCache(e)},lineHeight:(e,t)=>{e.props.lineHeight=t,this.invalidateLayoutCache(e)},maxLines:(e,t)=>{e.props.maxLines=t,this.invalidateLayoutCache(e)},textBaseline:(e,t)=>{e.props.textBaseline=t,this.invalidateLayoutCache(e)},verticalAlign:(e,t)=>{e.props.verticalAlign=t,this.invalidateLayoutCache(e)},overflowSuffix:(e,t)=>{e.props.overflowSuffix=t,this.invalidateLayoutCache(e)}}}canRenderFont(e){return!0}isFontFaceSupported(e){return e instanceof Er}addFontFace(e){L(e instanceof Er),Mr.add(e.fontFace)}createState(e){return{props:e,status:"initialState",updateScheduled:!1,emitter:new ot,canvasPages:void 0,lightning2TextRenderer:new ss(this.canvas,this.context),renderWindow:void 0,visibleWindow:{x1:0,y1:0,x2:0,y2:0,valid:!1},renderInfo:void 0,forceFullLayoutCalc:!1,textW:0,textH:0,fontInfo:void 0,fontFaceLoadedHandler:void 0,isRenderable:!1,debugData:{updateCount:0,layoutCount:0,drawCount:0,lastLayoutNumCharacters:0,layoutSum:0,drawSum:0,bufferSize:0}}}updateState(e){var p,y;if(e.status==="initialState"&&this.setStatus(e,"loading"),!e.fontInfo){const S=as(e.props);if(e.fontInfo={cssString:S,loaded:!1},!e.fontInfo.loaded){Mr.load(S).then(this.onFontLoaded.bind(this,e,S)).catch(this.onFontLoadError.bind(this,e,S));return}}if(!e.fontInfo.loaded)return;if(!e.renderInfo){const S=e.props.maxLines,b=e.props.contain==="both"?Math.floor((e.props.height-e.props.offsetY)/e.props.lineHeight):0,v=b>0&&S>0?Math.min(b,S):Math.max(b,S);e.lightning2TextRenderer.settings={text:e.props.text,textAlign:e.props.textAlign,fontFace:e.props.fontFamily,fontSize:e.props.fontSize,fontStyle:[e.props.fontStretch,e.props.fontStyle,e.props.fontWeight].join(" "),textColor:ke(e.props.color),offsetY:e.props.fontSize+e.props.offsetY,wordWrap:e.props.contain!=="none",wordWrapWidth:e.props.contain==="none"?void 0:e.props.width,letterSpacing:e.props.letterSpacing,lineHeight:e.props.lineHeight,maxLines:v,textBaseline:e.props.textBaseline,verticalAlign:e.props.verticalAlign,overflowSuffix:e.props.overflowSuffix},e.renderInfo=e.lightning2TextRenderer.calculateRenderInfo(),e.textH=e.renderInfo.lineHeight*e.renderInfo.lines.length,e.textW=e.renderInfo.width,e.renderWindow=void 0}const{x:t,y:o,width:i,height:s,scrollY:a,contain:c}=e.props,{visibleWindow:d}=e;let{renderWindow:u,canvasPages:g}=e;if(!d.valid){const S=gt(t,o,c!=="none"?t+i:1/0,c==="both"?o+s:1/0,ls);vi(this.rendererBounds,S,d),d.valid=!0}const w=d.y2-d.y1,A=Math.ceil(w/e.renderInfo.lineHeight);if(w===0){g=void 0,u=void 0,this.setStatus(e,"loaded");return}else if(u&&g){const S=t+u.x1,b=o-a+u.y1,v=t+u.x2,x=o-a+u.y2;if(S<=d.x1&&v>=d.x2&&b<=d.y1&&x>=d.y2){this.setStatus(e,"loaded");return}x<d.y2?(u.y1+=A*e.renderInfo.lineHeight,u.y2+=A*e.renderInfo.lineHeight,g.push(g.shift()),g[2].lineNumStart=g[1].lineNumStart+A,g[2].lineNumEnd=g[2].lineNumStart+A,g[2].valid=!1):b>d.y1&&(u.y1-=A*e.renderInfo.lineHeight,u.y2-=A*e.renderInfo.lineHeight,g.unshift(g.pop()),g[0].lineNumStart=g[1].lineNumStart-A,g[0].lineNumEnd=g[0].lineNumStart+A,g[0].valid=!1)}else{const S=e.renderInfo.lineHeight*A,b=Math.ceil(a/S),v=b*A,x=v-A,m=v+A;g=[{texture:g==null?void 0:g[0].texture,lineNumStart:x,lineNumEnd:x+A,valid:!1},{texture:g==null?void 0:g[1].texture,lineNumStart:v,lineNumEnd:v+A,valid:!1},{texture:g==null?void 0:g[2].texture,lineNumStart:m,lineNumEnd:m+A,valid:!1}],e.canvasPages=g;const C=b*S;u={x1:0,y1:C-S,x2:i,y2:C+S*2}}e.renderWindow=u,performance.now();for(const S of g)if(!S.valid){if(S.lineNumStart<0){(p=S.texture)==null||p.setRenderableOwner(e,!1),S.texture=this.stage.txManager.loadTexture("ImageTexture",{src:""}),S.texture.setRenderableOwner(e,e.isRenderable),S.valid=!0;continue}e.lightning2TextRenderer.draw(e.renderInfo,{lines:e.renderInfo.lines.slice(S.lineNumStart,S.lineNumEnd),lineWidths:e.renderInfo.lineWidths.slice(S.lineNumStart,S.lineNumEnd)}),this.canvas.width===0||this.canvas.height===0||((y=S.texture)==null||y.setRenderableOwner(e,!1),S.texture=this.stage.txManager.loadTexture("ImageTexture",{src:this.context.getImageData(0,0,this.canvas.width,this.canvas.height)},{preload:!0}),S.texture.setRenderableOwner(e,e.isRenderable)),S.valid=!0}this.setStatus(e,"loaded")}renderQuads(e,t,o,i){var T,_,k,z,F,P,O,D,Y,j,se,ne;const{stage:s}=this,{canvasPages:a,textW:c=0,textH:d=0,renderWindow:u}=e;if(!a||!u)return;const{x:g,y:w,scrollY:A,contain:p,width:y,height:S}=e.props,b={x:g,y:w,width:p!=="none"?y:c,height:p==="both"?S:d};nr({x:0,y:0,width:s.options.appWidth,height:s.options.appHeight},b),L(a,"canvasPages is not defined"),L(u,"renderWindow is not defined");const x=(u.y2-u.y1)/3,{zIndex:m,color:C}=e.props,I=i*wi(C),R=_t(4294967295,I);a[0].valid&&this.stage.renderer.addQuad({alpha:I,clippingRect:o,colorBl:R,colorBr:R,colorTl:R,colorTr:R,width:((_=(T=a[0].texture)==null?void 0:T.dimensions)==null?void 0:_.width)||0,height:((z=(k=a[0].texture)==null?void 0:k.dimensions)==null?void 0:z.height)||0,texture:a[0].texture,textureOptions:{},shader:null,shaderProps:null,zIndex:m,tx:t.tx,ty:t.ty-A+u.y1,ta:t.ta,tb:t.tb,tc:t.tc,td:t.td}),a[1].valid&&this.stage.renderer.addQuad({alpha:I,clippingRect:o,colorBl:R,colorBr:R,colorTl:R,colorTr:R,width:((P=(F=a[1].texture)==null?void 0:F.dimensions)==null?void 0:P.width)||0,height:((D=(O=a[1].texture)==null?void 0:O.dimensions)==null?void 0:D.height)||0,texture:a[1].texture,textureOptions:{},shader:null,shaderProps:null,zIndex:m,tx:t.tx,ty:t.ty-A+u.y1+x,ta:t.ta,tb:t.tb,tc:t.tc,td:t.td}),a[2].valid&&this.stage.renderer.addQuad({alpha:I,clippingRect:o,colorBl:R,colorBr:R,colorTl:R,colorTr:R,width:((j=(Y=a[2].texture)==null?void 0:Y.dimensions)==null?void 0:j.width)||0,height:((ne=(se=a[2].texture)==null?void 0:se.dimensions)==null?void 0:ne.height)||0,texture:a[2].texture,textureOptions:{},shader:null,shaderProps:null,zIndex:m,tx:t.tx,ty:t.ty-A+u.y1+x+x,ta:t.ta,tb:t.tb,tc:t.tc,td:t.td})}setIsRenderable(e,t){var o;super.setIsRenderable(e,t),(o=e.canvasPages)==null||o.forEach(i=>{var s;(s=i.texture)==null||s.setRenderableOwner(e,t)})}destroyState(e){var t;(t=e.canvasPages)==null||t.forEach(o=>{var i;(i=o.texture)==null||i.setRenderableOwner(e,!1)})}invalidateVisibleWindowCache(e){e.visibleWindow.valid=!1,this.setStatus(e,"loading"),this.scheduleUpdateState(e)}invalidateLayoutCache(e){e.renderInfo=void 0,e.visibleWindow.valid=!1,this.setStatus(e,"loading"),this.scheduleUpdateState(e)}onFontLoaded(e,t){var o;t!==((o=e.fontInfo)==null?void 0:o.cssString)||!e.fontInfo||(e.fontInfo.loaded=!0,this.scheduleUpdateState(e))}onFontLoadError(e,t,o){var i;t!==((i=e.fontInfo)==null?void 0:i.cssString)||!e.fontInfo||(e.fontInfo.loaded=!0,console.error("CanvasTextRenderer: Error loading font '".concat(e.fontInfo.cssString,"'"),o),this.scheduleUpdateState(e))}}class Oo extends Pt{constructor(n){super({renderer:n,attributes:["a_position","a_textureCoordinate","a_color"],uniforms:[{name:"u_resolution",uniform:"uniform2fv"},{name:"u_pixelRatio",uniform:"uniform1f"},{name:"u_texture",uniform:"uniform2fv"}]})}bindTextures(n){const{glw:e}=this;e.activeTexture(0),e.bindTexture(n[0].ctxTexture)}}h(Oo,"shaderSources",{vertex:"\n      # ifdef GL_FRAGMENT_PRESICISON_HIGH\n      precision highp float;\n      # else\n      precision mediump float;\n      # endif\n\n      attribute vec2 a_position;\n      attribute vec2 a_textureCoordinate;\n      attribute vec4 a_color;\n\n      uniform vec2 u_resolution;\n      uniform float u_pixelRatio;\n\n\n      varying vec4 v_color;\n      varying vec2 v_textureCoordinate;\n\n      void main() {\n        vec2 normalized = a_position * u_pixelRatio;\n        vec2 screenSpace = vec2(2.0 / u_resolution.x, -2.0 / u_resolution.y);\n\n        v_color = a_color;\n        v_textureCoordinate = a_textureCoordinate;\n\n        gl_Position = vec4(normalized.x * screenSpace.x - 1.0, normalized.y * -abs(screenSpace.y) + 1.0, 0.0, 1.0);\n        gl_Position.y = -sign(screenSpace.y) * gl_Position.y;\n      }\n    ",fragment:"\n      # ifdef GL_FRAGMENT_PRESICISON_HIGH\n      precision highp float;\n      # else\n      precision mediump float;\n      # endif\n\n      uniform vec2 u_resolution;\n      uniform sampler2D u_texture;\n\n      varying vec4 v_color;\n      varying vec2 v_textureCoordinate;\n\n      void main() {\n          vec4 color = texture2D(u_texture, v_textureCoordinate);\n          gl_FragColor = vec4(v_color) * texture2D(u_texture, v_textureCoordinate);\n      }\n    "});class Wo extends Pt{constructor(e){super({renderer:e,attributes:["a_position","a_textureCoordinate","a_color","a_textureIndex"],uniforms:[{name:"u_resolution",uniform:"uniform2fv"},{name:"u_pixelRatio",uniform:"uniform1f"},{name:"u_textures[0]",uniform:"uniform1iv"}]});h(this,"supportsIndexedTextures",!0)}bindTextures(e){const{renderer:t,glw:o}=this;if(e.length>t.system.parameters.MAX_VERTEX_TEXTURE_IMAGE_UNITS)throw new Error("DefaultShaderBatched: Cannot bind more than ".concat(t.system.parameters.MAX_VERTEX_TEXTURE_IMAGE_UNITS," textures"));e.forEach((s,a)=>{o.activeTexture(a),o.bindTexture(s.ctxTexture)});const i=Array.from(Array(e.length).keys());this.setUniform("u_textures[0]",i)}}h(Wo,"shaderSources",{vertex:"\n      # ifdef GL_FRAGMENT_PRESICISON_HIGH\n      precision highp float;\n      # else\n      precision mediump float;\n      # endif\n\n      attribute vec2 a_textureCoordinate;\n      attribute vec2 a_position;\n      attribute vec4 a_color;\n      attribute float a_textureIndex;\n      attribute float a_depth;\n\n      uniform vec2 u_resolution;\n      uniform float u_pixelRatio;\n\n      varying vec4 v_color;\n      varying vec2 v_textureCoordinate;\n      varying float v_textureIndex;\n\n      void main(){\n        vec2 normalized = a_position * u_pixelRatio / u_resolution;\n        vec2 zero_two = normalized * 2.0;\n        vec2 clip_space = zero_two - 1.0;\n\n        // pass to fragment\n        v_color = a_color;\n        v_textureCoordinate = a_textureCoordinate;\n        v_textureIndex = a_textureIndex;\n\n        // flip y\n        gl_Position = vec4(clip_space * vec2(1.0, -1.0), 0, 1);\n      }\n    ",fragment:e=>"\n      #define txUnits ".concat(e,"\n      # ifdef GL_FRAGMENT_PRESICISON_HIGH\n      precision highp float;\n      # else\n      precision mediump float;\n      # endif\n\n      uniform vec2 u_resolution;\n      uniform sampler2D u_image;\n      uniform sampler2D u_textures[txUnits];\n\n      varying vec4 v_color;\n      varying vec2 v_textureCoordinate;\n      varying float v_textureIndex;\n\n      vec4 sampleFromTexture(sampler2D textures[").concat(e,"], int idx, vec2 uv) {\n        ").concat(Array.from(Array(e).keys()).map(t=>"\n          ".concat(t!==0?"else ":"","if (idx == ").concat(t,") {\n            return texture2D(textures[").concat(t,"], uv);\n          }\n        ")).join(""),"\n        return texture2D(textures[0], uv);\n      }\n\n      void main(){\n        gl_FragColor = vec4(v_color) * sampleFromTexture(u_textures, int(v_textureIndex), v_textureCoordinate);\n      }\n    ")});const Ln=new Map,ds=(r,n)=>{const e=JSON.stringify(r);if(Ln.has(e))return Ln.get(e);const t=(r!=null?r:[]).map(o=>({type:o.type,props:n[o.type].resolveDefaults(o.props||{})}));return Ln.set(e,t),t},Ne=class Ne extends Pt{constructor(e,t,o){const i=Ne.createShader(t,o);super({renderer:e,attributes:["a_position","a_textureCoordinate","a_color"],uniforms:[{name:"u_resolution",uniform:"uniform2fv"},{name:"u_pixelRatio",uniform:"uniform1f"},{name:"u_texture",uniform:"uniform2fv"},{name:"u_dimensions",uniform:"uniform2fv"},{name:"u_alpha",uniform:"uniform1f"},...i.uniforms],shaderSources:{vertex:i.vertex,fragment:i.fragment}});h(this,"effects",[]);this.effects=i.effects,this.calculateProps=wo(this.calculateProps.bind(this))}bindTextures(e){const{glw:t}=this;t.activeTexture(0),t.bindTexture(e[0].ctxTexture)}calculateProps(e){const t=this.renderer.shManager.getRegisteredEffects(),o=[];return e==null||e.forEach((i,s)=>{var g;const a=this.effects[s],c=t[a.name],d=(g=i.props)!=null?g:{},u=a.uniformInfo;Object.keys(d).forEach(w=>{const A=c.uniforms[w],p=u[w];let y=A.validator?A.validator(d[w],d):d[w];Array.isArray(y)&&(y=new Float32Array(y)),o.push({name:p.name,value:y})})}),o}bindProps(e){this.calculateProps(e.effects).forEach(o=>{this.setUniform(o.name,o.value)})}canBatchShaderProps(e,t){if(e.$dimensions.width!==t.$dimensions.width||e.$dimensions.height!==t.$dimensions.height||e.effects.length!==t.effects.length)return!1;const o=e.effects.length;let i=0;for(;i<o;i++){const s=e.effects[i],a=t.effects[i];if(s.type!==a.type)return!1;for(const c in s.props)if(a.props&&!a.props[c]||s.props[c]!==a.props[c])return!1}return!0}static createShader(e,t){const o={},i={};let s="";const a=[],c=[],d=e.effects.map(p=>{const y=t[p.type],S=y.getEffectKey(p.props||{});o[S]=o[S]?++o[S]:1;const b=o[S];b===1&&c.push({key:S,type:p.type,props:p.props});const v=new y({ref:"".concat(S).concat(b===1?"":b),target:S,props:p.props});return s+=v.declaredUniforms,a.push(...Object.values(v.uniformInfo)),v});let u="";c==null||c.forEach(p=>{var R;const y=t[p.type],S=y.resolveDefaults((R=p.props)!=null?R:{}),b=[];for(const T in y.methods){let _=T;const k=y.methods[T];i[T]&&i[T]!==k&&(_=Ne.resolveMethodDuplicate(T,k,i)),i[_]=k.replace("function",_),b.push({m:T,cm:_})}let v=y.onShaderMask instanceof Function?y.onShaderMask(S):y.onShaderMask,x=y.onColorize instanceof Function?y.onColorize(S):y.onColorize,m=y.onEffectMask instanceof Function?y.onEffectMask(S):y.onEffectMask;b.forEach(T=>{const{m:_,cm:k}=T,z=new RegExp("\\$".concat(_),"g");v&&(v=v.replace(z,k)),x&&(x=x.replace(z,k)),m&&(m=m.replace(z,k))});const C=y.getMethodParameters(y.uniforms,S),I=C.length>0?", ".concat(C):"";v&&(u+="\n        float fx_".concat(p.key,"_onShaderMask(float shaderMask ").concat(I,") {\n          ").concat(v,"\n        }\n        ")),x&&(u+="\n          vec4 fx_".concat(p.key,"_onColorize(float shaderMask, vec4 maskColor, vec4 shaderColor").concat(I,") {\n            ").concat(x,"\n          }\n        ")),m&&(u+="\n          vec4 fx_".concat(p.key,"_onEffectMask(float shaderMask, vec4 maskColor, vec4 shaderColor").concat(I,") {\n            ").concat(m,"\n          }\n        "))});let g="";for(const p in i)g+=i[p];let w="mix(shaderColor, maskColor, clamp(-(lng_DefaultMask), 0.0, 1.0))",A="\n\n    ";for(let p=0;p<d.length;p++){const y=d[p],S=y.passParameters.length>0?", ".concat(y.passParameters):"",b=t[y.name];b.onShaderMask&&(A+="\n        shaderMask = fx_".concat(y.target,"_onShaderMask(shaderMask ").concat(S,");\n        ")),b.onColorize&&(A+="\n        maskColor = fx_".concat(y.target,"_onColorize(shaderMask, maskColor, shaderColor").concat(S,");\n        ")),b.onEffectMask&&(w="fx_".concat(y.target,"_onEffectMask(shaderMask, maskColor, shaderColor").concat(S,")"));const v=d[p+1];(v===void 0||t[v.name].onEffectMask)&&(A+="\n          shaderColor = ".concat(w,";\n        "))}return{effects:d,uniforms:a,fragment:Ne.fragment(s,g,u,A),vertex:Ne.vertex()}}static resolveMethodDuplicate(e,t,o,i=0){const s=e+(i>0?i:"");return o[s]&&o[s]!==t?this.resolveMethodDuplicate(e,t,o,++i):s}static resolveDefaults(e,t){return{effects:ds(e.effects,t),$dimensions:{width:0,height:0},$alpha:0}}static makeCacheKey(e,t){var i;let o="";return(i=e.effects)==null||i.forEach(s=>{const c=t[s.type].getEffectKey(s.props||{});o+=",".concat(c)}),"DynamicShader".concat(o)}};h(Ne,"z$__type__Props"),h(Ne,"vertex",()=>"\n    # ifdef GL_FRAGMENT_PRESICISON_HIGH\n    precision highp float;\n    # else\n    precision mediump float;\n    # endif\n\n    attribute vec2 a_textureCoordinate;\n    attribute vec2 a_position;\n    attribute vec4 a_color;\n    attribute float a_textureIndex;\n\n    uniform vec2 u_resolution;\n    uniform float u_pixelRatio;\n\n    varying vec4 v_color;\n    varying vec2 v_textureCoordinate;\n    varying float v_textureIndex;\n\n    void main(){\n      vec2 normalized = a_position * u_pixelRatio / u_resolution;\n      vec2 zero_two = normalized * 2.0;\n      vec2 clip_space = zero_two - 1.0;\n\n      // pass to fragment\n      v_color = a_color;\n      v_textureCoordinate = a_textureCoordinate;\n      v_textureIndex = a_textureIndex;\n\n      // flip y\n      gl_Position = vec4(clip_space * vec2(1.0, -1.0), 0, 1);\n    }\n  "),h(Ne,"fragment",(e,t,o,i)=>"\n    # ifdef GL_FRAGMENT_PRESICISON_HIGH\n    precision highp float;\n    # else\n    precision mediump float;\n    # endif\n\n    #define PI 3.14159265359\n\n    uniform vec2 u_resolution;\n    uniform vec2 u_dimensions;\n    uniform float u_alpha;\n    uniform float u_radius;\n    uniform sampler2D u_texture;\n    uniform float u_pixelRatio;\n\n    ".concat(e,"\n\n    varying vec4 v_color;\n    varying vec2 v_textureCoordinate;\n\n    ").concat(t,"\n\n    ").concat(o,"\n\n    void main() {\n      vec2 p = v_textureCoordinate.xy * u_dimensions - u_dimensions * 0.5;\n      vec2 d = abs(p) - (u_dimensions) * 0.5;\n      float lng_DefaultMask = min(max(d.x, d.y), 0.0) + length(max(d, 0.0));\n\n      vec4 shaderColor = vec4(0.0);\n      float shaderMask = lng_DefaultMask;\n\n      vec4 maskColor = texture2D(u_texture, v_textureCoordinate) * v_color;\n\n      shaderColor = mix(shaderColor, maskColor, clamp(-(lng_DefaultMask + 0.5), 0.0, 1.0));\n\n      ").concat(i,"\n\n      gl_FragColor = shaderColor * u_alpha;\n    }\n  "));let pt=Ne;class Un extends Pt{constructor(n){super({renderer:n,attributes:["a_position","a_textureCoordinate","a_color"],uniforms:[{name:"u_resolution",uniform:"uniform2fv"},{name:"u_pixelRatio",uniform:"uniform1f"},{name:"u_texture",uniform:"uniform2f"},{name:"u_dimensions",uniform:"uniform2fv"},{name:"u_radius",uniform:"uniform1f"}]})}static resolveDefaults(n){return{radius:n.radius||10,$dimensions:{width:0,height:0}}}bindTextures(n){const{glw:e}=this;e.activeTexture(0),e.bindTexture(n[0].ctxTexture)}bindProps(n){this.setUniform("u_radius",n.radius)}canBatchShaderProps(n,e){return n.radius===e.radius&&n.$dimensions.width===e.$dimensions.width&&n.$dimensions.height===e.$dimensions.height}}h(Un,"z$__type__Props"),h(Un,"shaderSources",{vertex:"\n      # ifdef GL_FRAGMENT_PRESICISON_HIGH\n      precision highp float;\n      # else\n      precision mediump float;\n      # endif\n\n      attribute vec2 a_position;\n      attribute vec2 a_textureCoordinate;\n      attribute vec4 a_color;\n      attribute float a_textureIndex;\n      attribute float a_depth;\n\n      uniform vec2 u_resolution;\n      uniform float u_pixelRatio;\n\n      varying vec4 v_color;\n      varying vec2 v_textureCoordinate;\n\n      void main() {\n        vec2 normalized = a_position * u_pixelRatio / u_resolution;\n        vec2 zero_two = normalized * 2.0;\n        vec2 clip_space = zero_two - 1.0;\n\n        // pass to fragment\n        v_color = a_color;\n        v_textureCoordinate = a_textureCoordinate;\n\n        // flip y\n        gl_Position = vec4(clip_space * vec2(1.0, -1.0), 0, 1);\n      }\n    ",fragment:"\n      # ifdef GL_FRAGMENT_PRESICISON_HIGH\n      precision highp float;\n      # else\n      precision mediump float;\n      # endif\n\n      uniform vec2 u_resolution;\n      uniform vec2 u_dimensions;\n      uniform float u_radius;\n      uniform sampler2D u_texture;\n\n      varying vec4 v_color;\n      varying vec2 v_textureCoordinate;\n\n      float boxDist(vec2 p, vec2 size, float radius){\n        size -= vec2(radius);\n        vec2 d = abs(p) - size;\n        return min(max(d.x, d.y), 0.0) + length(max(d, 0.0)) - radius;\n      }\n\n      float fillMask(float dist) {\n        return clamp(-dist, 0.0, 1.0);\n      }\n\n      void main() {\n        vec4 color = texture2D(u_texture, v_textureCoordinate) * v_color;\n        vec2 halfDimensions = u_dimensions * 0.5;\n\n        float d = boxDist(v_textureCoordinate.xy * u_dimensions - halfDimensions, halfDimensions + 0.5, u_radius);\n        gl_FragColor = mix(vec4(0.0), color, fillMask(d));\n      }\n    "});const us=new Float32Array([1,0,0,0,1,0,0,0,1]),bn=class bn extends Pt{constructor(n){super({renderer:n,attributes:["a_position","a_textureCoordinate"],uniforms:[{name:"u_resolution",uniform:"uniform2fv"},{name:"u_transform",uniform:"uniformMatrix3fv"},{name:"u_scrollY",uniform:"uniform1f"},{name:"u_pixelRatio",uniform:"uniform1f"},{name:"u_texture",uniform:"uniform2f"},{name:"u_color",uniform:"uniform4fv"},{name:"u_size",uniform:"uniform1f"},{name:"u_distanceRange",uniform:"uniform1f"},{name:"u_debug",uniform:"uniform1i"}]})}bindTextures(n){const{glw:e}=this;e.activeTexture(0),e.bindTexture(n[0].ctxTexture)}bindProps(n){const e=bn.resolveDefaults(n);for(const t in e)if(t==="transform")this.setUniform("u_transform",!1,e[t]);else if(t==="scrollY")this.setUniform("u_scrollY",e[t]);else if(t==="color"){const o=ke(e.color);this.setUniform("u_color",o)}else t==="size"?this.setUniform("u_size",e[t]):t==="distanceRange"?this.setUniform("u_distanceRange",e[t]):t==="debug"&&this.setUniform("u_debug",e[t]?1:0)}static resolveDefaults(n={}){var e,t,o,i,s,a;return{transform:(e=n.transform)!=null?e:us,scrollY:(t=n.scrollY)!=null?t:0,color:(o=n.color)!=null?o:4294967295,size:(i=n.size)!=null?i:16,distanceRange:(s=n.distanceRange)!=null?s:1,debug:(a=n.debug)!=null?a:!1}}};h(bn,"shaderSources",{vertex:"\n      // an attribute is an input (in) to a vertex shader.\n      // It will receive data from a buffer\n      attribute vec2 a_position;\n      attribute vec2 a_textureCoordinate;\n\n      uniform vec2 u_resolution;\n      uniform mat3 u_transform;\n      uniform float u_scrollY;\n      uniform float u_pixelRatio;\n      uniform float u_size;\n\n      varying vec2 v_texcoord;\n\n      void main() {\n        vec2 scrolledPosition = a_position * u_size - vec2(0, u_scrollY);\n        vec2 transformedPosition = (u_transform * vec3(scrolledPosition, 1)).xy;\n\n        // Calculate screen space with pixel ratio\n        vec2 screenSpace = (transformedPosition * u_pixelRatio / u_resolution * 2.0 - 1.0) * vec2(1, -1);\n\n        gl_Position = vec4(screenSpace, 0.0, 1.0);\n        v_texcoord = a_textureCoordinate;\n\n      }\n    ",fragment:"\n      precision highp float;\n\n      uniform vec4 u_color;\n      uniform sampler2D u_texture;\n      uniform float u_distanceRange;\n      uniform float u_pixelRatio;\n      uniform int u_debug;\n\n      varying vec2 v_texcoord;\n\n      float median(float r, float g, float b) {\n          return max(min(r, g), min(max(r, g), b));\n      }\n\n      void main() {\n          vec3 sample = texture2D(u_texture, v_texcoord).rgb;\n          if (u_debug == 1) {\n            gl_FragColor = vec4(sample.r, sample.g, sample.b, 1.0);\n            return;\n          }\n          float scaledDistRange = u_distanceRange * u_pixelRatio;\n          float sigDist = scaledDistRange * (median(sample.r, sample.g, sample.b) - 0.5);\n          float opacity = clamp(sigDist + 0.5, 0.0, 1.0) * u_color.a;\n\n          // Build the final color.\n          // IMPORTANT: We must premultiply the color by the alpha value before returning it.\n          gl_FragColor = vec4(u_color.r * opacity, u_color.g * opacity, u_color.b * opacity, opacity);\n      }\n    "});let Yn=bn;class at extends ie{constructor(){super(...arguments);h(this,"name","radius")}static getEffectKey(){return"radius"}static resolveDefaults(e){var t;return{radius:(t=e.radius)!=null?t:10}}}h(at,"z$__type__Props"),h(at,"uniforms",{radius:{value:0,method:"uniform4fv",type:"vec4",validator:e=>{let t=e;return Array.isArray(t)?t.length===2?t=[t[0],t[1],t[0],t[1]]:t.length===3?t=[t[0],t[1],t[2],t[0]]:t.length!==4&&(t=[t[0],t[0],t[0],t[0]]):typeof t=="number"&&(t=[t,t,t,t]),t}}}),h(at,"methods",{fillMask:"\n      float function(float dist) {\n        return clamp(-dist, 0.0, 1.0);\n      }\n    ",boxDist:"\n      float function(vec2 p, vec2 size, float radius) {\n        size -= vec2(radius);\n        vec2 d = abs(p) - size;\n        return min(max(d.x, d.y), 0.0) + length(max(d, 0.0)) - radius;\n      }\n    "}),h(at,"onShaderMask","\n  vec2 halfDimensions = u_dimensions * 0.5;\n  float r = radius[0] * step(v_textureCoordinate.x, 0.5) * step(v_textureCoordinate.y, 0.5);\n  r = r + radius[1] * step(0.5, v_textureCoordinate.x) * step(v_textureCoordinate.y, 0.5);\n  r = r + radius[2] * step(0.5, v_textureCoordinate.x) * step(0.5, v_textureCoordinate.y);\n  r = r + radius[3] * step(v_textureCoordinate.x, 0.5) * step(0.5, v_textureCoordinate.y);\n  return $boxDist(v_textureCoordinate.xy * u_dimensions - halfDimensions, halfDimensions, r);\n  "),h(at,"onEffectMask","\n  return mix(vec4(0.0), maskColor, $fillMask(shaderMask));\n  ");class Rt extends ie{constructor(){super(...arguments);h(this,"name","border")}static getEffectKey(){return"border"}static resolveDefaults(e){var t,o;return{width:(t=e.width)!=null?t:10,color:(o=e.color)!=null?o:4294967295}}}h(Rt,"z$__type__Props"),h(Rt,"uniforms",{width:{value:0,method:"uniform1f",type:"float"},color:{value:4294967295,validator:e=>ke(e),method:"uniform4fv",type:"vec4"}}),h(Rt,"onEffectMask","\n  float mask = clamp(shaderMask + width, 0.0, 1.0) - clamp(shaderMask, 0.0, 1.0);\n  return mix(shaderColor, mix(shaderColor, maskColor, maskColor.a), mask);\n  "),h(Rt,"onColorize","\n    return color;\n  ");const $e=class $e extends ie{constructor(){super(...arguments);h(this,"name","linearGradient")}static getEffectKey(e){return"linearGradient".concat(e.colors.length)}static resolveDefaults(e){var i,s;const t=(i=e.colors)!=null?i:[4278190080,4294967295];let o=e.stops||[];if(o.length===0||o.length!==t.length){const a=t.length;let c=0;const d=o;for(;c<a;c++)o[c]?(d[c]=o[c],o[c-1]===void 0&&d[c-2]!==void 0&&(d[c-1]=d[c-2]+(o[c]-d[c-2])/2)):d[c]=c*(1/(t.length-1));o=d}return{colors:t,stops:o,angle:(s=e.angle)!=null?s:0}}};h($e,"z$__type__Props"),h($e,"uniforms",{angle:{value:0,method:"uniform1f",type:"float"},colors:{value:4294967295,validator:e=>e.map(o=>ke(o)).reduce((o,i)=>o.concat(i),[]),size:e=>e.colors.length,method:"uniform4fv",type:"vec4"},stops:{value:[],size:e=>e.colors.length,method:"uniform1fv",type:"float"}}),h($e,"methods",{fromLinear:"\n      vec4 function(vec4 linearRGB) {\n        vec4 higher = vec4(1.055)*pow(linearRGB, vec4(1.0/2.4)) - vec4(0.055);\n        vec4 lower = linearRGB * vec4(12.92);\n        return mix(higher, lower, 1.0);\n      }\n    ",toLinear:"\n      vec4 function(vec4 sRGB) {\n        vec4 higher = pow((sRGB + vec4(0.055))/vec4(1.055), vec4(2.4));\n        vec4 lower = sRGB/vec4(12.92);\n        return mix(higher, lower, 1.0);\n      }\n    ",calcPoint:"\n      vec2 function(float d, float angle) {\n        return d * vec2(cos(angle), sin(angle)) + (u_dimensions * 0.5);\n      }\n    "}),h($e,"ColorLoop",e=>{let t="";for(let o=2;o<e;o++)t+="colorOut = mix(colorOut, colors[".concat(o,"], clamp((dist - stops[").concat(o-1,"]) / (stops[").concat(o,"] - stops[").concat(o-1,"]), 0.0, 1.0));");return t}),h($e,"onColorize",e=>{const t=e.colors.length||1;return"\n      float a = angle - (PI / 180.0 * 90.0);\n      float lineDist = abs(u_dimensions.x * cos(a)) + abs(u_dimensions.y * sin(a));\n      vec2 f = $calcPoint(lineDist * 0.5, a);\n      vec2 t = $calcPoint(lineDist * 0.5, a + PI);\n      vec2 gradVec = t - f;\n      float dist = dot(v_textureCoordinate.xy * u_dimensions - f, gradVec) / dot(gradVec, gradVec);\n\n      float stopCalc = (dist - stops[0]) / (stops[1] - stops[0]);\n      vec4 colorOut = $fromLinear(mix($toLinear(colors[0]), $toLinear(colors[1]), stopCalc));\n      ".concat($e.ColorLoop(t),"\n      return mix(maskColor, colorOut, clamp(colorOut.a, 0.0, 1.0));\n    ")});let $n=$e;class Hn extends ie{constructor(){super(...arguments);h(this,"name","grayscale")}static getEffectKey(){return"grayscale"}static resolveDefaults(e){var t;return{amount:(t=e.amount)!=null?t:1}}}h(Hn,"uniforms",{amount:{value:1,method:"uniform1f",type:"float"}}),h(Hn,"onColorize","\n    float grayness = 0.2 * maskColor.r + 0.6 * maskColor.g + 0.2 * maskColor.b;\n    return vec4(amount * vec3(grayness) + (1.0 - amount) * maskColor.rgb, maskColor.a);\n  ");class lt extends ie{constructor(){super(...arguments);h(this,"name","borderRight")}static getEffectKey(){return"borderRight"}static resolveDefaults(e){var t,o;return{width:(t=e.width)!=null?t:10,color:(o=e.color)!=null?o:4294967295}}}h(lt,"z$__type__Props"),h(lt,"uniforms",{width:{value:0,method:"uniform1f",type:"float"},color:{value:4294967295,validator:e=>ke(e),method:"uniform4fv",type:"vec4"}}),h(lt,"methods",{fillMask:"\n      float function(float dist) {\n        return clamp(-dist, 0.0, 1.0);\n      }\n    ",rectDist:"\n      float function(vec2 p, vec2 size) {\n        vec2 d = abs(p) - size;\n        return min(max(d.x, d.y), 0.0) + length(max(d, 0.0));\n      }\n    "}),h(lt,"onEffectMask","\n  vec2 pos = vec2(u_dimensions.x - width * 0.5, 0.0);\n  float mask = $rectDist(v_textureCoordinate.xy * u_dimensions - pos, vec2(width*0.5, u_dimensions.y));\n  return mix(shaderColor, maskColor, $fillMask(mask));\n  "),h(lt,"onColorize","\n    return color;\n  ");class ct extends ie{constructor(){super(...arguments);h(this,"name","borderTop")}static getEffectKey(){return"borderTop"}static resolveDefaults(e){var t,o;return{width:(t=e.width)!=null?t:10,color:(o=e.color)!=null?o:4294967295}}}h(ct,"z$__type__Props"),h(ct,"uniforms",{width:{value:0,method:"uniform1f",type:"float"},color:{value:4294967295,validator:e=>ke(e),method:"uniform4fv",type:"vec4"}}),h(ct,"methods",{fillMask:"\n      float function(float dist) {\n        return clamp(-dist, 0.0, 1.0);\n      }\n    ",rectDist:"\n      float function(vec2 p, vec2 size) {\n        vec2 d = abs(p) - size;\n        return min(max(d.x, d.y), 0.0) + length(max(d, 0.0));\n      }\n    "}),h(ct,"onEffectMask","\n  vec2 pos = vec2(0.0, width * 0.5);\n  float mask = $rectDist(v_textureCoordinate.xy * u_dimensions - pos, vec2(u_dimensions.x, width*0.5));\n  return mix(shaderColor, maskColor, $fillMask(mask));\n  "),h(ct,"onColorize","\n    return color;\n  ");class dt extends ie{constructor(){super(...arguments);h(this,"name","borderBottom")}static getEffectKey(){return"borderBottom"}static resolveDefaults(e){var t,o;return{width:(t=e.width)!=null?t:10,color:(o=e.color)!=null?o:4294967295}}}h(dt,"z$__type__Props"),h(dt,"uniforms",{width:{value:0,method:"uniform1f",type:"float"},color:{value:4294967295,validator:e=>ke(e),method:"uniform4fv",type:"vec4"}}),h(dt,"methods",{fillMask:"\n      float function(float dist) {\n        return clamp(-dist, 0.0, 1.0);\n      }\n    ",rectDist:"\n      float function(vec2 p, vec2 size) {\n        vec2 d = abs(p) - size;\n        return min(max(d.x, d.y), 0.0) + length(max(d, 0.0));\n      }\n    "}),h(dt,"onEffectMask","\n  vec2 pos = vec2(0.0, u_dimensions.y - width * 0.5);\n  float mask = $rectDist(v_textureCoordinate.xy * u_dimensions - pos, vec2(u_dimensions.x, width*0.5));\n  return mix(shaderColor, maskColor, $fillMask(mask));\n  "),h(dt,"onColorize","\n    return color;\n  ");class ut extends ie{constructor(){super(...arguments);h(this,"name","borderLeft")}static getEffectKey(){return"borderLeft"}static resolveDefaults(e){var t,o;return{width:(t=e.width)!=null?t:10,color:(o=e.color)!=null?o:4294967295}}}h(ut,"z$__type__Props"),h(ut,"uniforms",{width:{value:0,method:"uniform1f",type:"float"},color:{value:4294967295,validator:e=>ke(e),method:"uniform4fv",type:"vec4"}}),h(ut,"methods",{fillMask:"\n      float function(float dist) {\n        return clamp(-dist, 0.0, 1.0);\n      }\n    ",rectDist:"\n      float function(vec2 p, vec2 size) {\n        vec2 d = abs(p) - size;\n        return min(max(d.x, d.y), 0.0) + length(max(d, 0.0));\n      }\n    "}),h(ut,"onEffectMask","\n  vec2 pos = vec2(width * 0.5, 0.0);\n  float mask = $rectDist(v_textureCoordinate.xy * u_dimensions - pos, vec2(width*0.5, u_dimensions.y));\n  return mix(shaderColor, maskColor, $fillMask(mask));\n  "),h(ut,"onColorize","\n    return color;\n  ");class It extends ie{constructor(){super(...arguments);h(this,"name","glitch")}static getEffectKey(e){return"glitch"}static resolveDefaults(e){var t,o,i,s,a;return{amplitude:(t=e.amplitude)!=null?t:.2,narrowness:(o=e.narrowness)!=null?o:4,blockiness:(i=e.blockiness)!=null?i:2,minimizer:(s=e.minimizer)!=null?s:8,time:(a=e.time)!=null?a:Date.now()}}}h(It,"z$__type__Props"),h(It,"uniforms",{amplitude:{value:0,method:"uniform1f",type:"float"},narrowness:{value:0,method:"uniform1f",type:"float"},blockiness:{value:0,method:"uniform1f",type:"float"},minimizer:{value:0,method:"uniform1f",type:"float"},time:{value:0,method:"uniform1f",validator:e=>(Date.now()-e)%1e3,type:"float"}}),h(It,"methods",{rand:"\n      float function(vec2 p, float time) {\n        float t = floor(time * 20.) / 10.;\n        return fract(sin(dot(p, vec2(t * 12.9898, t * 78.233))) * 43758.5453);\n      }\n    ",noise:"\n      float function(vec2 uv, float blockiness, float time) {\n        vec2 lv = fract(uv);\n        vec2 id = floor(uv);\n\n        float n1 = rand(id, time);\n        float n2 = rand(id+vec2(1,0), time);\n        float n3 = rand(id+vec2(0,1), time);\n        float n4 = rand(id+vec2(1,1), time);\n        vec2 u = smoothstep(0.0, 1.0 + blockiness, lv);\n        return mix(mix(n1, n2, u.x), mix(n3, n4, u.x), u.y);\n      }\n    ",fbm:"\n      float function(vec2 uv, int count, float blockiness, float complexity, float time) {\n        float val = 0.0;\n        float amp = 0.5;\n        const int MAX_ITERATIONS = 10;\n\n        for(int i = 0; i < MAX_ITERATIONS; i++) {\n          if(i >= count) {break;}\n          val += amp * noise(uv, blockiness, time);\n          amp *= 0.5;\n          uv *= complexity;\n        }\n        return val;\n      }\n    "}),h(It,"onColorize","\n    vec2 uv = v_textureCoordinate.xy;\n    float aspect = u_dimensions.x / u_dimensions.y;\n    vec2 a = vec2(uv.x * aspect , uv.y);\n    vec2 uv2 = vec2(a.x / u_dimensions.x, exp(a.y));\n\n    float shift = amplitude * pow($fbm(uv2, 4, blockiness, narrowness, time), minimizer);\n    float colR = texture2D(u_texture, vec2(uv.x + shift, uv.y)).r * (1. - shift);\n    float colG = texture2D(u_texture, vec2(uv.x - shift, uv.y)).g * (1. - shift);\n    float colB = texture2D(u_texture, vec2(uv.x - shift, uv.y)).b * (1. - shift);\n\n    vec3 f = vec3(colR, colG, colB);\n    return vec4(f, texture2D(u_texture, vec2(uv.x - shift, uv.y)).a);\n  ");class an extends ie{constructor(){super(...arguments);h(this,"name","fadeOut")}static getEffectKey(){return"fadeOut"}static resolveDefaults(e){var t;return{fade:(t=e.fade)!=null?t:10}}}h(an,"z$__type__Props"),h(an,"uniforms",{fade:{value:0,method:"uniform4fv",type:"vec4",validator:e=>{let t=e;return Array.isArray(t)?t.length===2?t=[t[0],t[1],t[0],t[1]]:t.length===3?t=[t[0],t[1],t[2],t[0]]:t.length!==4&&(t=[t[0],t[0],t[0],t[0]]):typeof t=="number"&&(t=[t,t,t,t]),t}}}),h(an,"onColorize","\n  vec2 point = v_textureCoordinate.xy * u_dimensions.xy;\n  vec2 pos1;\n  vec2 pos2;\n  vec2 d;\n  float c;\n  vec4 result = maskColor;\n\n\n  if(fade[0] > 0.0) {\n    pos1 = vec2(point.x, point.y);\n    pos2 = vec2(point.x, point.y + fade[0]);\n    d = pos2 - pos1;\n    c = dot(pos1, d) / dot(d, d);\n    result = mix(vec4(0.0), result, smoothstep(0.0, 1.0, clamp(c, 0.0, 1.0)));\n  }\n\n  if(fade[1] > 0.0) {\n    pos1 = vec2(point.x - u_dimensions.x - fade[1], v_textureCoordinate.y);\n    pos2 = vec2(point.x - u_dimensions.x, v_textureCoordinate.y);\n    d = pos1 - pos2;\n    c = dot(pos2, d) / dot(d, d);\n    result = mix(vec4(0.0), result, smoothstep(0.0, 1.0, clamp(c, 0.0, 1.0)));\n  }\n\n  if(fade[2] > 0.0) {\n    pos1 = vec2(v_textureCoordinate.x, point.y - u_dimensions.y - fade[2]);\n    pos2 = vec2(v_textureCoordinate.x, point.y - u_dimensions.y);\n    d = pos1 - pos2;\n    c = dot(pos2, d) / dot(d, d);\n    result = mix(vec4(0.0), result, smoothstep(0.0, 1.0, clamp(c, 0.0, 1.0)));\n  }\n\n  if(fade[3] > 0.0) {\n    pos1 = vec2(point.x, point.y);\n    pos2 = vec2(point.x + fade[3], point.y);\n    d = pos2 - pos1;\n    c = dot(pos1, d) / dot(d, d);\n    result = mix(vec4(0.0), result, smoothstep(0.0, 1.0, clamp(c, 0.0, 1.0)));\n  }\n\n  return result;\n  ");const Je=class Je extends ie{constructor(){super(...arguments);h(this,"name","radialGradient")}static getEffectKey(e){return"radialGradient".concat(e.colors.length)}static resolveDefaults(e){var i,s,a,c,d;const t=(i=e.colors)!=null?i:[4278190080,4294967295];let o=e.stops||[];if(o.length===0||o.length!==t.length){const u=t.length;let g=0;const w=o;for(;g<u;g++)o[g]?(w[g]=o[g],o[g-1]===void 0&&w[g-2]!==void 0&&(w[g-1]=w[g-2]+(o[g]-w[g-2])/2)):w[g]=g*(1/(t.length-1));o=w}return{colors:t,stops:o,width:(s=e.width)!=null?s:0,height:(c=(a=e.height)!=null?a:e.width)!=null?c:0,pivot:(d=e.pivot)!=null?d:[.5,.5]}}};h(Je,"z$__type__Props"),h(Je,"uniforms",{width:{value:0,method:"uniform1f",type:"float"},height:{value:0,method:"uniform1f",type:"float"},pivot:{value:[.5,.5],method:"uniform2fv",type:"vec2"},colors:{value:4294967295,validator:e=>e.map(o=>ke(o)).reduce((o,i)=>o.concat(i),[]),size:e=>e.colors.length,method:"uniform4fv",type:"vec4"},stops:{value:[],size:e=>e.colors.length,method:"uniform1fv",type:"float"}}),h(Je,"ColorLoop",e=>{let t="";for(let o=2;o<e;o++)t+="colorOut = mix(colorOut, colors[".concat(o,"], clamp((dist - stops[").concat(o-1,"]) / (stops[").concat(o,"] - stops[").concat(o-1,"]), 0.0, 1.0));");return t}),h(Je,"onColorize",e=>{const t=e.colors.length||1;return"\n      vec2 point = v_textureCoordinate.xy * u_dimensions;\n      vec2 projection = vec2(pivot.x * u_dimensions.x, pivot.y * u_dimensions.y);\n\n      float dist = length((point - projection) / vec2(width, height));\n\n      float stopCalc = (dist - stops[0]) / (stops[1] - stops[0]);\n      vec4 colorOut = mix(colors[0], colors[1], stopCalc);\n      ".concat(Je.ColorLoop(t),"\n      return mix(maskColor, colorOut, clamp(colorOut.a, 0.0, 1.0));\n    ")});let jn=Je;class ht extends ie{constructor(){super(...arguments);h(this,"name","radialProgress")}static getEffectKey(){return"radialProgress"}static resolveDefaults(e){var t,o,i,s,a,c,d;return{width:(t=e.width)!=null?t:10,progress:(o=e.progress)!=null?o:.5,offset:(i=e.offset)!=null?i:0,range:(s=e.range)!=null?s:Math.PI*2,rounded:(a=e.rounded)!=null?a:!1,radius:(c=e.radius)!=null?c:1,color:(d=e.color)!=null?d:4294967295}}}h(ht,"z$__type__Props"),h(ht,"uniforms",{width:{value:0,method:"uniform1f",type:"float"},progress:{value:.5,method:"uniform1f",type:"float"},offset:{value:0,method:"uniform1f",type:"float"},range:{value:0,method:"uniform1f",type:"float"},rounded:{value:0,method:"uniform1f",type:"float",validator:e=>e?1:0},radius:{value:1,method:"uniform1f",type:"float"},color:{value:4294967295,validator:e=>ke(e),method:"uniform4fv",type:"vec4"}}),h(ht,"methods",{rotateUV:"\n    vec2 function(vec2 uv, float d) {\n      float s = sin(d);\n      float c = cos(d);\n      mat2 rotMatrix = mat2(c, -s, s, c);\n      return uv * rotMatrix;\n    }\n    ",drawDot:"\n    float function(vec2 uv, vec2 p, float r) {\n      uv += p;\n      float circle = length(uv) - r;\n      return clamp(-circle, 0.0, 1.0);\n    }\n    "}),h(ht,"onEffectMask","\n    float outerRadius = radius * u_dimensions.y * 0.5;\n\n    float endAngle = range * progress - 0.0005;\n\n    vec2 uv = v_textureCoordinate.xy * u_dimensions.xy - u_dimensions * 0.5;\n\n    uv = $rotateUV(uv, -(offset));\n    float linewidth = width * u_pixelRatio;\n    float circle = length(uv) - (outerRadius - linewidth) ;\n    circle = abs(circle) - linewidth;\n    circle = clamp(-circle, 0.0, 1.0);\n\n    float angle = (atan(uv.x, -uv.y) / 3.14159265359 * 0.5);\n    float p = endAngle / (PI * 2.);\n\n    circle *= step(fract(angle), fract(p));\n\n    circle = rounded < 1. ? circle : max(circle, $drawDot(uv, vec2(0, outerRadius - linewidth), linewidth));\n    circle = rounded < 1. ? circle : max(circle, $drawDot($rotateUV(uv, -(endAngle)), vec2(0, outerRadius - linewidth), linewidth));\n\n    return mix(shaderColor, maskColor, circle);\n  "),h(ht,"onColorize","\n    return color;\n  ");class ft extends ie{constructor(){super(...arguments);h(this,"name","holePunch")}static getEffectKey(){return"holePunch"}static resolveDefaults(e){var t;return{x:e.x||0,y:e.y||0,width:e.width||50,height:e.height||50,radius:(t=e.radius)!=null?t:0}}}h(ft,"z$__type__Props"),h(ft,"uniforms",{x:{value:0,method:"uniform1f",type:"float"},y:{value:0,method:"uniform1f",type:"float"},width:{value:0,method:"uniform1f",type:"float"},height:{value:0,method:"uniform1f",type:"float"},radius:{value:0,method:"uniform4fv",type:"vec4",validator:e=>{let t=e;return Array.isArray(t)?t.length===2?t=[t[0],t[1],t[0],t[1]]:t.length===3?t=[t[0],t[1],t[2],t[0]]:t.length!==4&&(t=[t[0],t[0],t[0],t[0]]):typeof t=="number"&&(t=[t,t,t,t]),t}}}),h(ft,"methods",{fillMask:"\n      float function(float dist) {\n        return clamp(-dist, 0.0, 1.0);\n      }\n    ",boxDist:"\n      float function(vec2 p, vec2 size, float radius) {\n        size -= vec2(radius);\n        vec2 d = abs(p) - size;\n        return min(max(d.x, d.y), 0.0) + length(max(d, 0.0)) - radius;\n      }\n    "}),h(ft,"onShaderMask","\n  vec2 halfDimensions = u_dimensions * 0.5;\n  vec2 size = vec2(width, height) * 0.5;\n  vec2 basePos = v_textureCoordinate.xy * u_dimensions.xy - vec2(x, y);\n  vec2 pos = basePos - size;\n  float r = radius[0] * step(pos.x, 0.5) * step(pos.y, 0.5);\n  r = r + radius[1] * step(0.5, pos.x) * step(pos.y, 0.5);\n  r = r + radius[2] * step(0.5, pos.x) * step(0.5, pos.y);\n  r = r + radius[3] * step(pos.x, 0.5) * step(0.5, pos.y);\n  return $boxDist(pos, size, r);\n  "),h(ft,"onEffectMask","\n  return mix(maskColor, vec4(0.0), $fillMask(shaderMask));\n  ");class hs{constructor(){h(this,"shCache",new Map);h(this,"shConstructors",{});h(this,"attachedShader",null);h(this,"effectConstructors",{});h(this,"renderer");this.registerShaderType("DefaultShader",Oo),this.registerShaderType("DefaultShaderBatched",Wo),this.registerShaderType("RoundedRectangle",Un),this.registerShaderType("DynamicShader",pt),this.registerShaderType("SdfShader",Yn),this.registerEffectType("border",Rt),this.registerEffectType("borderBottom",dt),this.registerEffectType("borderLeft",ut),this.registerEffectType("borderRight",lt),this.registerEffectType("borderTop",ct),this.registerEffectType("fadeOut",an),this.registerEffectType("linearGradient",$n),this.registerEffectType("radialGradient",jn),this.registerEffectType("grayscale",Hn),this.registerEffectType("glitch",It),this.registerEffectType("radius",at),this.registerEffectType("radialProgress",ht),this.registerEffectType("holePunch",ft)}registerShaderType(n,e){this.shConstructors[n]=e}registerEffectType(n,e){this.effectConstructors[n]=e}getRegisteredEffects(){return this.effectConstructors}getRegisteredShaders(){return this.shConstructors}loadShader(n,e){if(!this.renderer)throw new Error("Renderer is not been defined");const t=this.shConstructors[n];if(!t)throw new Error('Shader type "'.concat(n,'" is not registered'));if(n==="DynamicShader")return this.loadDynamicShader(e);const o=t.resolveDefaults(e),i=t.makeCacheKey(o)||t.name;if(i&&this.shCache.has(i))return{shader:this.shCache.get(i),props:o};const s=new t(this.renderer,e);return i&&this.shCache.set(i,s),{shader:s,props:o}}loadDynamicShader(n){if(!this.renderer)throw new Error("Renderer is not been defined");const e=pt.resolveDefaults(n,this.effectConstructors),t=pt.makeCacheKey(e,this.effectConstructors);if(t&&this.shCache.has(t))return{shader:this.shCache.get(t),props:e};const o=new pt(this.renderer,n,this.effectConstructors);return t&&this.shCache.set(t,o),{shader:o,props:e}}useShader(n){this.attachedShader!==n&&(this.attachedShader&&this.attachedShader.detach(),n.attach(),this.attachedShader=n)}}class fs{constructor(){h(this,"data",{})}reset(){this.data={}}increment(n){this.data[n]||(this.data[n]=0),this.data[n]++}getData(){return{...this.data}}}function gs(r){return/\.(ktx|pvr)$/.test(r)}const ps=async r=>{const e=await(await fetch(r)).arrayBuffer();return r.indexOf(".ktx")!==-1?ms(e):xs(e)},ms=async r=>{const n=new DataView(r),e=n.getUint32(12)===16909060,t=[],o={glInternalFormat:n.getUint32(28,e),pixelWidth:n.getUint32(36,e),pixelHeight:n.getUint32(40,e),numberOfMipmapLevels:n.getUint32(56,e),bytesOfKeyValueData:n.getUint32(60,e)};let i=64;i+=o.bytesOfKeyValueData;for(let s=0;s<o.numberOfMipmapLevels;s++){const a=n.getUint32(i);i+=4,t.push(n.buffer.slice(i,a)),i+=a}return{data:{glInternalFormat:o.glInternalFormat,mipmaps:t,width:o.pixelWidth||0,height:o.pixelHeight||0,type:"ktx"},premultiplyAlpha:!1}},xs=async r=>{const a=r,c=new Int32Array(a,0,13),d=c[12]+52,u=new Uint8Array(a,d),g=[],w={pixelWidth:c[7],pixelHeight:c[6],numberOfMipmapLevels:c[11]||0};let A=0,p=w.pixelWidth||0,y=w.pixelHeight||0;for(let S=0;S<w.numberOfMipmapLevels;S++){const b=(p+3>>2)*(y+3>>2)*8,v=new Uint8Array(a,u.byteOffset+A,b);g.push(v),A+=b,p=p>>1,y=y>>1}return{data:{glInternalFormat:36196,mipmaps:g,width:w.pixelWidth||0,height:w.pixelHeight||0,type:"pvr"},premultiplyAlpha:!1}},Lt=class Lt extends bo{constructor(e,t){super(e);h(this,"props");this.props=Lt.resolveDefaults(t)}hasAlphaChannel(e){return e.indexOf("image/png")!==-1}async getTextureData(){const{src:e,premultiplyAlpha:t}=this.props;if(!e)return{data:null};if(e instanceof ImageData)return{data:e,premultiplyAlpha:t};if(gs(e))return ps(e);if(this.txManager.imageWorkerManager)return await this.txManager.imageWorkerManager.getImage(e,t);if(this.txManager.hasCreateImageBitmap){const i=await(await fetch(e)).blob(),s=t!=null?t:this.hasAlphaChannel(i.type);return{data:await createImageBitmap(i,{premultiplyAlpha:s?"premultiply":"none",colorSpaceConversion:"none",imageOrientation:"none"}),premultiplyAlpha:s}}else{const o=new Image;return e.substr(0,5)!="data:"&&(o.crossOrigin="Anonymous"),o.src=e,await new Promise((i,s)=>{o.onload=()=>i(),o.onerror=()=>s(new Error("Failed to load image"))}).catch(i=>{console.error(i)}),{data:o,premultiplyAlpha:t!=null?t:!0}}}static makeCacheKey(e){const t=Lt.resolveDefaults(e);return t.src instanceof ImageData?!1:"ImageTexture,".concat(t.src,",").concat(t.premultiplyAlpha)}static resolveDefaults(e){var t,o;return{src:(t=e.src)!=null?t:"",premultiplyAlpha:(o=e.premultiplyAlpha)!=null?o:!0}}};h(Lt,"z$__type__Props");let Qn=Lt;const ys=24;function vs(r,n,e,t,o,i,s,a,c){const d=Math.min(Math.max(s.firstLineIdx,0),a.length),u=0;let g=0;t==="middle"?g=(n-r)/2:t==="bottom"&&(g=n-r);const A=o/i+d*n+g;if(!(c&&A>=c/i))return{sdfX:u,sdfY:A,lineIndex:d}}class Bt{constructor(n,e=0){h(this,"iterator");h(this,"peekBuffer",[]);h(this,"_lastIndex");this.iterator=n,this.iterator=n,this._lastIndex=e-1,this.peekBuffer=[]}next(){const n=this.peekBuffer.length>0?this.peekBuffer.pop():this.iterator.next();return n.done?this._lastIndex=-1:this._lastIndex++,n}peek(){if(this.peekBuffer.length>0)return this.peekBuffer[0];const n=this.iterator.next();return this.peekBuffer.push(n),n}get lastIndex(){return this._lastIndex}}function*kt(r,n=0){let e=n;for(;e<r.length;){const t=r.codePointAt(e);if(t===void 0)throw new Error("Invalid Unicode code point");yield t,e+=t<=65535?1:2}}function ws(r,n,e){const t=e.shapeText(n,new Bt(kt(r,0),0));let o=0;for(const i of t)i.mapped&&(o+=i.xAdvance);return o}function bs(r,n,e,t,o,i,s,a,c,d,u,g,w,A,p,y,S,b,v){L(p,"Font face must be loaded"),L(p.loaded,"Font face must be loaded"),L(p.data,"Font face must be loaded"),L(p.shaper,"Font face must be loaded");const x=a/p.data.info.size,m=c/x,C=i/x,I=d/x,R=w[r],T=(R==null?void 0:R.codepointIndex)||0,_=(R==null?void 0:R.maxX)||0,k=(R==null?void 0:R.maxY)||0;let z=_,F=k,P=n,O=e,D=0;const Y={codepointIndex:-1,bufferOffset:-1,xStart:-1},j=p.shaper,se={letterSpacing:I};let ne=j.shapeText(se,new Bt(kt(t,T),T)),de,Ce=-1;const Pe=[],Wt=s/x,Ut=ws(b,se,j);let Ke=!0;for(;Ke;){const Se=(v===0||r+1<v)&&(g!=="both"||S||O+m+p.maxCharHeight<=Wt),me=Se?C:C-Ut;let re=0;const De=O+m>=A.y1,Oe=O<=A.y2,xe=De&&Oe;for(;(de=ne.next())&&!de.done;){const K=de.value;if(r===w.length)w.push({codepointIndex:K.cluster,maxY:F,maxX:z});else if(r>w.length)throw new Error("Unexpected lineCache length");if(K.codepoint===32||K.codepoint===10?Y.codepointIndex!==-1&&(Y.codepointIndex=-1,re=P):Y.codepointIndex===-1&&(Y.codepointIndex=K.cluster,Y.bufferOffset=D,Y.xStart=re),K.mapped){const Yt=P+K.xOffset+K.width;if(g!=="none"&&Yt>=me&&Y.codepointIndex!==-1&&Y.xStart>0)if(Se){ne=j.shapeText(se,new Bt(kt(t,Y.codepointIndex),Y.codepointIndex)),D=Y.bufferOffset;break}else ne=j.shapeText(se,new Bt(kt(b,0),0)),P=Y.xStart,D=Y.bufferOffset,g="none";else{const We=P+K.xOffset,Ue=O+K.yOffset;if(xe){Ce===-1&&(Ce=D);const Ve=p.getAtlasEntry(K.glyphId),Ge=Ve.x/p.data.common.scaleW,qe=Ve.y/p.data.common.scaleH,wt=Ve.width/p.data.common.scaleW,bt=Ve.height/p.data.common.scaleH;u[D++]=We,u[D++]=Ue,u[D++]=Ge,u[D++]=qe,u[D++]=We+K.width,u[D++]=Ue,u[D++]=Ge+wt,u[D++]=qe,u[D++]=We,u[D++]=Ue+K.height,u[D++]=Ge,u[D++]=qe+bt,u[D++]=We+K.width,u[D++]=Ue+K.height,u[D++]=Ge+wt,u[D++]=qe+bt}F=Math.max(F,Ue+K.height),z=Math.max(z,We+K.width),P+=K.xAdvance}}else if(K.codepoint===10){if(Se)break;ne=j.shapeText(se,new Bt(kt(b,0),0)),g="none"}}Ce!==-1&&(Pe.push({bufferStart:Ce,bufferEnd:D}),Ce=-1),P=0,O+=m,r++,Y.codepointIndex=-1,re=0,!y&&g==="both"&&O>A.y2||de&&de.done?Ke=!1:Se||(Ke=!1)}if(o==="center"){const Se=g==="none"?z:C;for(let me=0;me<Pe.length;me++){const re=Pe[me],De=u[re.bufferEnd-4]-u[re.bufferStart],Oe=(Se-De)/2;for(let xe=re.bufferStart;xe<re.bufferEnd;xe+=4)u[xe]+=Oe}}else if(o==="right"){const Se=g==="none"?z:C;for(let me=0;me<Pe.length;me++){const re=Pe[me],De=re.bufferEnd===re.bufferStart?0:u[re.bufferEnd-4]-u[re.bufferStart],Oe=Se-De;for(let xe=re.bufferStart;xe<re.bufferEnd;xe+=4)u[xe]+=Oe}}return L(de),{bufferNumFloats:D,bufferNumQuads:D/16,layoutNumCharacters:de.done?t.length-T:de.value.cluster-T+1,fullyProcessed:!!de.done,maxX:z,maxY:F}}function Ss(r,n){return Math.ceil(r/n)*n}function As(r,n){return Math.floor(r/n)*n}function Cs(r,n,e,t,o,i,s,a){const{screen:c,sdf:d}=r;if(!bi(s))c.x1=0,c.y1=0,c.x2=0,c.y2=0,d.x1=0,d.y1=0,d.x2=0,d.y2=0,r.numLines=0,r.firstLineIdx=0;else{const u=s.x1-n,g=u+(s.x2-s.x1),w=s.y1-e+t,A=As(w-i,o||1),p=Ss(w+(s.y2-s.y1)+i,o||1);c.x1=u,c.y1=A,c.x2=g,c.y2=p,d.x1=u/a,d.y1=A/a,d.x2=g/a,d.y2=p/a,r.numLines=Math.ceil((p-A)/o),r.firstLineIdx=o?Math.floor(A/o):0}r.valid=!0}const Ts={normal:400,bold:700,bolder:900,lighter:100},zr=r=>typeof r=="number"?r:Ts[r]||400;function _s(r,n,e,t,o){let i=zr(e);for(const s of r){const a=s[n];if(!a)continue;if(a.size===1)return console.warn("TrFontManager: Only one font face found for family: '".concat(n,"' - will be used for all weights and styles")),a.values().next().value;const c=new Map;for(const u of a){const g=zr(u.descriptors.weight);if(g===i&&u.descriptors.style===t&&u.descriptors.stretch===o)return u;c.set(g,u)}const d="TrFontManager: No exact match: '".concat(n," Weight: ").concat(i," Style: ").concat(t," Stretch: ").concat(o,"'");if(console.error(d),i===400&&c.has(500))return c.get(500);if(i===500&&c.has(400))return c.get(400);if(i<400){for(;i>0;){if(c.has(i))return c.get(i);i-=100}i=600}for(;i<1e3;){if(c.has(i))return c.get(i);i+=100}for(i=500;i>0;){if(c.has(i))return c.get(i);i-=100}}}const Rs=wo(_s);class Uo{constructor(n){h(this,"textRenderers");this.textRenderers=n}addFontFace(n){for(const e in this.textRenderers){const t=this.textRenderers[e];t&&t.isFontFaceSupported(n)&&t.addFontFace(n)}}static resolveFontFace(n,e){const{fontFamily:t,fontWeight:o,fontStyle:i,fontStretch:s}=e;return Rs(n,t,o,i,s)}}const Is={x:0,y:0,width:0,height:0};class Bs extends Do{constructor(e){super(e);h(this,"ssdfFontFamilies",{});h(this,"msdfFontFamilies",{});h(this,"fontFamilyArray",[this.ssdfFontFamilies,this.msdfFontFamilies]);h(this,"sdfShader");h(this,"rendererBounds");this.sdfShader=this.stage.shManager.loadShader("SdfShader").shader,this.rendererBounds={x1:0,y1:0,x2:this.stage.options.appWidth,y2:this.stage.options.appHeight}}getPropertySetters(){return{fontFamily:(e,t)=>{e.props.fontFamily=t,this.releaseFontFace(e),this.invalidateLayoutCache(e)},fontWeight:(e,t)=>{e.props.fontWeight=t,this.releaseFontFace(e),this.invalidateLayoutCache(e)},fontStyle:(e,t)=>{e.props.fontStyle=t,this.releaseFontFace(e),this.invalidateLayoutCache(e)},fontStretch:(e,t)=>{e.props.fontStretch=t,this.releaseFontFace(e),this.invalidateLayoutCache(e)},fontSize:(e,t)=>{e.props.fontSize=t,this.invalidateLayoutCache(e)},text:(e,t)=>{e.props.text=t,this.invalidateLayoutCache(e)},textAlign:(e,t)=>{e.props.textAlign=t,this.invalidateLayoutCache(e)},color:(e,t)=>{e.props.color=t},x:(e,t)=>{e.props.x=t,e.elementBounds.valid&&(this.setElementBoundsX(e),!e.renderWindow.valid&&kn(e.elementBounds,this.rendererBounds)&&this.scheduleUpdateState(e))},y:(e,t)=>{e.props.y=t,e.elementBounds.valid&&(this.setElementBoundsY(e),!e.renderWindow.valid&&kn(e.elementBounds,this.rendererBounds)&&this.scheduleUpdateState(e))},contain:(e,t)=>{e.props.contain=t,this.invalidateLayoutCache(e)},width:(e,t)=>{e.props.width=t,e.props.contain!=="none"&&this.invalidateLayoutCache(e)},height:(e,t)=>{e.props.height=t,e.props.contain==="both"&&this.invalidateLayoutCache(e)},offsetY:(e,t)=>{e.props.offsetY=t,this.invalidateLayoutCache(e)},scrollable:(e,t)=>{e.props.scrollable=t,this.invalidateLayoutCache(e)},scrollY:(e,t)=>{e.props.scrollY=t,this.scheduleUpdateState(e)},letterSpacing:(e,t)=>{e.props.letterSpacing=t,this.invalidateLayoutCache(e)},lineHeight:(e,t)=>{e.props.lineHeight=t,this.invalidateLayoutCache(e)},maxLines:(e,t)=>{e.props.maxLines=t,this.invalidateLayoutCache(e)},textBaseline:(e,t)=>{e.props.textBaseline=t,this.invalidateLayoutCache(e)},verticalAlign:(e,t)=>{e.props.verticalAlign=t,this.invalidateLayoutCache(e)},overflowSuffix:(e,t)=>{e.props.overflowSuffix=t,this.invalidateLayoutCache(e)},debug:(e,t)=>{e.props.debug=t}}}canRenderFont(e){const{fontFamily:t}=e;return t in this.ssdfFontFamilies||t in this.msdfFontFamilies||t==="$$SDF_FAILURE_TEST$$"}isFontFaceSupported(e){return e instanceof _r}addFontFace(e){L(e instanceof _r);const t=e.fontFamily,o=e.type==="ssdf"?this.ssdfFontFamilies:e.type==="msdf"?this.msdfFontFamilies:void 0;if(!o){console.warn("Invalid font face type: ".concat(e.type));return}let i=o[t];i||(i=new Set,o[t]=i),i.add(e)}createState(e){return{props:e,status:"initialState",updateScheduled:!1,emitter:new ot,lineCache:[],forceFullLayoutCalc:!1,renderWindow:{screen:{x1:0,y1:0,x2:0,y2:0},sdf:{x1:0,y1:0,x2:0,y2:0},firstLineIdx:0,numLines:0,valid:!1},elementBounds:{x1:0,y1:0,x2:0,y2:0,valid:!1},clippingRect:{x:0,y:0,width:0,height:0,valid:!1},bufferNumFloats:0,bufferNumQuads:0,vertexBuffer:void 0,webGlBuffers:null,bufferUploaded:!1,textH:void 0,textW:void 0,distanceRange:0,trFontFace:void 0,isRenderable:!1,debugData:{updateCount:0,layoutCount:0,lastLayoutNumCharacters:0,layoutSum:0,drawSum:0,drawCount:0,bufferSize:0}}}updateState(e){let{trFontFace:t}=e;const{textH:o,lineCache:i,debugData:s,forceFullLayoutCalc:a}=e;if(s.updateCount++,e.status==="initialState"&&this.setStatus(e,"loading"),!t){if(t=this.resolveFontFace(e.props),e.trFontFace=t,!t){const j="SdfTextRenderer: Could not resolve font face for family: '".concat(e.props.fontFamily,"'");console.error(j),this.setStatus(e,"failed",new Error(j));return}t.texture.setRenderableOwner(e,e.isRenderable)}if(!t.loaded){t.once("loaded",()=>{this.scheduleUpdateState(e)});return}L(t.data,"Font face data should be loaded");const{text:c,fontSize:d,x:u,y:g,contain:w,width:A,height:p,lineHeight:y,verticalAlign:S,scrollable:b,overflowSuffix:v,maxLines:x}=e.props,m=w==="both"&&b?e.props.scrollY:0,{renderWindow:C}=e,I=t.data.info.size,R=d/I,T=y/R;e.distanceRange=R*t.data.distanceField.distanceRange;const _=c.length*ys;let k=e.vertexBuffer;(!k||k.length<_)&&(k=new Float32Array(_*2));const z=e.elementBounds;if(z.valid||(this.setElementBoundsX(e),this.setElementBoundsY(e),z.valid=!0),!a&&C.valid){const j=C.screen;if(u+j.x1<=z.x1&&u+j.x2>=z.x2&&g-m+j.y1<=z.y1&&g-m+j.y2>=z.y2){this.setStatus(e,"loaded");return}C.valid=!1,this.setStatus(e,"loading")}const{offsetY:F,textAlign:P}=e.props;if(!C.valid){if(!kn(z,this.rendererBounds))return;Cs(C,u,g,m,y,w==="both"?z.y2-z.y1:0,z,R)}const O=vs(I,T,y,S,F,R,C,i,o);if(!O){this.setStatus(e,"loaded");return}const{letterSpacing:D}=e.props,Y=bs(O.lineIndex,O.sdfX,O.sdfY,c,P,A,p,d,y,D,k,w,i,C.sdf,t,a,b,v,x);e.bufferUploaded=!1,e.bufferNumFloats=Y.bufferNumFloats,e.bufferNumQuads=Y.bufferNumQuads,e.vertexBuffer=k,e.renderWindow=C,s.lastLayoutNumCharacters=Y.layoutNumCharacters,s.bufferSize=k.byteLength,Y.fullyProcessed&&(e.textW=Y.maxX*R,e.textH=Y.maxY*R),this.setStatus(e,"loaded")}renderQuads(e,t,o,i,s,a){var z,F,P;if(!e.vertexBuffer)return;const{renderer:c}=this.stage,{fontSize:d,color:u,contain:g,scrollable:w,zIndex:A,debug:p}=e.props,y=g==="both"&&w?e.props.scrollY:0,{textW:S=0,textH:b=0,distanceRange:v,vertexBuffer:x,bufferUploaded:m,trFontFace:C,elementBounds:I}=e;let{webGlBuffers:R}=e;if(!R){const O=c.glw,D=4*Float32Array.BYTES_PER_ELEMENT,Y=O.createBuffer();L(Y),e.webGlBuffers=new Si([{buffer:Y,attributes:{a_position:{name:"a_position",size:2,type:O.FLOAT,normalized:!1,stride:D,offset:0},a_textureCoordinate:{name:"a_textureCoordinate",size:2,type:O.FLOAT,normalized:!1,stride:D,offset:2*Float32Array.BYTES_PER_ELEMENT}}}]),e.bufferUploaded=!1,L(e.webGlBuffers),R=e.webGlBuffers}if(!m){const O=c.glw,D=(z=R==null?void 0:R.getBuffer("a_textureCoordinate"))!=null?z:null;O.arrayBufferData(D,x,O.STATIC_DRAW),e.bufferUploaded=!0}if(L(C),w&&g==="both"){L(I.valid);const O=Ai(I,Is);o.valid?(e.clippingRect.valid=!0,o=nr(o,O,e.clippingRect)):(e.clippingRect.valid=!0,o=So(O,e.clippingRect))}const T=new Ci(c.glw,c.options,R,this.sdfShader,{transform:t.data,color:Ti(u,i),size:d/(((F=C.data)==null?void 0:F.info.size)||0),scrollY:y,distanceRange:v,debug:p.sdfShaderDebug},i,o,{height:b,width:S},0,A,!1,s,a),_=(P=e.trFontFace)==null?void 0:P.texture;L(_);const k=this.stage.txManager.getCtxTexture(_);T.addTexture(k),T.length=e.bufferNumFloats,T.numQuads=e.bufferNumQuads,c.addRenderOp(T)}setIsRenderable(e,t){var o;super.setIsRenderable(e,t),(o=e.trFontFace)==null||o.texture.setRenderableOwner(e,t)}destroyState(e){var t;super.destroyState(e),(t=e.trFontFace)==null||t.texture.setRenderableOwner(e,!1)}resolveFontFace(e){return Uo.resolveFontFace(this.fontFamilyArray,e)}releaseFontFace(e){e.trFontFace&&(e.trFontFace.texture.setRenderableOwner(e,!1),e.trFontFace=void 0)}invalidateLayoutCache(e){e.renderWindow.valid=!1,e.elementBounds.valid=!1,e.textH=void 0,e.textW=void 0,e.lineCache=[],this.setStatus(e,"loading"),this.scheduleUpdateState(e)}setElementBoundsX(e){const{x:t,contain:o,width:i}=e.props,{elementBounds:s}=e;s.x1=t,s.x2=o!=="none"?t+i:1/0}setElementBoundsY(e){const{y:t,contain:o,height:i}=e.props,{elementBounds:s}=e;s.y1=t,s.y2=o==="both"?t+i:1/0}}function ks(r){return r.prototype instanceof _i}async function Es(r,n){let e;try{console.log("Loading core extension",r),e=await os(()=>import(r),[])}catch(o){console.error("The core extension module at '".concat(r,"' could not be loaded.")),console.error(o);return}if(!e.default){console.error("The core extension module at '".concat(r,"' does not have a default export."));return}const t=e.default;if(ks(t)){const o=new t;try{await o.run(n)}catch(i){console.error("The core extension at '".concat(r,"' threw an error.")),console.error(i)}}else console.error("The core extension at '".concat(r,"' does not extend CoreExtension."))}function Yo(r){const n={boolean:!0,string:!0,number:!0},e=Object.keys(r);for(let t=0;t<e.length;t++){const o=e[t];if(!o)continue;const i=r[o],s=typeof i;s==="string"&&i.length>2048&&(console.warn("Custom Data value for ".concat(o," is too long, it will be truncated to 2048 characters")),r[o]=i.substring(0,2048)),n[s]||(console.warn("Custom Data value for ".concat(o," is not a boolean, string, or number, it will be ignored")),delete r[o])}return r}class Fs extends ot{constructor(e,t,o){var b,v,x,m;super();h(this,"root",null);h(this,"driver");h(this,"canvas");h(this,"settings");h(this,"inspector",null);h(this,"nodes",new Map);h(this,"nextTextureId",1);h(this,"textureTracker");const i={appWidth:e.appWidth||1920,appHeight:e.appHeight||1080,txMemByteThreshold:e.txMemByteThreshold||124e6,boundsMargin:e.boundsMargin||0,deviceLogicalPixelRatio:e.deviceLogicalPixelRatio||1,devicePhysicalPixelRatio:e.devicePhysicalPixelRatio||window.devicePixelRatio,clearColor:(b=e.clearColor)!=null?b:0,coreExtensionModule:e.coreExtensionModule||null,experimental_FinalizationRegistryTextureUsageTracker:(v=e.experimental_FinalizationRegistryTextureUsageTracker)!=null?v:!1,textureCleanupOptions:e.textureCleanupOptions||{},fpsUpdateInterval:e.fpsUpdateInterval||0,numImageWorkers:e.numImageWorkers!==void 0?e.numImageWorkers:2,enableContextSpy:(x=e.enableContextSpy)!=null?x:!1,enableInspector:(m=e.enableInspector)!=null?m:!1};this.settings=i;const{appWidth:s,appHeight:a,deviceLogicalPixelRatio:c,devicePhysicalPixelRatio:d,enableInspector:u}=i,g=C=>{this.driver.releaseTexture(C)},w=i.experimental_FinalizationRegistryTextureUsageTracker&&typeof FinalizationRegistry=="function";this.textureTracker=w?new Ji(g):new Zi(g,this.settings.textureCleanupOptions);const A=s*c,p=a*c;this.driver=o;const y=document.createElement("canvas");this.canvas=y,y.width=A*d,y.height=p*d,y.style.width="".concat(A,"px"),y.style.height="".concat(p,"px");let S;if(typeof t=="string"?S=document.getElementById(t):S=t,!S)throw new Error("Could not find target element");o.onCreateNode=C=>{this.nodes.set(C.id,C)},o.onBeforeDestroyNode=C=>{this.nodes.delete(C.id)},o.onFpsUpdate=C=>{this.emit("fpsUpdate",C)},o.onFrameTick=C=>{this.emit("frameTick",C)},o.onIdle=()=>{this.emit("idle")},S.appendChild(y),u&&!vo()&&(this.inspector=new ts(y,i))}async init(){await this.driver.init(this,this.settings,this.canvas),this.root=this.driver.getRootNode()}createNode(e){return this.inspector?this.inspector.createNode(this.driver,this.resolveNodeDefaults(e)):this.driver.createNode(this.resolveNodeDefaults(e))}createTextNode(e){var i,s,a,c,d,u,g,w,A,p,y,S,b,v,x,m,C,I,R;const t=(i=e.fontSize)!=null?i:16,o={...this.resolveNodeDefaults(e),text:(s=e.text)!=null?s:"",textRendererOverride:(a=e.textRendererOverride)!=null?a:null,fontSize:t,fontFamily:(c=e.fontFamily)!=null?c:"sans-serif",fontStyle:(d=e.fontStyle)!=null?d:"normal",fontWeight:(u=e.fontWeight)!=null?u:"normal",fontStretch:(g=e.fontStretch)!=null?g:"normal",textAlign:(w=e.textAlign)!=null?w:"left",contain:(A=e.contain)!=null?A:"none",scrollable:(p=e.scrollable)!=null?p:!1,scrollY:(y=e.scrollY)!=null?y:0,offsetY:(S=e.offsetY)!=null?S:0,letterSpacing:(b=e.letterSpacing)!=null?b:0,lineHeight:(v=e.lineHeight)!=null?v:t,maxLines:(x=e.maxLines)!=null?x:0,textBaseline:(m=e.textBaseline)!=null?m:"alphabetic",verticalAlign:(C=e.verticalAlign)!=null?C:"top",overflowSuffix:(I=e.overflowSuffix)!=null?I:"...",debug:(R=e.debug)!=null?R:{}};return this.inspector?this.inspector.createTextNode(this.driver,o):this.driver.createTextNode(o)}resolveNodeDefaults(e){var u,g,w,A,p,y,S,b,v,x,m,C,I,R,T,_,k,z,F,P,O,D,Y,j,se,ne,de,Ce,Pe,Wt,Ut,Ke,Se,me,re,De,Oe,xe,K,Yt,We,Ue,Ve,Ge,qe,wt,bt,br,Sr,Ar,Cr,Tr;const t=(u=e.color)!=null?u:4294967295,o=(A=(w=(g=e.colorTl)!=null?g:e.colorTop)!=null?w:e.colorLeft)!=null?A:t,i=(S=(y=(p=e.colorTr)!=null?p:e.colorTop)!=null?y:e.colorRight)!=null?S:t,s=(x=(v=(b=e.colorBl)!=null?b:e.colorBottom)!=null?v:e.colorLeft)!=null?x:t,a=(I=(C=(m=e.colorBr)!=null?m:e.colorBottom)!=null?C:e.colorRight)!=null?I:t,c=Yo((R=e.data)!=null?R:{}),d=(z=(k=(T=e.parent)==null?void 0:T.rtt)!=null?k:(_=e.parent)==null?void 0:_.parentHasRenderTexture)!=null?z:!1;return{x:(F=e.x)!=null?F:0,y:(P=e.y)!=null?P:0,width:(O=e.width)!=null?O:0,height:(D=e.height)!=null?D:0,alpha:(Y=e.alpha)!=null?Y:1,autosize:(j=e.autosize)!=null?j:!1,clipping:(se=e.clipping)!=null?se:!1,color:t,colorTop:(ne=e.colorTop)!=null?ne:t,colorBottom:(de=e.colorBottom)!=null?de:t,colorLeft:(Ce=e.colorLeft)!=null?Ce:t,colorRight:(Pe=e.colorRight)!=null?Pe:t,colorBl:s,colorBr:a,colorTl:o,colorTr:i,zIndex:(Wt=e.zIndex)!=null?Wt:0,zIndexLocked:(Ut=e.zIndexLocked)!=null?Ut:0,parent:(Ke=e.parent)!=null?Ke:null,texture:(Se=e.texture)!=null?Se:null,shader:(me=e.shader)!=null?me:null,src:(re=e.src)!=null?re:"",scale:(De=e.scale)!=null?De:null,scaleX:(xe=(Oe=e.scaleX)!=null?Oe:e.scale)!=null?xe:1,scaleY:(Yt=(K=e.scaleY)!=null?K:e.scale)!=null?Yt:1,mount:(We=e.mount)!=null?We:0,mountX:(Ve=(Ue=e.mountX)!=null?Ue:e.mount)!=null?Ve:0,mountY:(qe=(Ge=e.mountY)!=null?Ge:e.mount)!=null?qe:0,pivot:(wt=e.pivot)!=null?wt:.5,pivotX:(br=(bt=e.pivotX)!=null?bt:e.pivot)!=null?br:.5,pivotY:(Ar=(Sr=e.pivotY)!=null?Sr:e.pivot)!=null?Ar:.5,rotation:(Cr=e.rotation)!=null?Cr:0,rtt:(Tr=e.rtt)!=null?Tr:!1,parentHasRenderTexture:d,data:c}}destroyNode(e){return this.inspector&&this.inspector.destroyNode(e),this.driver.destroyNode(e)}createTexture(e,t,o){const i=this.nextTextureId++,s={descType:"texture",txType:e,props:t,options:{...o,id:i}};return this.textureTracker.registerTexture(s),s}createShader(e,t){return{descType:"shader",shType:e,props:t}}getNodeById(e){return this.nodes.get(e)||null}toggleFreeze(){throw new Error("Not implemented")}advanceFrame(){throw new Error("Not implemented")}rerender(){throw new Error("Not implemented")}}class Ns extends ot{constructor(e,t,o){super();h(this,"node");h(this,"props");h(this,"settings");h(this,"propStartValues",{});h(this,"restoreValues",{});h(this,"progress",0);h(this,"delayFor",0);h(this,"timingFunction");h(this,"propsList");this.node=e,this.props=t,this.settings=o,this.propStartValues={},this.propsList=Object.keys(t),this.propsList.forEach(i=>{this.propStartValues[i]=e[i]}),this.timingFunction=i=>i,o.easing&&typeof o.easing=="string"&&(this.timingFunction=Ri(o.easing)),this.delayFor=o.delay||0}reset(){this.progress=0,this.delayFor=this.settings.delay||0,this.update(0)}restore(){this.reset(),Object.keys(this.props).forEach(e=>{this.node[e]=this.propStartValues[e]})}reverse(){this.progress=0,Object.keys(this.props).forEach(e=>{const t=this.props[e],o=this.propStartValues[e];this.props[e]=o,this.propStartValues[e]=t}),this.settings.loop||(this.settings.stopMethod=!1)}applyEasing(e,t,o){return(this.timingFunction(e)||e)*(o-t)+t}update(e){const{duration:t,loop:o,easing:i,stopMethod:s}=this.settings;if(!t){this.emit("finished",{});return}if(this.delayFor>0){this.delayFor-=e;return}if(this.delayFor<=0&&this.progress===0&&this.emit("start",{}),this.progress+=e/t,this.progress>1&&(this.progress=o?0:1,s)){this.emit("finished",{});return}for(let a=0;a<this.propsList.length;a++){const c=this.propsList[a],d=this.props[c],u=this.propStartValues[c],g=d;if(c.indexOf("color")!==-1){if(u===g){this.node[c]=u;continue}if(i){const w=this.timingFunction(this.progress)||this.progress,A=Rr(u,g,w);this.node[c]=A;continue}this.node[c]=Rr(u,g,this.progress);continue}if(i){this.node[c]=this.applyEasing(this.progress,u,g);continue}this.node[c]=u+(g-u)*this.progress}this.progress===1&&this.emit("finished",{})}}class Ls{constructor(n,e){h(this,"manager");h(this,"animation");h(this,"startedPromise",null);h(this,"startedResolve",null);h(this,"stoppedPromise",null);h(this,"stoppedResolve",null);h(this,"state");this.manager=n,this.animation=e,this.state="stopped"}start(){return this.makeStartedPromise(),this.animation.once("start",this.started.bind(this)),this.makeStoppedPromise(),this.animation.once("finished",this.finished.bind(this)),this.manager.activeAnimations.has(this.animation)||this.manager.registerAnimation(this.animation),this.state="running",this}stop(){return this.manager.unregisterAnimation(this.animation),this.stoppedResolve!==null&&(this.stoppedResolve(),this.stoppedResolve=null),this.animation.reset(),this.state="stopped",this}pause(){return this.manager.unregisterAnimation(this.animation),this.state="paused",this}restore(){return this.stoppedResolve=null,this.animation.restore(),this}waitUntilStarted(){this.makeStartedPromise();const n=this.startedPromise;return L(n),n}waitUntilStopped(){this.makeStoppedPromise();const n=this.stoppedPromise;return L(n),n}makeStartedPromise(){this.startedResolve===null&&(this.startedPromise=new Promise(n=>{this.startedResolve=n}))}makeStoppedPromise(){this.stoppedResolve===null&&(this.stoppedPromise=new Promise(n=>{this.stoppedResolve=n}))}started(){L(this.startedResolve),this.startedResolve(this),this.startedResolve=null}finished(){L(this.stoppedResolve);const{loop:n,stopMethod:e}=this.animation.settings;if(e==="reverse"){this.animation.reverse(),this.start();return}this.stoppedResolve(),this.stoppedResolve=null,!n&&this.manager.unregisterAnimation(this.animation)}}const Z=0,J=3,ce=6,V=1,ee=4,ue=7,ye=2,ve=5,we=8;class fe{constructor(n){h(this,"data");n?(this.data=new Float32Array(9),this.data[Z]=n[0],this.data[J]=n[3],this.data[ce]=n[6],this.data[V]=n[1],this.data[ee]=n[4],this.data[ue]=n[7],this.data[ye]=n[2],this.data[ve]=n[5],this.data[we]=n[8]):this.data=new Float32Array(9)}static get temp(){return Ms}static multiply(n,e,t){const o=n.data[Z]*e.data[Z]+n.data[J]*e.data[V]+n.data[ce]*e.data[ye],i=n.data[Z]*e.data[J]+n.data[J]*e.data[ee]+n.data[ce]*e.data[ve],s=n.data[Z]*e.data[ce]+n.data[J]*e.data[ue]+n.data[ce]*e.data[we],a=n.data[V]*e.data[Z]+n.data[ee]*e.data[V]+n.data[ue]*e.data[ye],c=n.data[V]*e.data[J]+n.data[ee]*e.data[ee]+n.data[ue]*e.data[ve],d=n.data[V]*e.data[ce]+n.data[ee]*e.data[ue]+n.data[ue]*e.data[we],u=n.data[ye]*e.data[Z]+n.data[ve]*e.data[V]+n.data[we]*e.data[ye],g=n.data[ye]*e.data[J]+n.data[ve]*e.data[ee]+n.data[we]*e.data[ve],w=n.data[ye]*e.data[ce]+n.data[ve]*e.data[ue]+n.data[we]*e.data[we];return t||(t=new fe),t.data[Z]=o,t.data[J]=i,t.data[ce]=s,t.data[V]=a,t.data[ee]=c,t.data[ue]=d,t.data[ye]=u,t.data[ve]=g,t.data[we]=w,t}static identity(n){return n||(n=new fe),n.data[Z]=1,n.data[J]=0,n.data[ce]=0,n.data[V]=0,n.data[ee]=1,n.data[ue]=0,n.data[ye]=0,n.data[ve]=0,n.data[we]=1,n}static translate(n,e,t){return t||(t=new fe),t.data[Z]=1,t.data[J]=0,t.data[ce]=n,t.data[V]=0,t.data[ee]=1,t.data[ue]=e,t.data[ye]=0,t.data[ve]=0,t.data[we]=1,t}static scale(n,e,t){return t||(t=new fe),t.data[Z]=n,t.data[J]=0,t.data[ce]=0,t.data[V]=0,t.data[ee]=e,t.data[ue]=0,t.data[ye]=0,t.data[ve]=0,t.data[we]=1,t}static rotate(n,e){const t=Math.cos(n),o=Math.sin(n);return e||(e=new fe),e.data[Z]=t,e.data[J]=-o,e.data[ce]=0,e.data[V]=o,e.data[ee]=t,e.data[ue]=0,e.data[ye]=0,e.data[ve]=0,e.data[we]=1,e}static copy(n,e,t){return e||(e=new fe),e.data[0]=n.data[0],e.data[1]=n.data[1],e.data[2]=n.data[2],e.data[3]=n.data[3],e.data[4]=n.data[4],e.data[5]=n.data[5],e.data[6]=n.data[6],e.data[7]=n.data[7],e.data[8]=n.data[8],e}translate(n,e){return this.data[ce]=this.data[Z]*n+this.data[J]*e+this.data[ce],this.data[ue]=this.data[V]*n+this.data[ee]*e+this.data[ue],this}scale(n,e){return this.data[Z]=this.data[Z]*n,this.data[J]=this.data[J]*e,this.data[V]=this.data[V]*n,this.data[ee]=this.data[ee]*e,this}rotate(n){if(n===0||!(n%Math.PI*2))return this;const e=Math.cos(n),t=Math.sin(n),o=this.data[Z]*e+this.data[J]*t,i=this.data[J]*e-this.data[Z]*t,s=this.data[V]*e+this.data[ee]*t,a=this.data[ee]*e-this.data[V]*t;return this.data[Z]=o,this.data[J]=i,this.data[V]=s,this.data[ee]=a,this}multiply(n){return fe.multiply(this,n,this)}get tx(){return this.data[ce]}get ty(){return this.data[ue]}get ta(){return this.data[Z]}get tb(){return this.data[J]}get tc(){return this.data[V]}get td(){return this.data[ee]}transformPoint(n,e){return[this.data[Z]*n+this.data[J]*e+this.data[ce],this.data[V]*n+this.data[ee]*e+this.data[V]]}}const Ms=new fe,Ht=0,jt=2,Qt=4,Xt=6,Kt=1,Vt=3,Gt=5,qt=7;class gn{constructor(n){h(this,"data");this.data=new Float32Array(8),n&&(this.data[Ht]=n[Ht],this.data[jt]=n[jt],this.data[Qt]=n[Qt],this.data[Xt]=n[Xt],this.data[Kt]=n[Kt],this.data[Vt]=n[Vt],this.data[Gt]=n[Gt],this.data[qt]=n[qt])}static translate(n,e,t,o,i,s,a,c,d){return d||(d=new gn),d.data[Ht]=n,d.data[jt]=t,d.data[Qt]=i,d.data[Xt]=a,d.data[Kt]=e,d.data[Vt]=o,d.data[Gt]=s,d.data[qt]=c,d}get x1(){return this.data[Ht]}get x2(){return this.data[jt]}get x3(){return this.data[Qt]}get x4(){return this.data[Xt]}get y1(){return this.data[Kt]}get y2(){return this.data[Vt]}get y3(){return this.data[Gt]}get y4(){return this.data[qt]}}var G;(function(r){r[r.Init=0]="Init",r[r.OutOfBounds=2]="OutOfBounds",r[r.InBounds=4]="InBounds",r[r.InViewport=8]="InViewport"})(G||(G={}));const nt=new Map;nt.set(G.Init,"init");nt.set(G.OutOfBounds,"outOfBounds");nt.set(G.InBounds,"inBounds");nt.set(G.InViewport,"inViewport");var B;(function(r){r[r.Children=1]="Children",r[r.ScaleRotate=2]="ScaleRotate",r[r.Local=4]="Local",r[r.Global=8]="Global",r[r.Clipping=16]="Clipping",r[r.CalculatedZIndex=32]="CalculatedZIndex",r[r.ZIndexSortedChildren=64]="ZIndexSortedChildren",r[r.PremultipliedColors=128]="PremultipliedColors",r[r.WorldAlpha=256]="WorldAlpha",r[r.RenderState=512]="RenderState",r[r.IsRenderable=1024]="IsRenderable",r[r.None=0]="None",r[r.All=2047]="All"})(B||(B={}));class ar extends ot{constructor(e,t){super();h(this,"stage");h(this,"children",[]);h(this,"props");h(this,"updateType",B.All);h(this,"globalTransform");h(this,"scaleRotateTransform");h(this,"localTransform");h(this,"renderCoords");h(this,"renderBound");h(this,"strictBound");h(this,"preloadBound");h(this,"clippingRect",{x:0,y:0,width:0,height:0,valid:!1});h(this,"isRenderable",!1);h(this,"renderState",G.Init);h(this,"worldAlpha",1);h(this,"premultipliedColorTl",0);h(this,"premultipliedColorTr",0);h(this,"premultipliedColorBl",0);h(this,"premultipliedColorBr",0);h(this,"calcZIndex",0);h(this,"hasRTTupdates",!1);h(this,"onTextureLoaded",(e,t)=>{this.autosizeNode(t),this.parentHasRenderTexture&&this.setRTTUpdates(1),this.emit("loaded",{type:"texture",dimensions:t}),queueMicrotask(()=>{this.stage.requestRender()})});h(this,"onTextureFailed",(e,t)=>{this.emit("failed",{type:"texture",error:t})});h(this,"onTextureFreed",e=>{this.emit("freed",{type:"texture"})});this.stage=e,this.props={...t,parent:null,parentHasRenderTexture:!1},this.parent=t.parent,this.rtt=t.rtt,this.updateScaleRotateTransform()}loadTexture(e,t,o=null){this.props.texture&&this.unloadTexture();const{txManager:i}=this.stage,s=i.loadTexture(e,t,o);this.props.texture=s,this.props.textureOptions=o,this.setUpdateType(B.IsRenderable),queueMicrotask(()=>{s.state==="loaded"?this.onTextureLoaded(s,s.dimensions):s.state==="failed"?this.onTextureFailed(s,s.error):s.state==="freed"&&this.onTextureFreed(s),s.on("loaded",this.onTextureLoaded),s.on("failed",this.onTextureFailed),s.on("freed",this.onTextureFreed)})}unloadTexture(){if(this.props.texture){const{texture:e}=this.props;e.off("loaded",this.onTextureLoaded),e.off("failed",this.onTextureFailed),e.off("freed",this.onTextureFreed),e.setRenderableOwner(this,!1)}this.props.texture=null,this.props.textureOptions=null,this.setUpdateType(B.IsRenderable)}autosizeNode(e){this.autosize&&(this.width=e.width,this.height=e.height)}loadShader(e,t){const o=this.stage.renderer.getShaderManager();L(o);const{shader:i,props:s}=o.loadShader(e,t);this.props.shader=i,this.props.shaderProps=s,this.setUpdateType(B.IsRenderable)}setUpdateType(e){this.updateType|=e;const t=this.props.parent;t&&!(t.updateType&B.Children)&&t.setUpdateType(B.Children),this.parentHasRenderTexture&&this.setRTTUpdates(e)}sortChildren(){this.children.sort((e,t)=>e.calcZIndex-t.calcZIndex)}updateScaleRotateTransform(){this.scaleRotateTransform=fe.rotate(this.props.rotation,this.scaleRotateTransform).scale(this.props.scaleX,this.props.scaleY)}updateLocalTransform(){L(this.scaleRotateTransform);const e=this.props.pivotX*this.props.width,t=this.props.pivotY*this.props.height,o=this.props.mountX*this.props.width,i=this.props.mountY*this.props.height;this.localTransform=fe.translate(e-o+this.props.x,t-i+this.props.y,this.localTransform).multiply(this.scaleRotateTransform).translate(-e,-t),this.setUpdateType(B.Global)}update(e,t){var s;this.updateType&B.ScaleRotate&&(this.updateScaleRotateTransform(),this.setUpdateType(B.Local)),this.updateType&B.Local&&(this.updateLocalTransform(),this.setUpdateType(B.Global));const o=this.props.parent;let i=B.None;this.updateType&B.Global&&(L(this.localTransform),this.globalTransform=fe.copy((o==null?void 0:o.globalTransform)||this.localTransform,this.globalTransform),this.parentHasRenderTexture&&((s=this.props.parent)!=null&&s.rtt)&&(this.globalTransform=fe.identity()),o&&this.globalTransform.multiply(this.localTransform),this.calculateRenderCoords(),this.updateBoundingRect(),this.setUpdateType(B.Clipping|B.RenderState|B.Children),i|=B.Global),this.updateType&B.Clipping&&(this.calculateClippingRect(t),this.setUpdateType(B.Children),i|=B.Clipping),this.updateType&B.WorldAlpha&&(o?this.worldAlpha=o.worldAlpha*this.props.alpha:this.worldAlpha=this.props.alpha,this.setUpdateType(B.Children|B.PremultipliedColors|B.IsRenderable),i|=B.WorldAlpha),this.updateType&B.PremultipliedColors&&(this.premultipliedColorTl=_t(this.props.colorTl,this.worldAlpha,!0),this.props.colorTl===this.props.colorTr&&this.props.colorBl===this.props.colorBr&&this.props.colorTl===this.props.colorBl?this.premultipliedColorTr=this.premultipliedColorBl=this.premultipliedColorBr=this.premultipliedColorTl:(this.premultipliedColorTr=_t(this.props.colorTr,this.worldAlpha,!0),this.premultipliedColorBl=_t(this.props.colorBl,this.worldAlpha,!0),this.premultipliedColorBr=_t(this.props.colorBr,this.worldAlpha,!0))),this.updateType&B.RenderState&&(this.updateRenderState(t),this.setUpdateType(B.IsRenderable)),this.updateType&B.IsRenderable&&this.updateIsRenderable(),o&&this.updateType&B.CalculatedZIndex&&(this.calculateZIndex(),o.setUpdateType(B.ZIndexSortedChildren)),this.updateType&B.Children&&this.children.length&&!this.rtt&&this.children.forEach(a=>{a.setUpdateType(i),a.updateType!==0&&a.update(e,this.clippingRect)}),this.updateType&B.ZIndexSortedChildren&&this.sortChildren(),this.updateType=0}checkRenderProps(){return this.props.texture?!0:!this.props.width||!this.props.height?!1:!!(this.props.shader||this.props.clipping||this.props.color!==0||this.props.colorTop!==0||this.props.colorBottom!==0||this.props.colorLeft!==0||this.props.colorRight!==0||this.props.colorTl!==0||this.props.colorTr!==0||this.props.colorBl!==0||this.props.colorBr!==0)}checkRenderBounds(e){L(this.renderBound);const t=e.width||this.stage.root.width,o=e.height||this.stage.root.height;this.strictBound=gt(e.x,e.y,e.x+t,e.y+o,this.strictBound);const i=this.stage.boundsMargin;return this.preloadBound=gt(e.x-i[3],e.y-i[0],e.x+t+i[1],e.y+o+i[2],this.preloadBound),Ir(this.renderBound,this.strictBound)?G.InViewport:Ir(this.renderBound,this.preloadBound)?G.InBounds:G.OutOfBounds}updateRenderState(e){const t=this.checkRenderBounds(e);if(t!==this.renderState){let o=this.renderState;this.renderState=t,o===G.InViewport&&this.emit("outOfViewport",{previous:o,current:t}),o<G.InBounds&&t===G.InViewport?(this.emit(nt.get(G.InBounds),{previous:o,current:t}),o=G.InBounds):o>G.InBounds&&t===G.OutOfBounds&&(this.emit(nt.get(G.InBounds),{previous:o,current:t}),o=G.InBounds);const i=nt.get(t);L(i),this.emit(i,{previous:o,current:t})}}setRenderState(e){e!==this.renderState&&(this.renderState=e,this.emit(G[e]))}updateIsRenderable(){let e;this.worldAlpha===0||!this.checkRenderProps()?e=!1:e=this.renderState>G.OutOfBounds,this.isRenderable!==e&&(this.isRenderable=e,this.onChangeIsRenderable(e))}onChangeIsRenderable(e){var t;(t=this.props.texture)==null||t.setRenderableOwner(this,e)}calculateRenderCoords(){const{width:e,height:t,globalTransform:o}=this;L(o);const{tx:i,ty:s,ta:a,tb:c,tc:d,td:u}=o;if(c===0&&d===0){const g=i,w=i+e*a,A=s,p=s+t*u;this.renderCoords=gn.translate(g,A,w,A,w,p,g,p,this.renderCoords)}else this.renderCoords=gn.translate(i,s,i+e*a,s+e*d,i+e*a+t*c,s+e*d+t*u,i+t*c,s+t*u,this.renderCoords)}updateBoundingRect(){const{renderCoords:e,globalTransform:t}=this;L(t),L(e);const{tb:o,tc:i}=t,{x1:s,y1:a,x3:c,y3:d}=e;if(o===0||i===0)this.renderBound=gt(s,a,c,d,this.renderBound);else{const{x2:u,x4:g,y2:w,y4:A}=e;this.renderBound=gt(Math.min(s,u,c,g),Math.min(a,w,d,A),Math.max(s,u,c,g),Math.max(a,w,d,A),this.renderBound)}}calculateClippingRect(e){L(this.globalTransform);const{clippingRect:t,props:o,globalTransform:i}=this,{clipping:s}=o,a=i.tb!==0||i.tc!==0;s&&!a?(t.x=i.tx,t.y=i.ty,t.width=this.width*i.ta,t.height=this.height*i.td,t.valid=!0):t.valid=!1,e.valid&&t.valid?nr(e,t,t):e.valid&&(So(e,t),t.valid=!0)}calculateZIndex(){var s,a;const e=this.props,t=e.zIndex||0,o=((s=e.parent)==null?void 0:s.zIndex)||0;let i=t;(a=e.parent)!=null&&a.zIndexLocked&&(i=t<o?t:o),this.calcZIndex=i}destroy(){this.unloadTexture(),this.clippingRect.valid=!1,this.isRenderable=!1,delete this.renderCoords,delete this.renderBound,delete this.strictBound,delete this.preloadBound,delete this.globalTransform,delete this.scaleRotateTransform,delete this.localTransform,this.props.texture=null,this.props.shader=null,this.removeAllListeners(),this.parent=null}renderQuads(e){const{width:t,height:o,texture:i,textureOptions:s,shader:a,shaderProps:c,rtt:d,parentHasRenderTexture:u}=this.props;if(u&&(!e.renderToTextureActive||this.parentRenderTexture!==e.activeRttNode))return;const{premultipliedColorTl:g,premultipliedColorTr:w,premultipliedColorBl:A,premultipliedColorBr:p}=this,{zIndex:y,worldAlpha:S,globalTransform:b,clippingRect:v}=this;L(b),e.addQuad({width:t,height:o,colorTl:g,colorTr:w,colorBl:A,colorBr:p,texture:i,textureOptions:s,zIndex:y,shader:a,shaderProps:c,alpha:S,clippingRect:v,tx:b.tx,ty:b.ty,ta:b.ta,tb:b.tb,tc:b.tc,td:b.td,rtt:d,parentHasRenderTexture:u,framebufferDimensions:this.framebufferDimensions})}get id(){return this.props.id}get x(){return this.props.x}set x(e){this.props.x!==e&&(this.props.x=e,this.setUpdateType(B.Local))}get absX(){var e,t,o;return this.props.x+(((e=this.props.parent)==null?void 0:e.absX)||((o=(t=this.props.parent)==null?void 0:t.globalTransform)==null?void 0:o.tx)||0)}get absY(){var e,t;return this.props.y+((t=(e=this.props.parent)==null?void 0:e.absY)!=null?t:0)}get y(){return this.props.y}set y(e){this.props.y!==e&&(this.props.y=e,this.setUpdateType(B.Local))}get width(){return this.props.width}set width(e){this.props.width!==e&&(this.props.width=e,this.setUpdateType(B.Local))}get height(){return this.props.height}set height(e){this.props.height!==e&&(this.props.height=e,this.setUpdateType(B.Local))}get scale(){return this.scaleX}set scale(e){this.scaleX=e,this.scaleY=e}get scaleX(){return this.props.scaleX}set scaleX(e){this.props.scaleX!==e&&(this.props.scaleX=e,this.setUpdateType(B.ScaleRotate))}get scaleY(){return this.props.scaleY}set scaleY(e){this.props.scaleY!==e&&(this.props.scaleY=e,this.setUpdateType(B.ScaleRotate))}get mount(){return this.props.mount}set mount(e){(this.props.mountX!==e||this.props.mountY!==e)&&(this.props.mountX=e,this.props.mountY=e,this.props.mount=e,this.setUpdateType(B.Local))}get mountX(){return this.props.mountX}set mountX(e){this.props.mountX!==e&&(this.props.mountX=e,this.setUpdateType(B.Local))}get mountY(){return this.props.mountY}set mountY(e){this.props.mountY!==e&&(this.props.mountY=e,this.setUpdateType(B.Local))}get pivot(){return this.props.pivot}set pivot(e){(this.props.pivotX!==e||this.props.pivotY!==e)&&(this.props.pivotX=e,this.props.pivotY=e,this.props.pivot=e,this.setUpdateType(B.Local))}get pivotX(){return this.props.pivotX}set pivotX(e){this.props.pivotX!==e&&(this.props.pivotX=e,this.setUpdateType(B.Local))}get pivotY(){return this.props.pivotY}set pivotY(e){this.props.pivotY!==e&&(this.props.pivotY=e,this.setUpdateType(B.Local))}get rotation(){return this.props.rotation}set rotation(e){this.props.rotation!==e&&(this.props.rotation=e,this.setUpdateType(B.ScaleRotate))}get alpha(){return this.props.alpha}set alpha(e){this.props.alpha=e,this.setUpdateType(B.PremultipliedColors|B.WorldAlpha)}get autosize(){return this.props.autosize}set autosize(e){this.props.autosize=e}get clipping(){return this.props.clipping}set clipping(e){this.props.clipping=e,this.setUpdateType(B.Clipping)}get color(){return this.props.color}set color(e){(this.props.colorTl!==e||this.props.colorTr!==e||this.props.colorBl!==e||this.props.colorBr!==e)&&(this.colorTl=e,this.colorTr=e,this.colorBl=e,this.colorBr=e),this.props.color=e,this.setUpdateType(B.PremultipliedColors)}get colorTop(){return this.props.colorTop}set colorTop(e){(this.props.colorTl!==e||this.props.colorTr!==e)&&(this.colorTl=e,this.colorTr=e),this.props.colorTop=e,this.setUpdateType(B.PremultipliedColors)}get colorBottom(){return this.props.colorBottom}set colorBottom(e){(this.props.colorBl!==e||this.props.colorBr!==e)&&(this.colorBl=e,this.colorBr=e),this.props.colorBottom=e,this.setUpdateType(B.PremultipliedColors)}get colorLeft(){return this.props.colorLeft}set colorLeft(e){(this.props.colorTl!==e||this.props.colorBl!==e)&&(this.colorTl=e,this.colorBl=e),this.props.colorLeft=e,this.setUpdateType(B.PremultipliedColors)}get colorRight(){return this.props.colorRight}set colorRight(e){(this.props.colorTr!==e||this.props.colorBr!==e)&&(this.colorTr=e,this.colorBr=e),this.props.colorRight=e,this.setUpdateType(B.PremultipliedColors)}get colorTl(){return this.props.colorTl}set colorTl(e){this.props.colorTl=e,this.setUpdateType(B.PremultipliedColors)}get colorTr(){return this.props.colorTr}set colorTr(e){this.props.colorTr=e,this.setUpdateType(B.PremultipliedColors)}get colorBl(){return this.props.colorBl}set colorBl(e){this.props.colorBl=e,this.setUpdateType(B.PremultipliedColors)}get colorBr(){return this.props.colorBr}set colorBr(e){this.props.colorBr=e,this.setUpdateType(B.PremultipliedColors)}get zIndexLocked(){return this.props.zIndexLocked||0}set zIndexLocked(e){this.props.zIndexLocked=e,this.setUpdateType(B.CalculatedZIndex|B.Children),this.children.forEach(t=>{t.setUpdateType(B.CalculatedZIndex)})}get zIndex(){return this.props.zIndex}set zIndex(e){this.props.zIndex=e,this.setUpdateType(B.CalculatedZIndex|B.Children),this.children.forEach(t=>{t.setUpdateType(B.CalculatedZIndex)})}get parent(){return this.props.parent}set parent(e){const t=this.props.parent;if(t!==e){if(this.props.parent=e,t){const o=t.children.indexOf(this);L(o!==-1,"CoreNode.parent: Node not found in old parent's children!"),t.children.splice(o,1),t.setUpdateType(B.Children|B.ZIndexSortedChildren)}e&&(e.children.push(this),this.setUpdateType(B.All),e.setUpdateType(B.Children|B.ZIndexSortedChildren),(e.rtt||e.parentHasRenderTexture)&&this.setRTTUpdates(B.All)),this.parentHasRenderTexture=(e==null?void 0:e.rtt)||(e==null?void 0:e.parentHasRenderTexture),this.updateScaleRotateTransform()}}get rtt(){return this.props.rtt}set rtt(e){var t;e&&(this.props.rtt=!0,this.hasRTTupdates=!0,(t=this.stage.renderer)==null||t.renderToTexture(this))}set parentHasRenderTexture(e){this.props.parentHasRenderTexture=!!e}get parentHasRenderTexture(){return this.props.parentHasRenderTexture}get framebufferDimensions(){var e;return this.parentHasRenderTexture&&!this.rtt?(e=this.parent)==null?void 0:e.framebufferDimensions:{width:this.width,height:this.height}}get parentRenderTexture(){let e=this.parent;for(;e;){if(e.rtt)return e;e=e.parent}return null}get texture(){return this.props.texture}setRTTUpdates(e){var t;this.hasRTTupdates=!0,(t=this.parent)==null||t.setRTTUpdates(e)}}let zs=1;function lr(){return zs++}class Xn extends ot{constructor(e,t,o,i){var s;super();h(this,"rendererMain");h(this,"stage");h(this,"id");h(this,"coreNode");h(this,"_children",[]);h(this,"_src","");h(this,"_parent",null);h(this,"_texture",null);h(this,"_shader",null);h(this,"_data",{});h(this,"onTextureLoaded",(e,t)=>{this.emit("loaded",t)});h(this,"onTextureFailed",(e,t)=>{this.emit("failed",t)});h(this,"onTextureFreed",(e,t)=>{this.emit("freed",t)});h(this,"onOutOfBounds",(e,t)=>{this.emit("outOfBounds",t)});h(this,"onInBounds",(e,t)=>{this.emit("inBounds",t)});h(this,"onOutOfViewport",(e,t)=>{this.emit("outOfViewport",t)});h(this,"onInViewport",(e,t)=>{this.emit("inViewport",t)});this.rendererMain=t,this.stage=o,this.id=(s=i==null?void 0:i.id)!=null?s:lr(),this.coreNode=i||new ar(this.stage,{id:this.id,x:e.x,y:e.y,width:e.width,height:e.height,alpha:e.alpha,autosize:e.autosize,clipping:e.clipping,color:e.color,colorTop:e.colorTop,colorBottom:e.colorBottom,colorLeft:e.colorLeft,colorRight:e.colorRight,colorTl:e.colorTl,colorTr:e.colorTr,colorBl:e.colorBl,colorBr:e.colorBr,zIndex:e.zIndex,zIndexLocked:e.zIndexLocked,scaleX:e.scaleX,scaleY:e.scaleY,mountX:e.mountX,mountY:e.mountY,mount:e.mount,pivot:e.pivot,pivotX:e.pivotX,pivotY:e.pivotY,rotation:e.rotation,parent:null,shader:null,shaderProps:null,texture:null,textureOptions:null,rtt:e.rtt,parentHasRenderTexture:e.parentHasRenderTexture}),this.coreNode.on("loaded",this.onTextureLoaded),this.coreNode.on("failed",this.onTextureFailed),this.coreNode.on("freed",this.onTextureFreed),this.coreNode.on("outOfBounds",this.onOutOfBounds),this.coreNode.on("inBounds",this.onInBounds),this.coreNode.on("outOfViewport",this.onOutOfViewport),this.coreNode.on("inViewport",this.onInViewport),this.parent=e.parent,this.shader=e.shader,this.texture=e.texture,this.src=e.src,this.rtt=e.rtt,this._data=e.data}get x(){return this.coreNode.x}set x(e){this.coreNode.x=e}get y(){return this.coreNode.y}set y(e){this.coreNode.y=e}get width(){return this.coreNode.width}set width(e){this.coreNode.width=e}get height(){return this.coreNode.height}set height(e){this.coreNode.height=e}get alpha(){return this.coreNode.alpha}set alpha(e){this.coreNode.alpha=e}get autosize(){return this.coreNode.autosize}set autosize(e){this.coreNode.autosize=e}get clipping(){return this.coreNode.clipping}set clipping(e){this.coreNode.clipping=e}get color(){return this.coreNode.color}set color(e){this.coreNode.color=e}get colorTop(){return this.coreNode.colorTop}set colorTop(e){this.coreNode.colorTop=e}get colorBottom(){return this.coreNode.colorBottom}set colorBottom(e){this.coreNode.colorBottom=e}get colorLeft(){return this.coreNode.colorLeft}set colorLeft(e){this.coreNode.colorLeft=e}get colorRight(){return this.coreNode.colorRight}set colorRight(e){this.coreNode.colorRight=e}get colorTl(){return this.coreNode.colorTl}set colorTl(e){this.coreNode.colorTl=e}get colorTr(){return this.coreNode.colorTr}set colorTr(e){this.coreNode.colorTr=e}get colorBl(){return this.coreNode.colorBl}set colorBl(e){this.coreNode.colorBl=e}get colorBr(){return this.coreNode.colorBr}set colorBr(e){this.coreNode.colorBr=e}get scale(){return this.scaleX!==this.scaleY?null:this.coreNode.scaleX}set scale(e){e!==null&&(this.coreNode.scaleX=e,this.coreNode.scaleY=e)}get scaleX(){return this.coreNode.scaleX}set scaleX(e){this.coreNode.scaleX=e}get scaleY(){return this.coreNode.scaleY}set scaleY(e){this.coreNode.scaleY=e}get mount(){return this.coreNode.mount}set mount(e){this.coreNode.mount=e}get mountX(){return this.coreNode.mountX}set mountX(e){this.coreNode.mountX=e}get mountY(){return this.coreNode.mountY}set mountY(e){this.coreNode.mountY=e}get pivot(){return this.coreNode.pivot}set pivot(e){this.coreNode.pivot=e}get pivotX(){return this.coreNode.pivotX}set pivotX(e){this.coreNode.pivotX=e}get pivotY(){return this.coreNode.pivotY}set pivotY(e){this.coreNode.pivotY=e}get rotation(){return this.coreNode.rotation}set rotation(e){this.coreNode.rotation=e}get parent(){return this._parent}set parent(e){var o;const t=this._parent;if(this._parent=e,this.coreNode.parent=(o=e==null?void 0:e.coreNode)!=null?o:null,t){const i=t.children.indexOf(this);L(i!==-1,"MainOnlyNode.parent: Node not found in old parent's children!"),t.children.splice(i,1)}e&&e.children.push(this)}get children(){return this._children}get zIndex(){return this.coreNode.zIndex}set zIndex(e){this.coreNode.zIndex=e}get zIndexLocked(){return this.coreNode.zIndexLocked}set zIndexLocked(e){this.coreNode.zIndexLocked=e}get src(){return this._src}set src(e){if(this._src!==e){if(this._src=e,!e){this.texture=null;return}this.texture=this.rendererMain.createTexture("ImageTexture",{src:e})}}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this.rendererMain.textureTracker.decrementTextureRefCount(this._texture),e&&this.rendererMain.textureTracker.incrementTextureRefCount(e),this._texture=e,e?this.coreNode.loadTexture(e.txType,e.props,e.options):this.coreNode.unloadTexture())}get rtt(){return this.coreNode.rtt}set rtt(e){e&&(this.texture=this.rendererMain.createTexture("RenderTexture",{width:this.width,height:this.height},{preload:!0,flipY:!0})),this.coreNode.rtt=e}get parentHasRenderTexture(){return this.coreNode.parentHasRenderTexture}set parentHasRenderTexture(e){this.coreNode.parentHasRenderTexture=e}get shader(){return this._shader}set shader(e){this._shader!==e&&(this._shader=e,e&&this.coreNode.loadShader(e.shType,e.props))}get data(){return this._data}set data(e){this._data=Yo(e)}destroy(){this.emit("beforeDestroy",{});let e=this.children[0];for(;e;)e.destroy(),e=this.children[0];this.coreNode.destroy(),this.parent=null,this.texture=null,this.emit("afterDestroy",{}),this.removeAllListeners()}flush(){}animate(e,t){const o=new Ns(this.coreNode,e,t);return new Ls(this.stage.animationManager,o)}}const Ps=r=>{let n=!1;const e=()=>{if(r.updateAnimations(),!r.hasSceneUpdates()){r.calculateFps(),setTimeout(e,16.666666666666668),n||(r.emit("idle"),n=!0);return}n=!1,r.drawFrame(),requestAnimationFrame(e)};requestAnimationFrame(e)},Ds=()=>performance?performance.now():Date.now();class Os{constructor(){h(this,"activeAnimations",new Set)}registerAnimation(n){this.activeAnimations.add(n)}unregisterAnimation(n){this.activeAnimations.delete(n)}update(n){this.activeAnimations.forEach(e=>{e.update(n)})}}class Ws{constructor(n){h(this,"imageWorkersEnabled",!0);h(this,"messageManager",{});h(this,"workers",[]);h(this,"workerIndex",0);this.workers=this.createWorkers(n),this.workers.forEach(e=>{e.onmessage=this.handleMessage.bind(this)})}handleMessage(n){const{src:e,data:t,error:o}=n.data,i=this.messageManager[e];if(i){const[s,a]=i;delete this.messageManager[e],o?a(new Error(o)):s(t)}}createWorkers(n=1){const e="\n      function hasAlphaChannel(mimeType) {\n          return (mimeType.indexOf(\"image/png\") !== -1);\n      }\n\n      function getImage(src, premultiplyAlpha) {\n        return new Promise(function(resolve, reject) {\n          var xhr = new XMLHttpRequest();\n          xhr.open('GET', src, true);\n          xhr.responseType = 'blob';\n\n          xhr.onload = function() {\n            if (xhr.status === 200) {\n              var blob = xhr.response;\n              var hasAlphaChannel = premultiplyAlpha !== undefined ? premultiplyAlpha : hasAlphaChannel(blob.type);\n\n              createImageBitmap(blob, {\n                premultiplyAlpha: hasAlphaChannel ? 'premultiply' : 'none',\n                colorSpaceConversion: 'none',\n                imageOrientation: 'none'\n              }).then(function(data) {\n                resolve({ data: data, premultiplyAlpha: premultiplyAlpha });\n              }).catch(function(error) {\n                reject(error);\n              });\n            } else {\n              reject(new Error('Failed to load image: ' + xhr.statusText));\n            }\n          };\n\n          xhr.onerror = function() {\n            reject(new Error('Network error occurred while trying to fetch the image.'));\n          };\n\n          xhr.send();\n        });\n      }\n\n      self.onmessage = (event) => {\n        var src = event.data.src;\n        var premultiplyAlpha = event.data.premultiplyAlpha;\n\n        getImage(src, premultiplyAlpha)\n          .then(function(data) {\n              self.postMessage({ src: src, data: data }, [data.data]);\n          })\n          .catch(function(error) {\n              self.postMessage({ src: src, error: error.message });\n          });\n      };\n    ",t=new Blob([e.replace('"use strict";',"")],{type:"application/javascript"}),o=(self.URL?URL:webkitURL).createObjectURL(t),i=[];for(let s=0;s<n;s++)i.push(new Worker(o));return i}getNextWorker(){const n=this.workers[this.workerIndex];return this.workerIndex=(this.workerIndex+1)%this.workers.length,n}convertUrlToAbsolute(n){return new URL(n,self.location.href).href}getImage(n,e){return new Promise((t,o)=>{try{if(this.workers){const i=this.convertUrlToAbsolute(n);this.messageManager[i]=[t,o],this.getNextWorker().postMessage({src:i,premultiplyAlpha:e})}}catch(i){o(i)}})}}const Mt=class Mt extends bo{constructor(e,t){super(e);h(this,"props");this.props=Mt.resolveDefaults(t)}async getTextureData(){const{width:e,height:t}=this.props,o=e*t*4,i=new Uint8ClampedArray(o);for(let s=0;s<o;s+=4){const a=Math.floor(Math.random()*256);i[s]=a,i[s+1]=a,i[s+2]=a,i[s+3]=255}return{data:new ImageData(i,e,t)}}static makeCacheKey(e){const t=Mt.resolveDefaults(e);return"NoiseTexture,".concat(t.width,",").concat(t.height,",").concat(t.cacheId)}static resolveDefaults(e){var t,o,i;return{width:(t=e.width)!=null?t:128,height:(o=e.height)!=null?o:128,cacheId:(i=e.cacheId)!=null?i:0}}};h(Mt,"z$__type__Props");let Kn=Mt;class Us{constructor(n){h(this,"usedMemory",0);h(this,"txConstructors",{});h(this,"textureKeyCache",new Map);h(this,"textureIdCache",new Map);h(this,"ctxTextureCache",new WeakMap);h(this,"textureRefCountMap",new WeakMap);h(this,"imageWorkerManager",null);h(this,"hasCreateImageBitmap",!!self.createImageBitmap);h(this,"hasWorker",!!self.Worker);h(this,"renderer");this.hasCreateImageBitmap&&this.hasWorker&&(this.imageWorkerManager=new Ws(n)),this.hasCreateImageBitmap||console.warn("[Lightning] createImageBitmap is not supported on this browser. ImageTexture will be slower."),this.registerTextureType("ImageTexture",Qn),this.registerTextureType("ColorTexture",Ii),this.registerTextureType("NoiseTexture",Kn),this.registerTextureType("SubTexture",Bi),this.registerTextureType("RenderTexture",ki)}registerTextureType(n,e){this.txConstructors[n]=e}loadTexture(n,e,t=null){var s;const o=this.txConstructors[n];if(!o)throw new Error('Texture type "'.concat(n,'" is not registered'));let i;if((t==null?void 0:t.id)!==void 0&&this.textureIdCache.has(t.id)&&(i=this.textureIdCache.get(t.id)),!i){const a=t==null?void 0:t.id,c=(s=t==null?void 0:t.cacheKey)!=null?s:o.makeCacheKey(e);c&&this.textureKeyCache.has(c)?i=this.textureKeyCache.get(c):i=new o(this,e),a&&this.addTextureIdToCache(a,c,i)}return t!=null&&t.preload&&this.getCtxTexture(i).load(),i}addTextureIdToCache(n,e,t){const{textureIdCache:o,textureRefCountMap:i}=this;o.set(n,t),i.has(t)?i.get(t).count++:(i.set(t,{cacheKey:e,count:1}),e&&this.textureKeyCache.set(e,t))}removeTextureIdFromCache(n){var i;const{textureIdCache:e,textureRefCountMap:t}=this,o=e.get(n);if(o){if(e.delete(n),t.has(o)){const s=t.get(o);L(s),s.count--,s.count===0&&(t.delete(o),s.cacheKey&&this.textureKeyCache.delete(s.cacheKey))}(i=this.ctxTextureCache.get(o))==null||i.free()}}getDebugInfo(){return{keyCacheSize:this.textureKeyCache.size,idCacheSize:this.textureIdCache.size}}getCtxTexture(n){if(this.ctxTextureCache.has(n))return this.ctxTextureCache.get(n);const e=this.renderer.createCtxTexture(n);return this.ctxTextureCache.set(n,e),e}}class Ys{constructor(n){h(this,"memUsed",0);h(this,"textures",new Map);h(this,"threshold");this.threshold=n,n===0&&(this.setTextureMemUse=()=>{})}setTextureMemUse(n,e){if(this.textures.has(n)&&(this.memUsed-=this.textures.get(n)),e===0){this.textures.delete(n);return}else this.memUsed+=e,this.textures.set(n,e);this.memUsed>this.threshold&&this.gc()}gc(){this.textures.forEach((n,e)=>{e.renderable||e.free()})}}const $s=2e6;class Hs extends ot{constructor(e){super();h(this,"options");h(this,"animationManager");h(this,"txManager");h(this,"txMemManager");h(this,"fontManager");h(this,"textRenderers");h(this,"shManager");h(this,"renderer");h(this,"root");h(this,"boundsMargin");h(this,"deltaTime",0);h(this,"lastFrameTime",0);h(this,"currentFrameTime",0);h(this,"fpsNumFrames",0);h(this,"fpsElapsedTime",0);h(this,"renderRequested",!1);h(this,"contextSpy",null);this.options=e;const{canvas:t,clearColor:o,rootId:i,debug:s,appWidth:a,appHeight:c,boundsMargin:d,enableContextSpy:u,numImageWorkers:g,txMemByteThreshold:w}=e;this.txManager=new Us(g),this.txMemManager=new Ys(w),this.shManager=new hs,this.animationManager=new Os,this.contextSpy=u?new fs:null;let A=[0,0,0,0];d&&(A=Array.isArray(d)?d:[d,d,d,d]),this.boundsMargin=A,s!=null&&s.monitorTextureCache&&setInterval(()=>{L(this.txManager);const y=this.txManager.getDebugInfo();console.log("Texture ID Cache Size: ",y.idCacheSize),console.log("Texture Key Cache Size: ",y.keyCacheSize)},1e3),this.renderer=new Ei({stage:this,canvas:t,pixelRatio:e.devicePhysicalPixelRatio*e.deviceLogicalPixelRatio,clearColor:o!=null?o:4278190080,bufferMemory:$s,txManager:this.txManager,txMemManager:this.txMemManager,shManager:this.shManager,contextSpy:this.contextSpy}),this.txManager.renderer=this.renderer,this.textRenderers={canvas:new cs(this),sdf:new Bs(this)},this.fontManager=new Uo(this.textRenderers);const p=new ar(this,{id:i,x:0,y:0,width:a,height:c,alpha:1,autosize:!1,clipping:!1,color:0,colorTop:0,colorBottom:0,colorLeft:0,colorRight:0,colorTl:0,colorTr:0,colorBl:0,colorBr:0,zIndex:0,zIndexLocked:0,scaleX:1,scaleY:1,mountX:0,mountY:0,mount:0,pivot:.5,pivotX:.5,pivotY:.5,rotation:0,parent:null,texture:null,textureOptions:null,shader:null,shaderProps:null,rtt:!1});this.root=p,Ps(this)}updateAnimations(){const{animationManager:e}=this;this.root&&(this.lastFrameTime=this.currentFrameTime,this.currentFrameTime=Ds(),this.deltaTime=this.lastFrameTime?this.currentFrameTime-this.lastFrameTime:100/6,this.emit("frameTick",{time:this.currentFrameTime,delta:this.deltaTime}),e.update(this.deltaTime))}hasSceneUpdates(){return!!this.root.updateType||this.renderRequested}drawFrame(){const{renderer:e,renderRequested:t}=this;this.root.updateType!==0&&this.root.update(this.deltaTime,this.root.clippingRect),e==null||e.reset(),e.rttNodes.length>0&&e.renderRTTNodes(),this.addQuads(this.root),e==null||e.render(),this.calculateFps(),t&&(this.renderRequested=!1)}calculateFps(){var t,o,i;const{fpsUpdateInterval:e}=this.options;if(e&&(this.fpsNumFrames++,this.fpsElapsedTime+=this.deltaTime,this.fpsElapsedTime>=e)){const s=Math.round(this.fpsNumFrames*1e3/this.fpsElapsedTime);this.fpsNumFrames=0,this.fpsElapsedTime=0,this.emit("fpsUpdate",{fps:s,contextSpyData:(o=(t=this.contextSpy)==null?void 0:t.getData())!=null?o:null}),(i=this.contextSpy)==null||i.reset()}}addQuads(e){L(this.renderer&&e.globalTransform),e.isRenderable&&e.renderQuads(this.renderer);for(let t=0;t<e.children.length;t++){const o=e.children[t];o&&(o==null?void 0:o.worldAlpha)!==0&&this.addQuads(o)}}requestRender(){this.renderRequested=!0}resolveTextRenderer(e,t=null){let o=t,i=!1;if(o){const a=this.textRenderers[o];a?a.canRenderFont(e)||(console.warn("Cannot use override text renderer '".concat(o,"' for font"),e),o=null,i=!0):(console.warn("Text renderer override '".concat(o,"' not found.")),o=null,i=!0)}if(!o){for(const[a,c]of Object.entries(this.textRenderers))if(a!=="canvas"&&c.canRenderFont(e)){o=a;break}o||(o="canvas")}i&&console.warn("Falling back to text renderer ".concat(String(o)));const s=this.textRenderers[o];return L(s,"resolvedTextRenderer undefined"),s}}class js extends ar{constructor(e,t){super(e,t);h(this,"textRenderer");h(this,"trState");h(this,"_textRendererOverride",null);h(this,"onTextLoaded",()=>{const{contain:e}=this,t=this.trState.props.width,o=this.trState.props.height,i=this.trState.textW||0,s=this.trState.textH||0;e==="both"?(this.props.width=t,this.props.height=o):e==="width"?(this.props.width=t,this.props.height=s):e==="none"&&(this.props.width=i,this.props.height=s),this.updateLocalTransform(),this.stage.requestRender(),this.emit("loaded",{type:"text",dimensions:{width:this.trState.textW||0,height:this.trState.textH||0}})});h(this,"onTextFailed",(e,t)=>{this.emit("failed",{type:"text",error:t})});this._textRendererOverride=t.textRendererOverride;const{resolvedTextRenderer:o,textRendererState:i}=this.resolveTextRendererAndState({x:this.absX,y:this.absY,width:t.width,height:t.height,textAlign:t.textAlign,color:t.color,zIndex:t.zIndex,contain:t.contain,scrollable:t.scrollable,scrollY:t.scrollY,offsetY:t.offsetY,letterSpacing:t.letterSpacing,debug:t.debug,fontFamily:t.fontFamily,fontSize:t.fontSize,fontStretch:t.fontStretch,fontStyle:t.fontStyle,fontWeight:t.fontWeight,text:t.text,lineHeight:t.lineHeight,maxLines:t.maxLines,textBaseline:t.textBaseline,verticalAlign:t.verticalAlign,overflowSuffix:t.overflowSuffix});this.textRenderer=o,this.trState=i}get width(){return this.props.width}set width(e){this.props.width=e,this.textRenderer.set.width(this.trState,e),this.contain==="none"&&this.setUpdateType(B.Local)}get height(){return this.props.height}set height(e){this.props.height=e,this.textRenderer.set.height(this.trState,e),this.contain!=="both"&&this.setUpdateType(B.Local)}get color(){return this.trState.props.color}set color(e){this.textRenderer.set.color(this.trState,e)}get text(){return this.trState.props.text}set text(e){this.textRenderer.set.text(this.trState,e)}get textRendererOverride(){return this._textRendererOverride}set textRendererOverride(e){this._textRendererOverride=e,this.textRenderer.destroyState(this.trState);const{resolvedTextRenderer:t,textRendererState:o}=this.resolveTextRendererAndState(this.trState.props);this.textRenderer=t,this.trState=o}get fontSize(){return this.trState.props.fontSize}set fontSize(e){this.textRenderer.set.fontSize(this.trState,e)}get fontFamily(){return this.trState.props.fontFamily}set fontFamily(e){this.textRenderer.set.fontFamily(this.trState,e)}get fontStretch(){return this.trState.props.fontStretch}set fontStretch(e){this.textRenderer.set.fontStretch(this.trState,e)}get fontStyle(){return this.trState.props.fontStyle}set fontStyle(e){this.textRenderer.set.fontStyle(this.trState,e)}get fontWeight(){return this.trState.props.fontWeight}set fontWeight(e){this.textRenderer.set.fontWeight(this.trState,e)}get textAlign(){return this.trState.props.textAlign}set textAlign(e){this.textRenderer.set.textAlign(this.trState,e)}get contain(){return this.trState.props.contain}set contain(e){this.textRenderer.set.contain(this.trState,e)}get scrollable(){return this.trState.props.scrollable}set scrollable(e){this.textRenderer.set.scrollable(this.trState,e)}get scrollY(){return this.trState.props.scrollY}set scrollY(e){this.textRenderer.set.scrollY(this.trState,e)}get offsetY(){return this.trState.props.offsetY}set offsetY(e){this.textRenderer.set.offsetY(this.trState,e)}get letterSpacing(){return this.trState.props.letterSpacing}set letterSpacing(e){this.textRenderer.set.letterSpacing(this.trState,e)}get lineHeight(){return this.trState.props.lineHeight}set lineHeight(e){this.textRenderer.set.lineHeight&&this.textRenderer.set.lineHeight(this.trState,e)}get maxLines(){return this.trState.props.maxLines}set maxLines(e){this.textRenderer.set.maxLines&&this.textRenderer.set.maxLines(this.trState,e)}get textBaseline(){return this.trState.props.textBaseline}set textBaseline(e){this.textRenderer.set.textBaseline&&this.textRenderer.set.textBaseline(this.trState,e)}get verticalAlign(){return this.trState.props.verticalAlign}set verticalAlign(e){this.textRenderer.set.verticalAlign&&this.textRenderer.set.verticalAlign(this.trState,e)}get overflowSuffix(){return this.trState.props.overflowSuffix}set overflowSuffix(e){this.textRenderer.set.overflowSuffix&&this.textRenderer.set.overflowSuffix(this.trState,e)}get debug(){return this.trState.props.debug}set debug(e){this.textRenderer.set.debug(this.trState,e)}update(e,t){super.update(e,t),L(this.globalTransform),this.textRenderer.set.x(this.trState,this.globalTransform.tx),this.textRenderer.set.y(this.trState,this.globalTransform.ty)}checkRenderProps(){return this.trState.props.text!==""?!0:super.checkRenderProps()}onChangeIsRenderable(e){super.onChangeIsRenderable(e),this.textRenderer.setIsRenderable(this.trState,e)}renderQuads(e){var t,o;L(this.globalTransform),!(this.parentHasRenderTexture&&(!e.renderToTextureActive||this.parentRenderTexture!==e.activeRttNode))&&(this.parentHasRenderTexture&&((t=this.props.parent)!=null&&t.rtt)&&(this.globalTransform=fe.identity(),this.globalTransform.multiply((o=this.localTransform)!=null?o:fe.identity())),L(this.globalTransform),this.textRenderer.renderQuads(this.trState,this.globalTransform,this.clippingRect,this.worldAlpha,this.parentHasRenderTexture,this.framebufferDimensions))}destroy(){super.destroy(),this.textRenderer.destroyState(this.trState)}resolveTextRendererAndState(e){const t=this.stage.resolveTextRenderer(e,this._textRendererOverride),o=t.createState(e);return o.emitter.on("loaded",this.onTextLoaded),o.emitter.on("failed",this.onTextFailed),t.scheduleUpdateState(o),{resolvedTextRenderer:t,textRendererState:o}}}class Qs extends Xn{constructor(n,e,t){super(n,e,t,new js(t,{id:lr(),x:n.x,y:n.y,width:n.width,height:n.height,alpha:n.alpha,autosize:n.autosize,clipping:n.clipping,color:n.color,colorTop:n.colorTop,colorBottom:n.colorBottom,colorLeft:n.colorLeft,colorRight:n.colorRight,colorTl:n.colorTl,colorTr:n.colorTr,colorBl:n.colorBl,colorBr:n.colorBr,zIndex:n.zIndex,zIndexLocked:n.zIndexLocked,scaleX:n.scaleX,scaleY:n.scaleY,mountX:n.mountX,mountY:n.mountY,mount:n.mount,pivot:n.pivot,pivotX:n.pivotX,pivotY:n.pivotY,rotation:n.rotation,text:n.text,fontSize:n.fontSize,fontFamily:n.fontFamily,fontWeight:n.fontWeight,fontStretch:n.fontStretch,fontStyle:n.fontStyle,contain:n.contain,scrollable:n.scrollable,letterSpacing:n.letterSpacing,textAlign:n.textAlign,scrollY:n.scrollY,offsetY:n.offsetY,textRendererOverride:n.textRendererOverride,lineHeight:n.lineHeight,maxLines:n.maxLines,textBaseline:n.textBaseline,verticalAlign:n.verticalAlign,overflowSuffix:n.overflowSuffix,debug:n.debug,parent:null,texture:null,textureOptions:null,shader:null,shaderProps:null,rtt:!1,parentHasRenderTexture:!1}))}get text(){return this.coreNode.text}set text(n){this.coreNode.text=n}get textRendererOverride(){return this.coreNode.textRendererOverride}set textRendererOverride(n){this.coreNode.textRendererOverride=n}get fontSize(){return this.coreNode.fontSize}set fontSize(n){this.coreNode.fontSize=n}get fontFamily(){return this.coreNode.fontFamily}set fontFamily(n){this.coreNode.fontFamily=n}get fontWeight(){return this.coreNode.fontWeight}set fontWeight(n){this.coreNode.fontWeight=n}get fontStretch(){return this.coreNode.fontStretch}set fontStretch(n){this.coreNode.fontStretch=n}get fontStyle(){return this.coreNode.fontStyle}set fontStyle(n){this.coreNode.fontStyle=n}get textAlign(){return this.coreNode.textAlign}set textAlign(n){this.coreNode.textAlign=n}get contain(){return this.coreNode.contain}set contain(n){this.coreNode.contain=n}get scrollable(){return this.coreNode.scrollable}set scrollable(n){this.coreNode.scrollable=n}get scrollY(){return this.coreNode.scrollY}set scrollY(n){this.coreNode.scrollY=n}get offsetY(){return this.coreNode.offsetY}set offsetY(n){this.coreNode.offsetY=n}get letterSpacing(){return this.coreNode.letterSpacing}set letterSpacing(n){this.coreNode.letterSpacing=n}get lineHeight(){return this.coreNode.lineHeight}set lineHeight(n){n&&(this.coreNode.lineHeight=n)}get maxLines(){return this.coreNode.maxLines}set maxLines(n){n&&(this.coreNode.maxLines=n)}get textBaseline(){return this.coreNode.textBaseline}set textBaseline(n){n&&(this.coreNode.textBaseline=n)}get verticalAlign(){return this.coreNode.verticalAlign}set verticalAlign(n){n&&(this.coreNode.verticalAlign=n)}get overflowSuffix(){return this.coreNode.overflowSuffix}set overflowSuffix(n){n&&(this.coreNode.overflowSuffix=n)}get debug(){return this.coreNode.debug}set debug(n){this.coreNode.debug=n}}class Xs{constructor(){h(this,"root",null);h(this,"stage",null);h(this,"rendererMain",null)}async init(n,e,t){this.stage=new Hs({rootId:lr(),appWidth:e.appWidth,appHeight:e.appHeight,txMemByteThreshold:e.txMemByteThreshold,boundsMargin:e.boundsMargin,deviceLogicalPixelRatio:e.deviceLogicalPixelRatio,devicePhysicalPixelRatio:e.devicePhysicalPixelRatio,clearColor:e.clearColor,canvas:t,fpsUpdateInterval:e.fpsUpdateInterval,enableContextSpy:e.enableContextSpy,numImageWorkers:e.numImageWorkers,debug:{monitorTextureCache:!1}}),this.rendererMain=n,L(this.stage.root);const o=new Xn(n.resolveNodeDefaults({}),this.rendererMain,this.stage,this.stage.root);this.root=o,o.once("beforeDestroy",this.onBeforeDestroyNode.bind(this,o)),this.onCreateNode(o),e.coreExtensionModule&&await Es(e.coreExtensionModule,this.stage),this.stage.on("fpsUpdate",(i,s)=>{this.onFpsUpdate(s)}),this.stage.on("frameTick",(i,s)=>{this.onFrameTick(s)}),this.stage.on("idle",()=>{this.onIdle()})}createNode(n){L(this.rendererMain),L(this.stage);const e=new Xn(n,this.rendererMain,this.stage);return e.once("beforeDestroy",this.onBeforeDestroyNode.bind(this,e)),this.onCreateNode(e),e}createTextNode(n){L(this.rendererMain),L(this.stage);const e=new Qs(n,this.rendererMain,this.stage);return e.once("beforeDestroy",this.onBeforeDestroyNode.bind(this,e)),this.onCreateNode(e),e}destroyNode(n){n.destroy()}releaseTexture(n){const{stage:e}=this;L(e),e.txManager.removeTextureIdFromCache(n)}getRootNode(){return L(this.root),this.root}onCreateNode(n){throw new Error("Method not implemented.")}onBeforeDestroyNode(n){throw new Error("Method not implemented.")}onFpsUpdate(n){throw new Error("Method not implemented.")}onFrameTick(n){throw new Error("Method not implemented.")}onIdle(){throw new Error("Method not implemented.")}}let Le,cr;function Ks(r={},n="app"){const e=new Xs;return Le=new Fs(r,n,e),cr=Le.createShader.bind(Le),Le}class Vs extends Array{constructor(n){super(),this._parent=n}get selected(){return this[this._parent.selected||0]}get firstChild(){return this[0]}insert(n,e){if(e){const t=this.indexOf(e);this.splice(t,0,n)}else this.push(n);n.parent=this._parent,this._parent._isDirty=!0}remove(n){const e=this.indexOf(n);e>=0&&this.splice(e,1)}}function Gs(){return{BASE_URL:"/solid-demo-app/",MODE:"development",DEV:!0,PROD:!1,SSR:!1,LEGACY:!1}&&!0}const qs=Gs()||!1,pe={debug:!1,animationsEnabled:!0,animationSettings:{duration:250,easing:"ease-in-out"},fontSettings:{fontFamily:"Ubuntu",fontSize:100}};function Pr(r){return Zs(r)&&r.debug}function et(r,n,...e){qs&&(pe.debug||Pr(n)||Pr(e[0]))&&console.log(r,n,...e)}function Zt(r){return typeof r=="function"}function Zs(r){return typeof r=="object"}function pn(r){return Array.isArray(r)}function Js(r){return typeof r=="string"}function ea(r){return typeof r=="number"}function ta(r){return Number.isInteger(r)}function na(r,n){for(const e of n)if(e in r)return!0;return!1}function $o(r,n={}){if(pn(r))r.forEach(e=>{$o(e,n)});else if(r)for(const e in r)n[e]===void 0&&(n[e]=r[e]);return n}class Dr extends Array{constructor(n,e={}){return pn(e)?super(...e):Js(e)?super(e):super(...Object.entries(e).filter(([t,o])=>o).map(([t])=>t)),this.onChange=n,this}has(n){return this.indexOf(n)>=0}is(n){return this.indexOf(n)>=0}add(n){this.push(n),this.onChange()}toggle(n){this.has(n)?this.remove(n):this.add(n)}remove(n){const e=this.indexOf(n);e>=0&&(this.splice(e,1),this.onChange())}}function ra(r){const n=[];let e=!1;for(let x=0;x<r.children.length;x++){const m=r.children[x];if(m.name!=="TextNode"&&m.flexItem!==!1){if(m.name==="text"&&m.text!==""&&!(m.width||m.height))return!1;m.flexOrder!==void 0&&(e=!0),n.push(m)}}e&&n.sort((x,m)=>(x.flexOrder||0)-(m.flexOrder||0));const t=n.length,i=(r.flexDirection||"row")==="row",s=i?"width":"height",a=i?"height":"width",c=i?"marginLeft":"marginTop",d=i?"marginRight":"marginBottom",u=i?"x":"y",g=i?"y":"x",w=r[s]||0,A=r[a]||0,p=r.gap||0,y=r.justifyContent||"flexStart",S=r.alignItems;let b=0;["center","spaceBetween","spaceEvenly"].includes(y)&&(b=n.reduce((x,m)=>x+(m[s]||0),0));const v=A&&S?x=>{S==="flexStart"?x[g]=0:S==="center"?x[g]=(A-(x[a]||0))/2:S==="flexEnd"&&(x[g]=A-(x[a]||0))}:x=>x;if(y==="flexStart"){let x=0;if(n.forEach(m=>{m[u]=x+(m[c]||0),x+=(m[s]||0)+p+(m[c]||0)+(m[d]||0),v(m)}),r.flexBoundary!=="fixed"){const m=x-p;if(m!==r[s])return r[s]=m,!0}}else if(y==="flexEnd"){let x=w;for(let m=t-1;m>=0;m--){const C=n[m];L(C),C[u]=x-(C[s]||0)-(C[d]||0),x-=(C[s]||0)+p+(C[c]||0)+(C[d]||0),v(C)}}else if(y==="center"){let x=(w-(b+p*(t-1)))/2;n.forEach(m=>{m[u]=x,x+=(m[s]||0)+p,v(m)})}else if(y==="spaceBetween"){const x=(w-b)/(t-1);let m=0;n.forEach(C=>{C[u]=m,m+=(C[s]||0)+x,v(C)})}else if(y==="spaceEvenly"){const x=(w-b)/(t+1);let m=x;n.forEach(C=>{C[u]=m,m+=(C[s]||0)+x,v(C)})}return!1}const{animationSettings:oa}=pe;function Or(r){const n=[];for(const[e,t]of Object.entries(r))n.push({type:e,props:t});return cr("DynamicShader",{effects:n})}function At(r=""){return{set(n){ea(n)&&(n={width:n,color:255}),this.effects={...this.effects||{},["border".concat(r)]:n},this["_border".concat(r)]=n},get(){return this["_border".concat(r)]}}}const ia=["alpha","color","colorTop","colorRight","colorLeft","colorBottom","colorTl","colorTr","colorBl","colorBr","height","fontSize","lineHeight","mount","mountX","mountY","pivot","pivotX","pivotY","rotation","scale","width","worldX","worldY","x","y","zIndex","zIndexLocked"],sa=["autosize","clipping","contain","fontFamily","fontStretch","fontStyle","fontWeight","letterSpacing","maxLines","offsetY","overflowSuffix","rtt","scrollable","scrollY","src","text","textAlign","textBaseline","textOverflow","texture","verticalAlign","wordWrap"];class be extends Object{constructor(n){super(),this._animationQueue=[],this._animationRunning=!1,this.name=n,this._renderProps={},this.children=new Vs(this)}get effects(){return this._effects}set effects(n){this._effects=n,this.lng&&(this.shader=Or(n))}get parent(){return this._parent}set parent(n){var e;this._parent=n,this.lng&&(this.lng.parent=(e=n==null?void 0:n.lng)!=null?e:null)}get shader(){return this._shader}set shader(n){pn(n)?this._shader=cr(...n):this._shader=n,this._sendToLightning("shader",this._shader)}_sendToLightningAnimatable(n,e){if(this.lng){if(pe.animationsEnabled&&this.transition&&(this.transition===!0||this.transition[n])){const t=this.transition===!0||this.transition[n]===!0?void 0:this.transition[n];return this.animate({[n]:e},t).start()}this.lng[n]=e}else this._renderProps[n]=e}_sendToLightning(n,e){this.lng?this.lng[n]=e:this._renderProps[n]=e}animate(n,e){return L(this.lng,"Node must be rendered before animating"),this.lng.animate(n,e||this.animationSettings)}chain(n,e){return this._animationRunning&&(this._animationQueue=[],this._animationRunning=!1),e?this._animationQueueSettings=e:this._animationQueueSettings||(this._animationQueueSettings=e||this.animationSettings),e=e||this._animationQueueSettings,this._animationQueue.push({props:n,animationSettings:e}),this}async start(){let n=this._animationQueue.shift();for(;n;)this._animationRunning=!0,await this.animate(n.props,n.animationSettings).start().waitUntilStopped(),n=this._animationQueue.shift();this._animationRunning=!1,this._animationQueueSettings=void 0}setFocus(){if(this.lng){if(this.forwardFocus!==void 0)if(Zt(this.forwardFocus)){if(this.forwardFocus.call(this,this)!==!1)return}else{const n=typeof this.forwardFocus=="number"?this.forwardFocus:null;if(n!==null&&n<this.children.length){const e=this.children[n];e instanceof be&&e.setFocus();return}}queueMicrotask(()=>Mo(this))}else this.autofocus=!0}isTextNode(){return this.name==="text"}_resizeOnTextLoad(){this.lng.on("loaded",(n,e)=>{if(e.type==="text"){const{dimensions:t}=e;this.parent.updateLayout(this,t)}})}getText(){return this.children.map(n=>n.text).join("")}destroy(){var n;this._queueDelete&&((n=this.lng)==null||n.destroy())}set onEvents(n){this._events=n}get onEvents(){return this._events||[]}set style(n){pn(n)?this._style=$o(n):this._style=n;for(const e in this._style)this[e]===void 0&&(this[e]=this._style[e])}get style(){return this._style}get hasChildren(){return this.children.length>0}getChildById(n){return this.children.find(e=>e.id===n)}searchChildrenById(n){for(const e of this.children){if(e.id===n)return e;if(e instanceof be){const t=e.searchChildrenById(n);if(t)return t}}}set states(n){this._states=new Dr(this._stateChanged.bind(this),n),this.lng&&this._stateChanged()}get states(){return this._states=this._states||new Dr(this._stateChanged.bind(this)),this._states}get animationSettings(){return this._animationSettings||oa}set animationSettings(n){this._animationSettings=n}updateLayout(n,e){var t,o;if(this.hasChildren){et("Layout: ",this);let i=!1;Zt(this.onBeforeLayout)&&(i=this.onBeforeLayout.call(this,n,e)),this.display==="flex"?(ra(this)||i)&&((t=this.parent)==null||t.updateLayout()):i&&((o=this.parent)==null||o.updateLayout()),Zt(this.onLayout)&&this.onLayout.call(this,n,e)}}_stateChanged(){if(et("State Changed: ",this,this.states),this.forwardStates){const e=this.states.slice();this.children.forEach(t=>t.states=e)}const n=this.states;if(this._undoStyles||this.style&&na(this.style,n)){this._undoStyles=this._undoStyles||[];const e={};this._undoStyles.forEach(o=>{e[o]=this.style[o]});const t=n.reduce((o,i)=>{const s=this.style[i];return s&&(o={...o,...s}),o},{});this._undoStyles=Object.keys(t),t.transition!==void 0&&(this.transition=t.transition),Object.assign(this,e,t)}}render(){const n=this,e=this.parent;if(!e){console.warn("Parent not set - no node created for: ",this);return}if(!e.lng){console.warn("Parent not rendered yet: ",this);return}if(this.lng){console.warn("Node already rendered: ",this);return}e._isDirty&&(e.updateLayout(),e._isDirty=!1),this.states.length&&this._stateChanged();const t=n._renderProps;if(t.x=t.x||0,t.y=t.y||0,e.lng&&(t.parent=e.lng),n._effects&&(this.shader=Or(n._effects)),n.isTextNode()){if(pe.fontSettings)for(const o in pe.fontSettings)t[o]===void 0&&(t[o]=pe.fontSettings[o]);t.text=n.getText(),t.contain&&(t.width||(t.width=(e.width||0)-t.x-(t.marginRight||0),n._autosized=!0),t.contain==="both"&&!t.height&&!t.maxLines&&(t.height=(e.height||0)-t.y-(t.marginBottom||0),n._autosized=!0)),et("Rendering: ",this,t),n.lng=Le.createTextNode(t),(!t.width||!t.height)&&(n._autosized=!0,n._resizeOnTextLoad())}else t.texture||(isNaN(t.width)&&(t.width=(e.width||0)-t.x,n._autosized=!0),isNaN(t.height)&&(t.height=(e.height||0)-t.y,n._autosized=!0),!t.color&&!t.src&&(t.color=0)),et("Rendering: ",this,t),n.lng=Le.createNode(t);n.onFail&&n.lng.on("failed",n.onFail),n.onLoad&&n.lng.on("loaded",n.onLoad),Zt(this.onCreate)&&this.onCreate.call(this,n),n.onEvents.forEach(([o,i])=>{var s;(s=n.lng)==null||s.on(o,(a,c)=>i(n,c))}),n.lng.div&&(n.lng.div.solid=n),n.name!=="text"&&n.children.forEach(o=>{o.render?o.render():o.text!==""&&console.warn("TextNode outside of <Text>: ",o)}),n.autofocus&&n.setFocus(),delete this._renderProps}}for(const r of ia)Object.defineProperty(be.prototype,r,{get(){return this.lng?this.lng[r]:this._renderProps[r]},set(n){this._sendToLightningAnimatable(r,n)}});for(const r of sa)Object.defineProperty(be.prototype,r,{get(){return this.lng?this.lng[r]:this._renderProps[r]},set(n){this._sendToLightning(r,n)}});Object.defineProperties(be.prototype,{borderRadius:{set(r){this._borderRadius=r,this.effects={...this.effects||{},radius:{radius:r}}},get(){return this._borderRadius}},border:At(),borderLeft:At("Left"),borderRight:At("Right"),borderTop:At("Top"),borderBottom:At("Bottom")});Object.defineProperties(be.prototype,{linearGradient:{set(r={}){this._linearGradient=r,this.effects={...this.effects||{},linearGradient:r}},get(){return this._linearGradient}}});const E=r=>(()=>{var n=Ot("text");return _n(n,r,!1),n})(),N=r=>(()=>{var n=Ot("node");return _n(n,r,!1),n})();function aa({createElement:r,createTextNode:n,isTextNode:e,replaceText:t,insertNode:o,removeNode:i,setProperty:s,getParentNode:a,getFirstChild:c,getNextSibling:d}){function u(v,x,m,C){if(m!==void 0&&!C&&(C=[]),typeof x!="function")return g(v,x,C,m);Re(I=>g(v,x(),I,m),C)}function g(v,x,m,C,I){for(;typeof m=="function";)m=m();if(x===m)return m;const R=typeof x,T=C!==void 0;if(R==="string"||R==="number")if(R==="number"&&(x=x.toString()),T){let _=m[0];_&&e(_)?t(_,x):_=n(x),m=p(v,m,C,_)}else m!==""&&typeof m=="string"?t(c(v),m=x):(p(v,m,C,n(x)),m=x);else if(x==null||R==="boolean")m=p(v,m,C);else{if(R==="function")return Re(()=>{let _=x();for(;typeof _=="function";)_=_();m=g(v,_,m,C)}),()=>m;if(Array.isArray(x)){const _=[];if(w(_,x,I))return Re(()=>m=g(v,_,m,C,!0)),()=>m;if(_.length===0){const k=p(v,m,C);if(T)return m=k}else Array.isArray(m)?m.length===0?y(v,_,C):A(v,m,_):m==null||m===""?y(v,_):A(v,T&&m||[c(v)],_);m=_}else{if(Array.isArray(m)){if(T)return m=p(v,m,C,x);p(v,m,null,x)}else m==null||m===""||!c(v)?o(v,x):S(v,x,c(v));m=x}}return m}function w(v,x,m){let C=!1;for(let I=0,R=x.length;I<R;I++){let T=x[I],_;if(!(T==null||T===!0||T===!1))if(Array.isArray(T))C=w(v,T)||C;else if((_=typeof T)=="string"||_==="number")v.push(n(T));else if(_==="function")if(m){for(;typeof T=="function";)T=T();C=w(v,Array.isArray(T)?T:[T])||C}else v.push(T),C=!0;else v.push(T)}return C}function A(v,x,m){let C=m.length,I=x.length,R=C,T=0,_=0,k=d(x[I-1]),z=null;for(;T<I||_<R;){if(x[T]===m[_]){T++,_++;continue}for(;x[I-1]===m[R-1];)I--,R--;if(I===T){const F=R<C?_?d(m[_-1]):m[R-_]:k;for(;_<R;)o(v,m[_++],F)}else if(R===_)for(;T<I;)(!z||!z.has(x[T]))&&i(v,x[T]),T++;else if(x[T]===m[R-1]&&m[_]===x[I-1]){const F=d(x[--I]);o(v,m[_++],d(x[T++])),o(v,m[--R],F),x[I]=m[R]}else{if(!z){z=new Map;let P=_;for(;P<R;)z.set(m[P],P++)}const F=z.get(x[T]);if(F!=null)if(_<F&&F<R){let P=T,O=1,D;for(;++P<I&&P<R&&!((D=z.get(x[P]))==null||D!==F+O);)O++;if(O>F-_){const Y=x[T];for(;_<F;)o(v,m[_++],Y)}else S(v,m[_++],x[T++])}else T++;else i(v,x[T++])}}}function p(v,x,m,C){if(m===void 0){let R;for(;R=c(v);)i(v,R);return C&&o(v,C),""}const I=C||n("");if(x.length){let R=!1;for(let T=x.length-1;T>=0;T--){const _=x[T];if(I!==_){const k=a(_)===v;!R&&!T?k?S(v,I,_):o(v,I,m):k&&i(v,_)}else R=!0}}else o(v,I,m);return[I]}function y(v,x,m){for(let C=0,I=x.length;C<I;C++)o(v,x[C],m)}function S(v,x,m){o(v,x,m),i(v,m)}function b(v,x,m={},C){return x||(x={}),C||Re(()=>m.children=g(v,x.children,m.children)),Re(()=>x.ref&&x.ref(v)),Re(()=>{for(const I in x){if(I==="children"||I==="ref")continue;const R=x[I];R!==m[I]&&(s(v,I,R,m[I]),m[I]=R)}}),m}return{render(v,x){let m;return mt(C=>{m=C,u(x,v())}),m},insert:u,spread(v,x,m){typeof x=="function"?Re(C=>b(v,x(),C,m)):b(v,x,void 0,m)},createElement:r,createTextNode:n,insertNode:o,setProp(v,x,m,C){return s(v,x,m,C),m},mergeProps:ir,effect:Re,memo:q,createComponent:Lo,use(v,x,m){return le(()=>v(x,m))}}}function la(r){const n=aa(r);return n.mergeProps=ir,n}const ca={createElement(r){return new be(r)},createTextNode(r){return{name:"TextNode",text:r,parent:void 0}},replaceText(r,n){et("Replace Text: ",r,n),r.text=n;const e=r.parent;L(e),e.text=e.getText()},setProperty(r,n,e=!0){r[n]=e},insertNode(r,n,e){et("INSERT: ",r,n,e),r.children.insert(n,e),n._queueDelete=!1,n instanceof be?r.lng&&n.render():r.isTextNode()&&(r.text=r.getText())},isTextNode(r){return r.isTextNode()},removeNode(r,n){et("REMOVE: ",r,n),r.children.remove(n),n._queueDelete=!0,n instanceof be&&queueMicrotask(()=>n.destroy())},getParentNode(r){return r.parent},getFirstChild(r){return r.children[0]},getNextSibling(r){const n=r.parent.children||[],e=n.indexOf(r)+1;if(e<n.length)return n[e]}},Ho=la(ca),da=async function(r,n){const e=Ks(pe.rendererOptions,n);await e.init();const t=new be("App");return t.lng=e.root,{dispose:Ho.render(r,t),rootNode:t,renderer:e}},{effect:Cd,memo:xt,createComponent:l,createElement:Ot,createTextNode:Td,insertNode:_d,insert:jo,spread:_n,setProp:ua,mergeProps:Q,use:Qo}=Ho;function M(r=""){return ta(r)?r:typeof r=="string"?r.startsWith("#")?+(r.replace("#","0x")+(r.length===7?"ff":"")):r.startsWith("0x")?Number(r):+("0x"+(r.length===6?r+"ff":r)):0}const Wr="_$DX_DELEGATE";function ha(r,n=window.document){const e=n[Wr]||(n[Wr]=new Set);for(let t=0,o=r.length;t<o;t++){const i=r[t];e.has(i)||(e.add(i),n.addEventListener(i,fa))}}function fa(r){const n="$$".concat(r.type);let e=r.composedPath&&r.composedPath()[0]||r.target;for(r.target!==e&&Object.defineProperty(r,"target",{configurable:!0,value:e}),Object.defineProperty(r,"currentTarget",{configurable:!0,get(){return e||document}});e;){const t=e[n];if(t&&!e.disabled){const o=e["".concat(n,"Data")];if(o!==void 0?t.call(e,o,r):t.call(e,r),r.cancelBubble)return}e=e._$host||e.parentNode||e.host}}const ga=!1;function Xo(){let r=new Set;function n(o){return r.add(o),()=>r.delete(o)}let e=!1;function t(o,i){if(e)return!(e=!1);const s={to:o,options:i,defaultPrevented:!1,preventDefault:()=>s.defaultPrevented=!0};for(const a of r)a.listener({...s,from:a.location,retry:c=>{c&&(e=!0),a.navigate(o,{...i,resolve:!1})}});return!s.defaultPrevented}return{subscribe:n,confirm:t}}let Vn;function dr(){(!window.history.state||window.history.state._depth==null)&&window.history.replaceState({...window.history.state,_depth:window.history.length-1},""),Vn=window.history.state._depth}dr();function pa(r){return{...r,_depth:window.history.state&&window.history.state._depth}}function ma(r,n){let e=!1;return()=>{const t=Vn;dr();const o=t==null?null:Vn-t;if(e){e=!1;return}o&&n(o)?(e=!0,window.history.go(-o)):r()}}const xa=/^(?:[a-z0-9]+:)?\/\//i,ya=/^\/+|(\/)\/+$/g,Ko="http://sr";function Et(r,n=!1){const e=r.replace(ya,"$1");return e?n||/^[?#]/.test(e)?e:"/"+e:""}function ln(r,n,e){if(xa.test(n))return;const t=Et(r),o=e&&Et(e);let i="";return!o||n.startsWith("/")?i=t:o.toLowerCase().indexOf(t.toLowerCase())!==0?i=t+o:i=o,(i||"/")+Et(n,!i)}function va(r,n){if(r==null)throw new Error(n);return r}function wa(r,n){return Et(r).replace(/\/*(\*.*)?$/g,"")+Et(n)}function Vo(r){const n={};return r.searchParams.forEach((e,t)=>{n[t]=e}),n}function Go(r,n,e){const[t,o]=r.split("/*",2),i=t.split("/").filter(Boolean),s=i.length;return a=>{const c=a.split("/").filter(Boolean),d=c.length-s;if(d<0||d>0&&o===void 0&&!n)return null;const u={path:s?"":"/",params:{}},g=w=>e===void 0?void 0:e[w];for(let w=0;w<s;w++){const A=i[w],p=c[w],y=A[0]===":",S=y?A.slice(1):A;if(y&&Mn(p,g(S)))u.params[S]=p;else if(y||!Mn(p,A))return null;u.path+="/".concat(p)}if(o){const w=d?c.slice(-d).join("/"):"";if(Mn(w,g(o)))u.params[o]=w;else return null}return u}}function Mn(r,n){const e=t=>t.localeCompare(r,void 0,{sensitivity:"base"})===0;return n===void 0?!0:typeof n=="string"?e(n):typeof n=="function"?n(r):Array.isArray(n)?n.some(e):n instanceof RegExp?n.test(r):!1}function ba(r){const[n,e]=r.pattern.split("/*",2),t=n.split("/").filter(Boolean);return t.reduce((o,i)=>o+(i.startsWith(":")?2:3),t.length-(e===void 0?0:1))}function qo(r){const n=new Map,e=Dt();return new Proxy({},{get(t,o){return n.has(o)||_o(e,()=>n.set(o,q(()=>r()[o]))),n.get(o)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(r())}})}function ur(r){let n=/(\/?\:[^\/]+)\?/.exec(r);if(!n)return[r];let e=r.slice(0,n.index),t=r.slice(n.index+n[0].length);const o=[e,e+=n[1]];for(;n=/^(\/\:[^\/]+)\?/.exec(t);)o.push(e+=n[1]),t=t.slice(n[0].length);return ur(t).reduce((i,s)=>[...i,...o.map(a=>a+s)],[])}const Sa=100,Zo=Io(),Jo=Io(),hr=()=>va(Bo(Zo),"<A> and 'use' router primitives can be only used inside a Route."),vt=()=>hr().navigatorFactory(),ei=()=>hr().location,Aa=(r,n)=>{const e=ei(),t=q(()=>ur(r()).map(o=>Go(o,void 0,n)));return q(()=>{for(const o of t()){const i=o(e.pathname);if(i)return i}})},fr=()=>hr().params;function Ca(r,n=""){const{component:e,load:t,children:o,info:i}=r,s=!o||Array.isArray(o)&&!o.length,a={key:r,component:e,load:t,info:i};return ti(r.path).reduce((c,d)=>{for(const u of ur(d)){const g=wa(n,u);let w=s?g:g.split("/*",1)[0];w=w.split("/").map(A=>A.startsWith(":")||A.startsWith("*")?A:encodeURIComponent(A)).join("/"),c.push({...a,originalPath:u,pattern:w,matcher:Go(w,!s,r.matchFilters)})}return c},[])}function Ta(r,n=0){return{routes:r,score:ba(r[r.length-1])*1e4-n,matcher(e){const t=[];for(let o=r.length-1;o>=0;o--){const i=r[o],s=i.matcher(e);if(!s)return null;t.unshift({...s,route:i})}return t}}}function ti(r){return Array.isArray(r)?r:[r]}function ni(r,n="",e=[],t=[]){const o=ti(r);for(let i=0,s=o.length;i<s;i++){const a=o[i];if(a&&typeof a=="object"){a.hasOwnProperty("path")||(a.path="");const c=Ca(a,n);for(const d of c){e.push(d);const u=Array.isArray(a.children)&&a.children.length===0;if(a.children&&!u)ni(a.children,d.pattern,e,t);else{const g=Ta([...e],t.length);t.push(g)}e.pop()}}}return e.length?t:t.sort((i,s)=>s.score-i.score)}function Ur(r,n){for(let e=0,t=r.length;e<t;e++){const o=r[e].matcher(n);if(o)return o}return[]}function _a(r,n){const e=new URL(Ko),t=q(c=>{const d=r();try{return new URL(d,e)}catch(u){return console.error("Invalid path ".concat(d)),c}},e,{equals:(c,d)=>c.href===d.href}),o=q(()=>t().pathname),i=q(()=>t().search,!0),s=q(()=>t().hash),a=()=>"";return{get pathname(){return o()},get search(){return i()},get hash(){return s()},get state(){return n()},get key(){return a()},query:qo(it(i,()=>Vo(t())))}}let Ye;function Ra(r,n,e,t={}){const{signal:[o,i],utils:s={}}=r,a=s.parsePath||(F=>F),c=s.renderPath||(F=>F),d=s.beforeLeave||Xo(),u=ln("",t.base||"");if(u===void 0)throw new Error("".concat(u," is not a valid base path"));u&&!o().value&&i({value:u,replace:!0,scroll:!1});const[g,w]=W(!1),A=async F=>{w(!0);try{await Oi(F)}finally{w(!1)}},[p,y]=W(o().value),[S,b]=W(o().state),v=_a(p,S),x=[],m=W([]),C=q(()=>Ur(n(),v.pathname)),I=qo(()=>{const F=C(),P={};for(let O=0;O<F.length;O++)Object.assign(P,F[O].params);return P}),R={pattern:u,path:()=>u,outlet:()=>null,resolvePath(F){return ln(u,F)}};return Re(()=>{const{value:F,state:P}=o();le(()=>{F!==p()&&A(()=>{Ye="native",y(F),b(P),m[1]([])}).then(()=>{Ye=void 0})})}),{base:R,location:v,params:I,isRouting:g,renderPath:c,parsePath:a,navigatorFactory:_,matches:C,beforeLeave:d,preloadRoute:z,singleFlight:t.singleFlight===void 0?!0:t.singleFlight,submissions:m};function T(F,P,O){le(()=>{if(typeof P=="number"){P&&(s.go?s.go(P):console.warn("Router integration does not support relative routing"));return}const{replace:D,resolve:Y,scroll:j,state:se}={replace:!1,resolve:!0,scroll:!0,...O},ne=Y?F.resolvePath(P):ln("",P);if(ne===void 0)throw new Error("Path '".concat(P,"' is not a routable path"));if(x.length>=Sa)throw new Error("Too many redirects");const de=p();if((ne!==de||se!==S())&&!ga){if(d.confirm(ne,O)){const Ce=x.push({value:de,replace:D,scroll:j,state:S()});A(()=>{Ye="navigate",y(ne),b(se),m[1]([])}).then(()=>{x.length===Ce&&(Ye=void 0,k({value:ne,state:se}))})}}})}function _(F){return F=F||Bo(Jo)||R,(P,O)=>T(F,P,O)}function k(F){const P=x[0];P&&((F.value!==P.value||F.state!==P.state)&&i({...F,replace:P.replace,scroll:P.scroll}),x.length=0)}function z(F,P){const O=Ur(n(),F.pathname),D=Ye;Ye="preload";for(let Y in O){const{route:j,params:se}=O[Y];j.component&&j.component.preload&&j.component.preload();const{load:ne}=j;P&&ne&&_o(e(),()=>ne({params:se,location:{pathname:F.pathname,search:F.search,hash:F.hash,query:Vo(F),state:null,key:""},intent:"preload"}))}Ye=D}}function Ia(r,n,e,t){const{base:o,location:i,params:s}=r,{pattern:a,component:c,load:d}=t().route,u=q(()=>t().path);c&&c.preload&&c.preload();const g=d?d({params:s,location:i,intent:Ye||"initial"}):void 0;return{parent:n,pattern:a,path:u,outlet:()=>c?Lo(c,{params:s,location:i,data:g,get children(){return e()}}):e(),resolvePath(A){return ln(o.path(),A,u())}}}const Ba=r=>n=>{const{base:e}=n,t=An(()=>n.children),o=q(()=>ni(t(),n.base||""));let i;const s=Ra(r,o,()=>i,{base:e,singleFlight:n.singleFlight});return r.create&&r.create(s),l(Zo.Provider,{value:s,get children(){return l(ka,{routerState:s,get root(){return n.root},get load(){return n.rootLoad},get children(){return[xt(()=>(i=Dt())&&null),l(Ea,{routerState:s,get branches(){return o()}})]}})}})};function ka(r){const n=r.routerState.location,e=r.routerState.params,t=q(()=>r.load&&le(()=>r.load({params:e,location:n,intent:"preload"})));return l(ze,{get when(){return r.root},keyed:!0,get fallback(){return r.children},children:o=>l(o,{params:e,location:n,get data(){return t()},get children(){return r.children}})})}function Ea(r){const n=[];let e;const t=q(it(r.routerState.matches,(o,i,s)=>{let a=i&&o.length===i.length;const c=[];for(let d=0,u=o.length;d<u;d++){const g=i&&i[d],w=o[d];s&&g&&w.route.key===g.route.key?c[d]=s[d]:(a=!1,n[d]&&n[d](),mt(A=>{n[d]=A,c[d]=Ia(r.routerState,c[d-1]||r.routerState.base,Yr(()=>t()[d+1]),()=>r.routerState.matches()[d])}))}return n.splice(o.length).forEach(d=>d()),s&&a?s:(e=c[0],c)}));return Yr(()=>t()&&e)()}const Yr=r=>()=>l(ze,{get when(){return r()},keyed:!0,children:n=>l(Jo.Provider,{value:n,get children(){return n.outlet()}})}),he=r=>{const n=An(()=>r.children);return ir(r,{get children(){return n()}})};function Fa([r,n],e,t){return[e?()=>e(r()):r,t?o=>n(t(o)):n]}function Na(r){if(r==="#")return null;try{return document.querySelector(r)}catch(n){return null}}function La(r){let n=!1;const e=o=>typeof o=="string"?{value:o}:o,t=Fa(W(e(r.get()),{equals:(o,i)=>o.value===i.value}),void 0,o=>(!n&&r.set(o),o));return r.init&&Me(r.init((o=r.get())=>{n=!0,t[1](e(o)),n=!1})),Ba({signal:t,create:r.create,utils:r.utils})}function Ma(r,n,e){return r.addEventListener(n,e),()=>r.removeEventListener(n,e)}function za(r,n){const e=Na("#".concat(r));e?e.scrollIntoView():n&&window.scrollTo(0,0)}const Pa=new Map;function Da(r=!0,n=!1,e="/_server"){return t=>{const o=t.base.path(),i=t.navigatorFactory(t.base);let s={};function a(p){return p.namespaceURI==="http://www.w3.org/2000/svg"}function c(p){if(p.defaultPrevented||p.button!==0||p.metaKey||p.altKey||p.ctrlKey||p.shiftKey)return;const y=p.composedPath().find(C=>C instanceof Node&&C.nodeName.toUpperCase()==="A");if(!y||n&&!y.hasAttribute("link"))return;const S=a(y),b=S?y.href.baseVal:y.href;if((S?y.target.baseVal:y.target)||!b&&!y.hasAttribute("state"))return;const x=(y.getAttribute("rel")||"").split(/\s+/);if(y.hasAttribute("download")||x&&x.includes("external"))return;const m=S?new URL(b,document.baseURI):new URL(b);if(!(m.origin!==window.location.origin||o&&m.pathname&&!m.pathname.toLowerCase().startsWith(o.toLowerCase())))return[y,m]}function d(p){const y=c(p);if(!y)return;const[S,b]=y,v=t.parsePath(b.pathname+b.search+b.hash),x=S.getAttribute("state");p.preventDefault(),i(v,{resolve:!1,replace:S.hasAttribute("replace"),scroll:!S.hasAttribute("noscroll"),state:x&&JSON.parse(x)})}function u(p){const y=c(p);if(!y)return;const[S,b]=y;s[b.pathname]||t.preloadRoute(b,S.getAttribute("preload")!=="false")}function g(p){const y=c(p);if(!y)return;const[S,b]=y;s[b.pathname]||(s[b.pathname]=setTimeout(()=>{t.preloadRoute(b,S.getAttribute("preload")!=="false"),delete s[b.pathname]},200))}function w(p){const y=c(p);if(!y)return;const[,S]=y;s[S.pathname]&&(clearTimeout(s[S.pathname]),delete s[S.pathname])}function A(p){let y=p.submitter&&p.submitter.hasAttribute("formaction")?p.submitter.getAttribute("formaction"):p.target.getAttribute("action");if(!y)return;if(!y.startsWith("https://action/")){const b=new URL(y,Ko);if(y=t.parsePath(b.pathname+b.search),!y.startsWith(e))return}if(p.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const S=Pa.get(y);if(S){p.preventDefault();const b=new FormData(p.target);p.submitter&&p.submitter.name&&b.append(p.submitter.name,p.submitter.value),S.call({r:t,f:p.target},b)}}ha(["click","submit"]),document.addEventListener("click",d),r&&(document.addEventListener("mouseover",g),document.addEventListener("mouseout",w),document.addEventListener("focusin",u),document.addEventListener("touchstart",u)),document.addEventListener("submit",A),Me(()=>{document.removeEventListener("click",d),r&&(document.removeEventListener("mouseover",g),document.removeEventListener("mouseout",w),document.removeEventListener("focusin",u),document.removeEventListener("touchstart",u)),document.removeEventListener("submit",A)})}}function Oa(r){const n=r.replace(/^.*?#/,"");if(!n.startsWith("/")){const[,e="/"]=window.location.hash.split("#",2);return"".concat(e,"#").concat(n)}return n}function Wa(r){const n=()=>window.location.hash.slice(1),e=Xo();return La({get:n,set({value:t,replace:o,scroll:i,state:s}){o?window.history.replaceState(pa(s),"","#"+t):window.location.hash=t;const a=t.indexOf("#"),c=a>=0?t.slice(a+1):"";za(c,i),dr()},init:t=>Ma(window,"hashchange",ma(t,o=>!e.confirm(o&&o<0?o:n()))),create:Da(r.preload,r.explicitLinks,r.actionBase),utils:{go:t=>window.history.go(t),renderPath:t=>"#".concat(t),parsePath:Oa,beforeLeave:e}})(r)}var Ua=!!qi,Ya=Ua?r=>Dt()?Me(r):r:Me;function $a(r,n,e,t){return r.addEventListener(n,e,t),Ya(r.removeEventListener.bind(r,n,e,t))}function Ha(r,n=Dt()){let e=0,t,o;return()=>(e++,Me(()=>{e--,queueMicrotask(()=>{!e&&o&&(o(),o=t=void 0)})}),o||mt(i=>t=r(o=i),n),t)}var ja=Ha(()=>{const[r,n]=W(null);return $a(window,"keydown",e=>{n(e),setTimeout(()=>n(null))}),r});function Jt(r){return typeof r=="function"}function Qa(r){return Array.isArray(r)}const en={ArrowLeft:"Left",ArrowRight:"Right",ArrowUp:"Up",ArrowDown:"Down",Enter:"Enter",l:"Last"," ":"Space",Backspace:"Back",Escape:"Escape"},[mn,Xa]=W([]),Ka=r=>{const n=ja();if(r)for(const[e,t]of Object.entries(r))Qa(t)?t.forEach(o=>{en[o]=e}):en[t]=e;return je(it(sr,(e,t,o=[])=>{let i=e;const s=[];for(;i;)i.states.has("focus")||(i.states.add("focus"),Jt(i.onFocus)&&i.onFocus.call(i,e,t)),s.push(i),i=i.parent;return o.forEach(a=>{s.includes(a)||(a.states.remove("focus"),Jt(a.onBlur)&&a.onBlur.call(a,e,t))}),Xa(s),s},{defer:!0})),je(()=>{const e=n();if(e){const t=en[e.key]||en[e.keyCode];le(()=>{const o=mn();let i;for(const s of o){if(i=i||s,t){const a=s["on".concat(t)];if(Jt(a)&&a.call(s,e,s,i)===!0)break}else console.log("Unhandled key event: ".concat(e.key));if(Jt(s.onKeyPress)&&s.onKeyPress.call(s,e,t,s,i)===!0)break}return!1})}}),mn};function ri(r,n){const e=n();let t,o,i,s;Array.isArray(e)?e.length===2?(t=s=e[0],o=i=e[1]):e.length===3?(t=e[0],o=i=e[1],s=e[2]):[t,i,s,o]=e:t=i=s=o=e,r.onBeforeLayout=(a,c)=>{if(c){r.width=r.children.reduce((g,w)=>g+(w.width||0),0)+o+i;const d=r.children[0];d&&(d.x=o,d.marginLeft=o);let u=0;return r.children.forEach(g=>{g.y=t,g.marginTop=t,u=Math.max(u,g.height||0)}),r.height=u+t+s,!0}}}function Va(r=[]){const n=[];let e;for(e=0;e<r.length;e++){const t=r[e];if(typeof t=="string"&&!t.includes("PAUSE-"))n.push(r[e]);else break}return[n.join(",\b ")].concat(r.slice(e))}function $r(r){return new Promise(n=>{setTimeout(n,r)})}function Ga(r,n,e="en-US"){const t=window.speechSynthesis;return new Promise((o,i)=>{const s=new SpeechSynthesisUtterance(r);s.lang=e,s.onend=()=>{o()},s.onerror=a=>{i(a)},n.push(s),t.speak(s)})}function Gn(r,n,e=!0){const t=window.speechSynthesis,o=Va(Array.isArray(r)?r:[r]),i=[],s=[];let a=!0;return{series:(async()=>{try{for(;a&&o.length;){const d=await Promise.resolve(o.shift());if(a){if(typeof d=="string"&&d.includes("PAUSE-")){let u=Number(d.split("PAUSE-")[1])*1e3;isNaN(u)&&(u=0),await $r(u)}else if(typeof d=="string"&&d.length){let g=3;for(;a&&g>0;)try{await Ga(d,s,n),g=0}catch(w){if(w instanceof SpeechSynthesisErrorEvent)if(w.error==="network")g--,console.warn("Speech synthesis network error. Retries left: ".concat(g)),await $r(500*(3-g));else if(w.error==="canceled"||w.error==="interrupted")g=0;else throw new Error("SpeechSynthesisErrorEvent: ".concat(w.error));else throw w}}else if(typeof d=="function"){const u=Gn(d(),n,!1);i.push(u),await u.series}else if(Array.isArray(d)){const u=Gn(d,n,!1);i.push(u),await u.series}}else break}}finally{a=!1}})(),get active(){return a},append:d=>{o.push(d)},cancel:()=>{a&&(e&&t.cancel(),i.forEach(d=>{d.cancel()}),a=!1)}}}let tn;function qa(r,n="en-US"){return tn&&tn.cancel(),tn=Gn(r,n),tn}var qn=(r,n)=>{let e;const t=()=>clearTimeout(e);return Dt()&&Me(t),Object.assign((...i)=>{e!==void 0&&t(),e=setTimeout(()=>r(...i),n)},{clear:t})};let Zn,Ft=[],_e,Jn=!1;const Za=3e5;function Hr(r,n){const e=qn(r,n);let t;const o=i=>{t=i,e(i)};return o.flush=()=>{e.clear(),r(t)},o.clear=e.clear,o}function Ct(r){return r.id||r.name}function Ja(r=[]){if(!oe.onFocusChange||!oe.enabled)return;const n=r.every(i=>!i.loading),e=r.filter(i=>!Ft.includes(i));if(Zn(),!n&&oe.onFocusChange){oe.onFocusChange([]);return}Ft=r.slice(0);const t=[],o=e.reduce((i,s)=>(s.announce?(i.push([Ct(s),"Announce",s.announce]),t.push(s.announce)):s.title?(i.push([Ct(s),"Title",s.title]),t.push(s.title)):i.push([Ct(s),"No Announce",""]),i),[]);if(e.reverse().reduce((i,s)=>(s.announceContext?(i.push([Ct(s),"Context",s.announceContext]),t.push(s.announceContext)):i.push([Ct(s),"No Context",""]),i),o),oe.debug&&console.table(o),t.length)return oe.speak(t.reduce((i,s)=>i.concat(s),[]))}function el(r){if(!Jn)return _e=qa(r)}const oe={debug:!1,enabled:!0,cancel:function(){_e&&_e.cancel()},clearPrevFocus:function(r=0){Ft=Ft.slice(0,r),Zn()},speak:function(r,{append:n=!1,notification:e=!1}={}){return oe.onFocusChange&&oe.enabled&&(oe.onFocusChange.flush(),n&&_e&&_e.active?_e.append(r):(oe.cancel(),el(r)),e&&(Jn=!0,_e==null||_e.series.finally(()=>{Jn=!1,oe.refresh()}).catch(console.error))),_e},refresh:function(r=0){oe.clearPrevFocus(r),oe.onFocusChange&&oe.onFocusChange(le(()=>mn()))},setupTimers:function({focusDebounce:r=400,focusChangeTimeout:n=Za}={}){oe.onFocusChange=Hr(Ja,r),Zn=Hr(()=>{Ft=[]},n)}},tl=()=>(oe.setupTimers(),je(it(mn,oe.onFocusChange,{defer:!0})),oe);function nl(r,n){const e=Le.createTexture("ImageTexture",{src:r});return n.reduce((t,o)=>{const{x:i,y:s,width:a,height:c}=o;return t[o.name]=Le.createTexture("SubTexture",{texture:e,x:i,y:s,width:a,height:c}),t},{})}const[rl,Ee]=W(""),f={name:"Base Lightning TV",alpha:{primary:1,secondary:.7,tertiary:.1,inactive:.5,full:1,none:0,alpha1:.1,alpha2:.3,alpha3:.5,alpha4:.7,alpha5:.9},animation:{duration:{none:0,xfast:.1,fast:.25,normal:.5,slow:.75,xslow:.9},delay:{none:0,xfast:.01,fast:.025,normal:.05,slow:.075,xslow:.09},expressive:{timingFunction:"cubic-bezier(0, 0, 1, 1)",delay:0,duration:.25},expressiveEntrance:{timingFunction:"cubic-bezier(0, 0, 1, 1)",delay:0,duration:.25},expressiveExit:{timingFunction:"cubic-bezier(0, 0, 1, 1)",delay:0,duration:.25},standard:{timingFunction:"cubic-bezier(0, 0, 1, 1)",delay:0,duration:.25},standardEntrance:{timingFunction:"cubic-bezier(0, 0, 1, 1)",delay:0,duration:.25},standardExit:{timingFunction:"cubic-bezier(0, 0, 1, 1)",delay:0,duration:.25},utility:{timingFunction:"cubic-bezier(0, 0, 1, 1)",delay:0,duration:.25},utilityEntrance:{timingFunction:"cubic-bezier(0, 0, 1, 1)",delay:0,duration:.25},utilityExit:{timingFunction:"cubic-bezier(0, 0, 1, 1)",delay:0,duration:.25}},asset:{arrowLeft:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGKADAAQAAAABAAAAGAAAAADiNXWtAAAAi0lEQVRIDWNgGAWjIfD//38JID5Fk5AAGqwKxPeA+D/VLQCaaQLEr0CGgwBVLQCa5wbEn0EGwwDVLAAaGA3Ev2AGw2iqWAA0rBiI/8EMRaYptgBoWDeygehsci1gIlcjWfqArqZdEMFcBLSEdpGMZAntkimSJbTLaEiW0K6oQLKEdoUdzJJRemiHAAD4n+yzPWCs7QAAAABJRU5ErkJggg==",arrowRight:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGKADAAQAAAABAAAAGAAAAADiNXWtAAAAg0lEQVRIDWNgGAWjIYArBP7//38KiCVwyVMsDjQcBO4BsSrFhmEzAGw8hHgFpEywqaFIDMkCEPMzELtRZCC6ZjQLQNxfQByNro5sPhYLQEL/gLiYbEORNeKwACbcDVPLBGMMOhrmVDSapkFE00imaTKlaUajaVFB28Ju0CXrUQfhDAEAEgHss6NhpLQAAAAASUVORK5CYII=",backspaceOutline:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAACQCAYAAADnRuK4AAAAAXNSR0IArs4c6QAACmpJREFUeF7tnVmoZUcVhv/feY4gBEVEH/KgCCZxCK2itNo4xQQH+kUN0TjEiDGKKBqnaExwBjUaR6KY+NQgiQkOMSYhYEScIopGJOqDE2hHjfP0y4p1Oqdv33v2qr32Prv2Paug6Ye7Vu2qv75TtWvtGohMqUBAAQZ80zUVQAKUEIQUSIBC8qVzApQMhBRIgELypXMClAyEFEiAQvKlcwKUDIQUSIBC8qVzApQMhBRIgELypXMClAyEFEiAQvKlcwKUDIQUSIBC8qVzApQMhBRIgELypXMClAyEFEiAQvKlcwKUDIQUSIBC8qVzApQMhBRIgELypXMClAyEFEiAQvKlcwKUDIQUSIBC8qVzApQMhBRIgELypfPsAJJ0NYC92XRHKPB3AAfLv18BuBLAFSR/NKZWswJI0vkA3jCmILsw75sAvIfkR8eo22wAknQSgMvGEGFD8vwxgFeQvGrI+s4CIEnHAPgugHsMWfkNzevDAM4i+Z8h6t88QJLuXOB5yBAVzjxuVeBaAM8ieXNUjzkAdAmA50Yrmv5HKPATACeQ/GNEm6YBkvRyANblZhpHAXsfekpkOGsWIEmPAHA9gDuOo13mWhS4gOSZfdVoEiBJ9wFwA4D7961Y+lUpsK/v7KxVgL4K4ElOCS4l+Uyn7a41k3Q0gMcC2ANgH4CHV1T2OyStx69OzQEk6TwAZztr8lMAx5P8s9N+Y8wk2cTjfQDu66z080h+zml7yKwpgCSdCOByZyX+BuBRJH/otN84M0kWN/s0gOc4Kv8Nko922B1m0gxAkh4I4AcVwcL9JA/UVnjT7CXdHYD9yEzfVUkAjib5uxqNmgCoBAu/CeBhzsJ/kORZTtuNN5Nk70bXAZ0Hy59G8qIawVoB6LMAnu8suE3tH0/y3077NAMg6esAuoaoC0la7M2dJgdI0ssAXOgs8W8BHEvS/s9UoYCkdwN4bYfL5STto7U7TQpQZbDQehzreawHylSpgKSTAVza4XYDyeNqsp4MoB7BwteQfH9N5dL2NgWK3l0vyAdJWhDXnSYBSNLtANh3GO/KwgMk97trlYbbKiDJPpzea5U8JKuYqDIeql0kvQPAG5352ZLMR5L8q9M+zXZQYFcAJOnJAL7sbGWLMFuk2SLOmYIKzB6gEiz8HoB7O7U4meQXnLZp1qGApD8BuOcsh7AewcL3kuyadg4OjSSbhRxH0j4BjJok2Ufga0j+YdQHlcznDlBNsPAa+xpP8r/rEHbxjAKPbRuyHvKFY0Ik6QUALOprPfIT1gHRbAGSdDoA77aSX5Zg4e8nhGfx6FEgWoJn8Zy1QCTplq5vjc3NwnoEC/eQ/HYD8IwC0TbwrA2i2QHUI1h4JskLGoJnUIhWwLMWiGYFkCSLMX2t5WDhlneeLm5Dw5kDntEhkmRhEVvesWNqZgiTdC6AN3W1Svn72oOFkuxF+WcVIQUrai+IKuA5BBHJ453auc1mA1AJFn7Jsf7EKj9ZsLBHw1ZDtI5neAmaBUBzCxaO2cBj5u2FZtlO0l8A3K3ZIaxHsPB8kt5vYn00c/mM0dBj5OmqzAqjOQDUfLBwJ32HbPAh84pCM5seSNJLAHzcWeFJgoVdZRui4YfIo6ucff8uyVY03LW5IawyWPgvW5u77mChV/QIABFfb/kidk0CVKbDth3Huw35dJLeniqiV2/fniDYx1f7vlWTeoUFah6wZQhrqwcqwUKbrtsaH0+6mOQpHsOpbXpCVFPstcJjBZNkmzHv0swQJultAN7iVO375TyafzjtJzcbEaK1w9McQJXBQlvvYmtsfjE5FZUFGAGiSeBpCqDKYKFtmX0qya9Utl0z5gNCNBk8BSA7CtiODNwxjf4trEew8BySNtTNOg0A0aTwtARQTbDQeh3rfawXmn0KQDQ5PC0B9EkAL3LSkAD9X6hWALIJzJ3mNoSdS9I7U3NyuX6zQO+zKOzkEEmaHqDSFdpZM97tOfkSfRvvk0LUDEAFIgseetf85DS+AYgk/bPr1NvRZ2HLg4ektwI4xzmgZCBxYohaBMjWPeenDOcvaIvZ2oez5gAqQ5mtLbb3oa4z+Bb6nTHW1UP92vFIr54vzJ8BcGplGdYKkSRbCXGHSWdh2z1ckp1taGccroxyFt9cznG4iGuDqFmASk9kZxxakNGTckHZBBA1DVCB6BMAXuwhyA4VmGL/+05l6zlsbdt7DJmXU0uXmSQ7JvD2zQ1hiwJJsotRvlVxXO87SU5+heUYDT5Gni5KVhg1D1DphWqCjOYy6RlAYzb0mHn3gWkWABWIaoKMubHwSBpGebGWZNdc2vmUO6a1BhJXFUSSff/yLuOYamvzzwEcVfFr7tWwPXqi6uN2PXWYG0C1Qca1n8RaDlewl3kPRL3gWXo/XBwo1dXWdk/a3jEOnJoVQGUoqw0yvpLkh7oUHvLvTohC8FRANBo8pT3sxLeVJ/M2M4QtiVYTZJzkNPoOiAaBxwHRqPDMFqBS8Jog4yT3YewA0aDwrIBodHhmDVApvG0mtO3PnjTJjTxbIBoFnm0gWgs8pQ06lxY3N4QtCWZBRgPDezdnHvPr+alV2EiaL0DlF2Dbn20bdB40XtHwQ5nOHqAC0SyCjEM1Wkv57AqACkRvBvB2p7hrDzI6yzU7s90EUPNBxtnR4SjwrgGo9EK1Qca8cM4ByU4mkuz++F93ZHELyZX3iW31n+S+sKWZWfNBxkCbNeUq6ekArugo1I0kH1xT8EkBKj1R80HGGkFbtZVkZ3bb2d2r0tUkn1hTh8kBKhB9DMBLnQWfJMjoLFuTZpJsO/ONAB7UUcBLSHqvX781q1YAqg0yfoDkq5psrQYLJeldAF7nKFr1x+wmACq9kAUZLazvvTV4P8kDDlE22kTSQ4uuK9dCF5HuR/I3NYI1A1CBaB+AK50VsAMj7TJeixNl2kYBSccCsB/ZMQ6Brif5GIfdYSZNAVQg8rzsLSphl/Hapby2LDZTUaBcq/56ALb1fOVxLkuinULy4loRmwOoQGQX7T7DWZnPk3y203bXmkl6AIA91isDOBGADV3e1HsJbasA1QYZvUKl3fYKPI2knXFQnZoEqPRCNUHG6oqnwyEFLiJ5Wl89mgWoQFQTZOyrwSb7WUztcSRtu0+v1DRABaKPADijV+3SaZUCNgE5geTNEZnmAFBtkDGix6b4Xld2BNvJcaHUPEClF6oNMoZE2eXOtm3q1ZFha1mfWQBUINoL4Kqurbm7vPEj1bOAqx3udW0kk62+swGoQHQ2gPOGFGAD8roJgF0t+qkx6jorgApElwE4aQwxZp6n3YNxsPyzA7yst/4iSdvEMFqaHUCjKZEZ91IgAeolWzotFEiAkoWQAglQSL50ToCSgZACCVBIvnROgJKBkAIJUEi+dE6AkoGQAglQSL50ToCSgZACCVBIvnROgJKBkAIJUEi+dE6AkoGQAglQSL50ToCSgZACCVBIvnROgJKBkAIJUEi+dE6AkoGQAglQSL50ToCSgZACCVBIvnROgJKBkAIJUEi+dE6AkoGQAglQSL50ToCSgZACCVBIvnT+H0jPT81J3xWWAAAAAElFTkSuQmCC",check:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAOCAYAAAAi2ky3AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACtSURBVHgBvdPdDcIgEAfwoy8Nb45QN3AGF2s36Ahu4gpuIDoBfSgfpdoTlCbEWEMh6T8hFzjyg5AAkBHOcQe5UWqspRx435sDpMYj6IYQwwVSEiJ2MKVUBWuzLSLl2HL+uxmNCGFO8yaL7RHxve6qRZoAuS4hxac8735elWVx7jrtMKL1o0Gcat9jhExHSukN/kUIFZ7MpDRtzE1isDRkAUtDvrA8ZI597FUf8gWH9P0b4gko9wAAAABJRU5ErkJggg=="},color:{palette:{"blue-20":"0xbecffeff","blue-40":"0x93a9fdff","blue-90":"0x000033ff","grey-05":"0xf8f7faff","grey-40":"0x929096ff","grey-70":"0x48474bff","grey-90":"0x181819ff"},white:"0xffffffff",black:"0x000000ff",grey:"0x929096ff",red:"0xe74c3cff",orange:"0xdc7633ff",yellow:"0xf7dc6fff",green:"0x2ecc71ff",blue:"0x93a9fdff",purple:"0x663399ff",material:"0x181819ff",materialBrand:"0x000033ff",overlay:"0x181819b3",textNeutral:"0xf8f7faff",textNeutralSecondary:"0xf8f7fab3",textNeutralTertiary:"0xf8f7fa1a",textNeutralDisabled:"0xf8f7fa80",textInverse:"0x181819ff",textInverseSecondary:"0x181819b3",textInverseTertiary:"0x1818191a",textInverseDisabled:"0x18181980",textBrand:"0x93a9fdff",textBrandSecondary:"0x93a9fdb3",textBrandTertiary:"0x93a9fd1a",textBrandDisabled:"0x93a9fd80",textPositive:"0x2ecc71ff",textNegative:"0xe74c3cff",textInfo:"0x93a9fdff",textCaution:"0xdc7633ff",fillTransparent:"0xffffff0",fillNeutral:"0xf8f7faff",fillNeutralSecondary:"0xf8f7fab3",fillNeutralTertiary:"0xf8f7fa1a",fillNeutralDisabled:"0xf8f7fa80",fillInverse:"0x181819ff",fillInverseSecondary:"0x181819b3",fillInverseTertiary:"0x1818191a",fillInverseDisabled:"0x18181980",fillBrand:"0x93a9fdff",fillBrandSecondary:"0x93a9fdb3",fillBrandTertiary:"0x93a9fd1a",fillBrandDisabled:"0x93a9fd80",fillPositive:"0x2ecc71ff",fillNegative:"0xe74c3cff",fillInfo:"0x93a9fdff",fillCaution:"0xdc7633ff",strokeNeutral:"0xf8f7faff",strokeNeutralSecondary:"0xf8f7fab3",strokeNeutralTertiary:"0xf8f7fa1a",strokeNeutralDisabled:"0xf8f7fa80",strokeInverse:"0x181819ff",strokeInverseSecondary:"0x181819b3",strokeInverseTertiary:"0x1818191a",strokeInverseDisabled:"0x18181980",strokeBrand:"0x93a9fdff",strokeBrandSecondary:"0x93a9fdb3",strokeBrandTertiary:"0x93a9fd1a",strokeBrandDisabled:"0x93a9fd80",strokePositive:"0x2ecc71ff",strokeNegative:"0xe74c3cff",strokeInfo:"0x93a9fdff",strokeCaution:"0xdc7633ff",interactiveNeutral:"0xffffff1a",interactiveNeutralFocus:"0xffffffff",interactiveNeutralFocusSoft:"0xffffff1a",interactiveInverse:"0x48474b1a",interactiveInverseFocus:"0x48474bff",interactiveInverseFocusSoft:"0x48474b1a",interactiveBrand:"0xbecffe1a",interactiveBrandFocus:"0xbecffeff",interactiveBrandFocusSoft:"0xbecffe1a",shadowNeutral:"0x000000b3",shadowNeutralFocus:"0x000000b3",shadowNeutralFocusSoft:"0x000000b3",shadowNeutralText:"0x000000ff",shadowInverse:"0x000000b3",shadowInverseFocus:"0x000000b3",shadowInverseFocusSoft:"0x000000b3",shadowInverseText:"0x000000ff",shadowBrand:"0x000000b3",shadowBrandFocus:"0x000000b3",shadowBrandFocusSoft:"0x000000b3",shadowBrandText:"0x000000ff"},font:[],layout:{columnCount:10,focusScale:1.2,gutterX:20,gutterY:20,marginX:150,marginY:150,safe:50,screenW:1920,screenH:1080},radius:{none:0,xs:2,sm:4,md:8,lg:16,xl:24},spacer:{none:0,xxs:2,xs:4,sm:8,md:10,lg:20,xl:30,xxl:40,xxxl:50},stroke:{none:0,sm:2,md:4,lg:6,xl:8},typography:{display1:{fontFamily:"Arial",fontSize:75,lineHeight:85,fontWeight:500,verticalAlign:"middle",textBaseline:"bottom"},display2:{fontFamily:"Arial",fontSize:50,lineHeight:60,fontWeight:500,verticalAlign:"middle",textBaseline:"bottom"},headline1:{fontFamily:"Arial",fontSize:35,fontWeight:500,lineHeight:48,verticalAlign:"middle",textBaseline:"bottom"},headline2:{fontFamily:"Arial",fontSize:30,fontWeight:500,lineHeight:40,verticalAlign:"middle",textBaseline:"bottom"},headline3:{fontFamily:"Arial",fontSize:25,fontWeight:500,lineHeight:36,verticalAlign:"middle",textBaseline:"bottom"},body1:{fontFamily:"Arial",fontSize:25,fontWeight:300,lineHeight:40,verticalAlign:"middle",textBaseline:"bottom"},body2:{fontFamily:"Arial",fontSize:22,fontWeight:300,lineHeight:32,verticalAlign:"middle",textBaseline:"bottom"},body3:{fontFamily:"Arial",fontSize:20,fontWeight:300,lineHeight:32,verticalAlign:"middle",textBaseline:"bottom"},button1:{fontFamily:"Arial",fontSize:25,fontWeight:500,lineHeight:32,verticalAlign:"middle",textBaseline:"bottom"},button2:{fontFamily:"Arial",fontSize:20,fontWeight:500,lineHeight:32,verticalAlign:"middle",textBaseline:"bottom"},callout1:{fontFamily:"Arial",fontSize:20,fontWeight:500,lineHeight:32,verticalAlign:"middle",textBaseline:"bottom"},caption1:{fontFamily:"Arial",fontSize:15,fontWeight:500,lineHeight:24,verticalAlign:"middle",textBaseline:"bottom"},tag1:{fontFamily:"Arial",fontSize:20,fontWeight:500,lineHeight:24,verticalAlign:"middle",textBaseline:"bottom"},footnote1:{fontFamily:"Arial",fontSize:22,fontWeight:300,lineHeight:30,verticalAlign:"middle",textBaseline:"bottom"}},componentConfig:{Keyboard:{base:{keyProps:{delete:{title:null,icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAACQCAYAAADnRuK4AAAAAXNSR0IArs4c6QAACmpJREFUeF7tnVmoZUcVhv/feY4gBEVEH/KgCCZxCK2itNo4xQQH+kUN0TjEiDGKKBqnaExwBjUaR6KY+NQgiQkOMSYhYEScIopGJOqDE2hHjfP0y4p1Oqdv33v2qr32Prv2Paug6Ye7Vu2qv75TtWvtGohMqUBAAQZ80zUVQAKUEIQUSIBC8qVzApQMhBRIgELypXMClAyEFEiAQvKlcwKUDIQUSIBC8qVzApQMhBRIgELypXMClAyEFEiAQvKlcwKUDIQUSIBC8qVzApQMhBRIgELypXMClAyEFEiAQvKlcwKUDIQUSIBC8qVzApQMhBRIgELypXMClAyEFEiAQvKlcwKUDIQUSIBC8qVzApQMhBRIgELypfPsAJJ0NYC92XRHKPB3AAfLv18BuBLAFSR/NKZWswJI0vkA3jCmILsw75sAvIfkR8eo22wAknQSgMvGEGFD8vwxgFeQvGrI+s4CIEnHAPgugHsMWfkNzevDAM4i+Z8h6t88QJLuXOB5yBAVzjxuVeBaAM8ieXNUjzkAdAmA50Yrmv5HKPATACeQ/GNEm6YBkvRyANblZhpHAXsfekpkOGsWIEmPAHA9gDuOo13mWhS4gOSZfdVoEiBJ9wFwA4D7961Y+lUpsK/v7KxVgL4K4ElOCS4l+Uyn7a41k3Q0gMcC2ANgH4CHV1T2OyStx69OzQEk6TwAZztr8lMAx5P8s9N+Y8wk2cTjfQDu66z080h+zml7yKwpgCSdCOByZyX+BuBRJH/otN84M0kWN/s0gOc4Kv8Nko922B1m0gxAkh4I4AcVwcL9JA/UVnjT7CXdHYD9yEzfVUkAjib5uxqNmgCoBAu/CeBhzsJ/kORZTtuNN5Nk70bXAZ0Hy59G8qIawVoB6LMAnu8suE3tH0/y3077NAMg6esAuoaoC0la7M2dJgdI0ssAXOgs8W8BHEvS/s9UoYCkdwN4bYfL5STto7U7TQpQZbDQehzreawHylSpgKSTAVza4XYDyeNqsp4MoB7BwteQfH9N5dL2NgWK3l0vyAdJWhDXnSYBSNLtANh3GO/KwgMk97trlYbbKiDJPpzea5U8JKuYqDIeql0kvQPAG5352ZLMR5L8q9M+zXZQYFcAJOnJAL7sbGWLMFuk2SLOmYIKzB6gEiz8HoB7O7U4meQXnLZp1qGApD8BuOcsh7AewcL3kuyadg4OjSSbhRxH0j4BjJok2Ufga0j+YdQHlcznDlBNsPAa+xpP8r/rEHbxjAKPbRuyHvKFY0Ik6QUALOprPfIT1gHRbAGSdDoA77aSX5Zg4e8nhGfx6FEgWoJn8Zy1QCTplq5vjc3NwnoEC/eQ/HYD8IwC0TbwrA2i2QHUI1h4JskLGoJnUIhWwLMWiGYFkCSLMX2t5WDhlneeLm5Dw5kDntEhkmRhEVvesWNqZgiTdC6AN3W1Svn72oOFkuxF+WcVIQUrai+IKuA5BBHJ453auc1mA1AJFn7Jsf7EKj9ZsLBHw1ZDtI5neAmaBUBzCxaO2cBj5u2FZtlO0l8A3K3ZIaxHsPB8kt5vYn00c/mM0dBj5OmqzAqjOQDUfLBwJ32HbPAh84pCM5seSNJLAHzcWeFJgoVdZRui4YfIo6ucff8uyVY03LW5IawyWPgvW5u77mChV/QIABFfb/kidk0CVKbDth3Huw35dJLeniqiV2/fniDYx1f7vlWTeoUFah6wZQhrqwcqwUKbrtsaH0+6mOQpHsOpbXpCVFPstcJjBZNkmzHv0swQJultAN7iVO375TyafzjtJzcbEaK1w9McQJXBQlvvYmtsfjE5FZUFGAGiSeBpCqDKYKFtmX0qya9Utl0z5gNCNBk8BSA7CtiODNwxjf4trEew8BySNtTNOg0A0aTwtARQTbDQeh3rfawXmn0KQDQ5PC0B9EkAL3LSkAD9X6hWALIJzJ3mNoSdS9I7U3NyuX6zQO+zKOzkEEmaHqDSFdpZM97tOfkSfRvvk0LUDEAFIgseetf85DS+AYgk/bPr1NvRZ2HLg4ektwI4xzmgZCBxYohaBMjWPeenDOcvaIvZ2oez5gAqQ5mtLbb3oa4z+Bb6nTHW1UP92vFIr54vzJ8BcGplGdYKkSRbCXGHSWdh2z1ckp1taGccroxyFt9cznG4iGuDqFmASk9kZxxakNGTckHZBBA1DVCB6BMAXuwhyA4VmGL/+05l6zlsbdt7DJmXU0uXmSQ7JvD2zQ1hiwJJsotRvlVxXO87SU5+heUYDT5Gni5KVhg1D1DphWqCjOYy6RlAYzb0mHn3gWkWABWIaoKMubHwSBpGebGWZNdc2vmUO6a1BhJXFUSSff/yLuOYamvzzwEcVfFr7tWwPXqi6uN2PXWYG0C1Qca1n8RaDlewl3kPRL3gWXo/XBwo1dXWdk/a3jEOnJoVQGUoqw0yvpLkh7oUHvLvTohC8FRANBo8pT3sxLeVJ/M2M4QtiVYTZJzkNPoOiAaBxwHRqPDMFqBS8Jog4yT3YewA0aDwrIBodHhmDVApvG0mtO3PnjTJjTxbIBoFnm0gWgs8pQ06lxY3N4QtCWZBRgPDezdnHvPr+alV2EiaL0DlF2Dbn20bdB40XtHwQ5nOHqAC0SyCjEM1Wkv57AqACkRvBvB2p7hrDzI6yzU7s90EUPNBxtnR4SjwrgGo9EK1Qca8cM4ByU4mkuz++F93ZHELyZX3iW31n+S+sKWZWfNBxkCbNeUq6ekArugo1I0kH1xT8EkBKj1R80HGGkFbtZVkZ3bb2d2r0tUkn1hTh8kBKhB9DMBLnQWfJMjoLFuTZpJsO/ONAB7UUcBLSHqvX781q1YAqg0yfoDkq5psrQYLJeldAF7nKFr1x+wmACq9kAUZLazvvTV4P8kDDlE22kTSQ4uuK9dCF5HuR/I3NYI1A1CBaB+AK50VsAMj7TJeixNl2kYBSccCsB/ZMQ6Brif5GIfdYSZNAVQg8rzsLSphl/Hapby2LDZTUaBcq/56ALb1fOVxLkuinULy4loRmwOoQGQX7T7DWZnPk3y203bXmkl6AIA91isDOBGADV3e1HsJbasA1QYZvUKl3fYKPI2knXFQnZoEqPRCNUHG6oqnwyEFLiJ5Wl89mgWoQFQTZOyrwSb7WUztcSRtu0+v1DRABaKPADijV+3SaZUCNgE5geTNEZnmAFBtkDGix6b4Xld2BNvJcaHUPEClF6oNMoZE2eXOtm3q1ZFha1mfWQBUINoL4Kqurbm7vPEj1bOAqx3udW0kk62+swGoQHQ2gPOGFGAD8roJgF0t+qkx6jorgApElwE4aQwxZp6n3YNxsPyzA7yst/4iSdvEMFqaHUCjKZEZ91IgAeolWzotFEiAkoWQAglQSL50ToCSgZACCVBIvnROgJKBkAIJUEi+dE6AkoGQAglQSL50ToCSgZACCVBIvnROgJKBkAIJUEi+dE6AkoGQAglQSL50ToCSgZACCVBIvnROgJKBkAIJUEi+dE6AkoGQAglQSL50ToCSgZACCVBIvnROgJKBkAIJUEi+dE6AkoGQAglQSL50ToCSgZACCVBIvnT+H0jPT81J3xWWAAAAAElFTkSuQmCC"}}}}}};function ol(){let r,n,e,t=0;const o=1,i={duration:750,easing:"ease-in-out"},s={alpha:o,color:4294967295};function a(c){if(c.startsWith("#")){r.color=M(c),r.src="",r.alpha=1,t=1,n.alpha=0,e.alpha=0;return}else r.color=4294967295,e.alpha=1;if(t===0){r.src=c,t=1;return}if(t===1){n.src=c,t=2,n.alpha=0,n.animate({alpha:o},i).start(),r.animate({alpha:0},i).start();return}t===2&&(r.src=c,t=1,r.alpha=0,r.animate({alpha:o},i).start(),n.animate({alpha:0},i).start())}return je(it(rl,c=>{a(c)},{defer:!0})),l(N,{width:1920,height:1080,zIndex:-5,get children(){return[l(N,{ref(c){var d=r;typeof d=="function"?d(c):r=c},style:s}),l(N,{ref(c){var d=n;typeof d=="function"?d(c):n=c},style:s,alpha:0}),l(N,{ref(c){var d=e;typeof d=="function"?d(c):e=c},src:"./assets/hero-mask-inverted.png",get color(){return M(f.color.materialBrand)},width:1920,height:1080})]}})}var jr,Qr,Xr,Kr,Vr,Gr,qr,Zr,Jr,eo,to,no,ro,oo,io,so,ao,lo;function nn(r){if(!r||!r[Symbol.iterator])throw new Error("objectFromEntries requires a single iterable argument");const n={};for(const[e,t]of r)n[e]=t;return n}const il=["focus","disabled"],sl=["brand","inverse","neutral"];function $({themeKeys:r,base:n,modes:e,tones:t,themeStyles:o,modeKeys:i=il,toneKeys:s=sl},a=!1){const c=(p,y,S)=>{const b=s.map(v=>{var C,I;const x={};return new Set([].concat.apply([],[(C=p==null?void 0:p[v])!=null?C:{},(I=y==null?void 0:y[v])!=null?I:{}].map(Object.keys))).forEach(R=>{var k;var T,_;i.includes(R)||(x[R]=(k=(T=y==null?void 0:y[v])==null?void 0:T[R])!=null?k:(_=p==null?void 0:p[v])==null?void 0:_[R])}),i.forEach(R=>{var T,_;x[R]={...S[R],...(T=p==null?void 0:p[v])==null?void 0:T[R],...(_=y==null?void 0:y[v])==null?void 0:_[R]}}),[v,x]});return nn(b)},d=(p,y)=>{const S=i.map(v=>[v,{...p==null?void 0:p[v],...y==null?void 0:y[v]}]);return nn(S)},u=(p,y)=>({...p,...y.base}),g=p=>nn(Object.entries(r).filter(([y,S])=>p[S]).map(([y,S])=>[y,p[S]])),w=p=>nn(Object.entries(p).map(([S,b])=>{const v=g(b);return Object.entries(b).filter(([x,m])=>i.includes(x)).forEach(([x,m])=>{v[x]=g(m)}),[S,v]}));return((p,y,S)=>{const b=w(o);a&&console.log(b);const v=u(p,b);a&&console.log(v);const x=d(y,b);a&&console.log(x);const m=c(S,b,x);return a&&console.log(m),{base:{...v,...x},tones:m}})(n,e,t)}function xn(r=0){return(n,e,t=0,o)=>{var S,b,v,x;if(n.children.length===0)return;const i=n.flexDirection==="row"?"width":"height",s=n.flexDirection==="row"?"x":"y",a=n.gap||0,c=n.scroll||"auto",[d,u]=al(n);let g=(S=n[s])!=null?S:0;const w=(b=e==null?void 0:e[s])!=null?b:0,A=(v=e==null?void 0:e[i])!=null?v:0,p=o===void 0?"none":t>o?"positive":"negative";let y=g;if(c==="auto")n.scrollIndex!=null&&n.scrollIndex>=0?n.selected>=n.scrollIndex&&(p==="positive"?y=g-A-a:y=g+A+a):(Math.abs(g)+u<d.position+d.size||w<Math.abs(g))&&(y=-w+r);else if(c==="always"||c==="edge"&&p==="negative"&&Math.abs(g)>w)y=-w+r;else if(c==="edge"&&p==="positive"&&Math.abs(g)+u<w+A)y=g-A-a;else if(c==="edge"&&p==="none"){let m=0,C,I;for(;m<n.children.length&&Math.abs(g)+u<w+A;)C=n.children[m++],I=(x=C[i])!=null?x:0,g-=I+a;y=g}s==="x"&&n.x!==y?n.x=y:s==="y"&&n.y!==y&&(n.y=y)}}function al(r){let n,e;return r.flexDirection==="row"?(n={position:r.children[r.children.length-1].x,size:r.children[r.children.length-1].width},e=r.width):(n={position:r.children[r.children.length-1].y,size:r.children[r.children.length-1].height},e=r.height),[n,e]}const He=(...r)=>{const n=r.filter(e=>typeof e=="function");if(n.length!==0)return n.length===1?n[0]:function(...e){let t;for(const o of n)if(t=o.apply(this,e),t===!0)return t;return t}};function oi(){if(!this||this.selected===void 0||this.children.length===0)return!1;let r=this.children[this.selected];for(;r!=null&&r.skipFocus;)this.selected++,r=this.children[this.selected];return r instanceof be?(r.setFocus(),!0):!1}function yn(r){return function(){var n,e,t;const o=this.children.length,i=this.wrap,s=this.selected||0;if(o===0)return!1;if(r==="right"||r==="down")do if(this.selected=(this.selected||0)%o+1,this.selected>=o){if(!i){this.selected=void 0;break}this.selected=0}while((n=this.children[this.selected])!=null&&n.skipFocus);else if(r==="left"||r==="up")do if(this.selected=(this.selected||0)%o-1,this.selected<0){if(!i){this.selected=void 0;break}this.selected=o-1}while((e=this.children[this.selected])!=null&&e.skipFocus);if(this.selected===void 0&&(this.selected=s,(t=this.children[this.selected])!=null&&t.states.has("focus")))return!1;const a=this.children[this.selected];if(this.onSelectedChanged&&this.onSelectedChanged.call(this,this,a,this.selected,s),this.plinko&&s!==void 0){const d=this.children[s].selected||0;a.selected=d<a.children.length?d:a.children.length-1}return a.setFocus(),!0}}function ll(r,n=1){const e=r.layout.screenW,t=r.layout.columnCount,o=r.layout.marginX,i=r.layout.gutterX;if(n<1||n>t){console.error("Column expects a number between 1 & ".concat(t,". Received ").concat(n));return}const s=e-o*2,a=(n-1)*i;return(s-a)/n}const{Artwork:{defaultTone:Rd,...cl}={styles:{}}}=(jr=f)==null?void 0:jr.componentConfig,dl={themeKeys:{fillColor:"fillColor",scale:"imageScale",pivotX:"imageScalePivotX",pivotY:"imageScalePivotY"},base:{fallbackSrc:void 0,fillColor:f.color.overlay,gradientColor:f.color.material,pivotX:.5,pivotY:.5,scale:void 0},themeStyles:cl};$(dl);const{Badge:{defaultTone:Id,...gr}={styles:{}}}=(Qr=f)==null?void 0:Qr.componentConfig,ul={themeKeys:{color:"backgroundColor"},base:{color:f.color.fillInverseSecondary,borderRadius:f.radius.sm,border:{color:f.color.strokeInverse,width:f.stroke.sm},display:"flex",justifyContent:"spaceEvenly",padding:[f.spacer.md-f.stroke.sm,f.spacer.xs+f.stroke.sm,f.spacer.md+f.stroke.sm,f.spacer.md+f.stroke.sm]},tones:{inverse:{color:f.color.fillNeutralSecondary,borderRadius:f.radius.sm,border:{color:f.color.strokeInverseSecondary,width:f.stroke.sm}},brand:{color:f.color.fillBrand,borderRadius:f.radius.sm,border:{color:f.color.strokeInverseSecondary,width:f.stroke.sm}}},themeStyles:gr},hl={themeKeys:{color:"textColor"},base:{...f.typography.tag1,color:f.color.textNeutral},tones:{inverse:{color:f.color.textInverse},brand:{color:f.color.textNeutral}},themeStyles:gr},fl={themeKeys:{color:"iconColor"},base:{color:f.color.textNeutral},tones:{inverse:{color:f.color.textInverse},brand:{color:f.color.textNeutral}},themeStyles:gr};$(ul);$(fl);$(hl);const{Button:{defaultTone:gl,...pr}={styles:{}}}=(Xr=f)==null?void 0:Xr.componentConfig,{Surface:{surfaceDefaultTone:pl,...mr}={styles:{}}}=(Kr=f)==null?void 0:Kr.componentConfig,ml={themeKeys:{textAlign:"textAlign",borderRadius:"radius",color:"backgroundColor",justifyContent:"justifyContent"},base:{height:f.typography.button1.lineHeight+f.spacer.xl*2,display:"flex",padding:[f.spacer.xxxl,f.spacer.xl],color:f.color.interactiveNeutral,justifyContent:"center",alignItems:"center",borderRadius:f.radius.sm,contentColor:f.color.fillNeutral},modes:{focus:{color:f.color.interactiveNeutralFocus,contentColor:f.color.fillInverse},disabled:{color:f.color.fillNeutralDisabled}},tones:{inverse:{color:f.color.interactiveInverse},brand:{color:f.color.interactiveBrand,focus:{color:f.color.fillNeutral}}},themeStyles:{...mr,...pr}},xl={themeKeys:{color:"contentColor"},base:{color:f.color.textNeutral},modes:{focus:{color:f.color.textInverse},disabled:{color:f.color.textNeutralDisabled}},tones:{inverse:{color:f.color.fillNeutral},brand:{color:f.color.fillBrand,focus:{color:f.color.fillBrand}}},themeStyles:{...mr,...pr}},yl={themeKeys:{color:"textColor"},base:{textAlign:"left",color:f.color.textNeutral,...f.typography.button1},modes:{focus:{color:f.color.textInverse},disabled:{color:f.color.textNeutralDisabled}},tones:{inverse:{color:f.color.fillNeutral},brand:{color:f.color.fillBrand,focus:{color:f.color.fillBrand}}},themeStyles:{...mr,...pr}},vl=$(ml),wl=$(xl),bl=$(yl),st={tone:gl||pl||"neutral",Container:vl,Content:wl,Text:bl},co=r=>l(N,Q(r,{get style(){var e;var n;return[...[r.style].flat(),(n=st.Container.tones)==null?void 0:n[(e=r.tone)!=null?e:st.tone],st.Container.base]},forwardStates:!0,get children(){return l(E,{get style(){var e;var n;return[...[(n=r.style)==null?void 0:n.Text].flat(),st.Text.tones[(e=r.tone)!=null?e:st.tone],st.Text.base]},get children(){return r.children}})}})),{Checkbox:{defaultTone:Bd,...ii}={styles:{}}}=(Vr=f)==null?void 0:Vr.componentConfig,Ze=f.stroke.sm,Fe=f.spacer.xxl,Sl={themeKeys:{color:"color",borderRadius:"borderRadius",border:"border",justifyContent:"justifyContent"},base:{width:Fe,height:Fe,display:"flex",justifyContent:"center",color:f.color.fillNeutral,alignItems:"center",borderRadius:Fe/4,border:{color:f.color.strokeInverse,width:Ze}},modes:{disabled:{alpha:f.alpha.inactive}},tones:{brand:{borderRadius:Fe/4,border:{color:f.color.strokeNeutralSecondary,width:Ze},color:f.color.fillNeutralSecondary,checked:{borderRadius:Fe/4,border:{color:f.color.strokeNeutralSecondary,width:Ze},color:f.color.fillBrand}},neutral:{borderRadius:Fe/4,border:{color:f.color.strokeNeutralSecondary,width:Ze},color:f.color.fillInverseSecondary,checked:{borderRadius:Fe/4,border:{color:f.color.strokeNeutralSecondary,width:Ze},color:f.color.fillNeutral}},inverse:{borderRadius:Fe/4,border:{color:f.color.strokeInverseSecondary,width:Ze},color:f.color.fillNeutralSecondary,checked:{borderRadius:Fe/4,border:{color:f.color.strokeInverseSecondary,width:Ze},color:f.color.fillInverse}}},modeKeys:["focus","disabled","checked"],themeStyles:ii},Al={themeKeys:{color:"color"},base:{width:f.spacer.lg,height:f.spacer.lg,src:f.asset.check},tones:{neutral:{color:f.color.fillInverse},inverse:{color:f.color.fillNeutral},brand:{color:f.color.fillInverse}},themeStyles:ii};$(Sl);$(Al);const{Icon:{defaultTone:kd,...Cl}={styles:{}}}=(Gr=f)==null?void 0:Gr.componentConfig,Tl={themeKeys:{color:"color"},base:{width:100,height:100,color:f.color.fillInverse},tones:{inverse:{color:f.color.fillInverse},brand:{color:f.color.fillBrand}},themeStyles:Cl};$(Tl);const{Column:{defaultTone:_l,...Rl}={styles:{}}}=(qr=f)==null?void 0:qr.componentConfig,Il={themeKeys:{gap:"itemSpacing",scrollIndex:"scrollIndex",itemTransition:"itemTransition"},base:{display:"flex",flexBoundary:"fixed",flexDirection:"column",gap:f.layout.gutterY,itemTransition:{...f.animation.standardEntrance,duration:f.animation.duration.fast}},themeStyles:Rl},Bl=$(Il),zn={tone:_l||"neutral",Container:Bl},te=r=>{const n=yn("up"),e=yn("down");return l(N,Q(r,{get onUp(){return He(r.onUp,n)},get onDown(){return He(r.onDown,e)},get selected(){return r.selected||0},forwardFocus:oi,get onCreate(){return He(t=>{var o,i;return xn(r.y).call(t,t,t.children[(o=r.selected)!=null?o:0],(i=r.selected)!=null?i:0,void 0)},r.onCreate)},get onSelectedChanged(){return He(r.onSelectedChanged,r.scroll!=="none"?xn(r.y):void 0)},get style(){var t;return[...[r.style].flat(),zn.Container.tones[(t=r.tone)!=null?t:zn.tone],zn.Container.base]}}))},{Label:{defaultTone:Ed,...si}={styles:{}}}=(Zr=f)==null?void 0:Zr.componentConfig,kl={themeKeys:{color:"backgroundColor",borderRadius:"radius"},base:{display:"flex",justifyContent:"center",color:f.color.textNeutral,padding:[f.spacer.md,f.spacer.lg],borderRadius:[f.radius.md,f.radius.md,f.radius.md,f.radius.none],height:f.typography.caption1.lineHeight+f.spacer.md,neutral:{backgroundColor:f.color.fillNeutral}},tones:{inverse:{color:f.color.fillInverse},brand:{color:f.color.fillBrand,focus:{color:f.color.orange}}},themeStyles:si},El={themeKeys:{color:"textColor"},base:{...f.typography.caption1,color:f.color.textInverse},tones:{inverse:{color:f.color.textNeutral},brand:{color:f.color.textNeutral}},themeStyles:si};$(kl);$(El);const{Rating:{styles:xr,defaultTone:Fd}={styles:{},defaultTone:"neutral"}}=(Jr=f)==null?void 0:Jr.componentConfig,Fl={themeKeys:{justifyContent:"justifyContent",itemSpacing:"itemSpacing"},base:{display:"flex",flexDirection:"column",justifyContent:"flexStart",itemSpacing:f.spacer.sm},toneModes:{},themeStyles:xr},Nl={themeKeys:{color:"textColor"},base:{color:f.color.textNeutral,...f.typography.body2},toneModes:{},themeStyles:xr},Ll={themeKeys:{color:"color"},base:{height:f.typography.body2.lineHeight,width:f.typography.body2.lineHeight,color:f.color.fillNeutral,marginRight:f.spacer.sm},toneModes:{},themeStyles:xr};$(Fl);$(Ll);$(Nl);const{Details:{defaultTone:Nd,...ai}={styles:{}}}=(eo=f)==null?void 0:eo.componentConfig,Ml={themeKeys:{alignItems:"alignItems",contentSpacing:"contentSpacing",badgeContentSpacing:"badgeContentSpacing",ratingContentSpacing:"ratingContentSpacing"},base:{display:"flex",flexDirection:"row",alignItems:"center",contentSpacing:f.spacer.lg,badgeContentSpacing:f.spacer.sm,ratingContentSpacing:f.spacer.lg},themeStyles:ai},zl={themeKeys:{color:"textColor"},base:{...f.typography.body2,marginRight:f.spacer.lg,color:f.color.textNeutral},tones:{neutral:{disabled:{color:f.color.textNeutralDisabled}},inverse:{color:f.color.textInverse,disabled:{color:f.color.textNeutralDisabled}},brand:{color:f.color.textNeutral,disabled:{color:f.color.textNeutralDisabled}}},themeStyles:ai};$(Ml);$(zl);const{Metadata:{defaultTone:Ld,...yr}={styles:{}}}=(to=f)==null?void 0:to.componentConfig,Pl={themeKeys:{justifyContent:"justifyContent",alpha:"alpha"},base:{display:"flex",flexDirection:"column",justifyContent:"flexStart",alpha:f.alpha.primary},modes:{disabled:{alpha:f.alpha.inactive}},themeStyles:yr},Dl={themeKeys:{color:"textColor"},base:{maxLines:1,contain:"width",...f.typography.headline3,color:f.color.textNeutral},tones:{neutral:{disabled:{color:f.color.textNeutralDisabled}},inverse:{color:f.color.textInverse,disabled:{color:f.color.textNeutralDisabled}},brand:{color:f.color.textNeutral,disabled:{color:f.color.textNeutralDisabled}}},themeStyles:yr},Ol={themeKeys:{color:"textColor"},base:{contain:"width",maxLines:2,...f.typography.body2,color:f.color.textNeutralSecondary},tones:{neutral:{disabled:{color:f.color.textNeutralDisabled}},inverse:{color:f.color.textInverseSecondary,disabled:{color:f.color.textNeutralDisabled}},brand:{color:f.color.textNeutralSecondary,disabled:{color:f.color.textNeutralDisabled}}},themeStyles:yr};$(Pl);$(Ol);$(Dl);const{ProgressBar:{defaultTone:Md,...li}={styles:{}}}=(no=f)==null?void 0:no.componentConfig,Wl={themeKeys:{color:"barColor",borderRadius:"borderRadius"},base:{height:f.spacer.md,color:f.color.fillNeutralTertiary,borderRadius:f.radius.xs},tones:{inverse:{color:f.color.fillInverseTertiary}},themeStyles:li},Ul={themeKeys:{color:"progressColor",borderRadius:"borderRadius"},base:{borderRadius:f.radius.xs,color:f.color.fillNeutral},tones:{inverse:{color:f.color.fillInverse},brand:{color:f.color.fillBrand}},themeStyles:li};$(Wl);$(Ul);const{Row:{defaultTone:Yl,...$l}={styles:{}}}=(ro=f)==null?void 0:ro.componentConfig,Hl={themeKeys:{gap:"itemSpacing",scrollIndex:"scrollIndex",itemTransition:"itemTransition"},base:{display:"flex",flexBoundary:"fixed",flexDirection:"row",gap:f.layout.gutterX,itemTransition:{...f.animation.standardEntrance,duration:f.animation.duration.fast}},themeStyles:$l},jl=$(Hl),Tt={tone:Yl,Container:jl},X=r=>{const n=yn("left"),e=yn("right");return l(N,Q(r,{get selected(){return r.selected||0},get onLeft(){return He(r.onLeft,n)},get onRight(){return He(r.onRight,e)},forwardFocus:oi,get onCreate(){return He(t=>{var o,i;return xn(r.x).call(t,t,t.children[(o=r.selected)!=null?o:0],(i=r.selected)!=null?i:0,void 0)},r.onCreate)},get onSelectedChanged(){return He(r.onSelectedChanged,r.scroll!=="none"?xn(r.x):void 0)},get tone(){var t;return(t=r.tone)!=null?t:Tt.tone},get style(){return[...[r.style].flat(),Tt.Container.tones[r.tone||Tt.tone],Tt.Container.base]},get states(){var t;return(t=r.tone)!=null?t:Tt.tone}}))},{Keyboard:{defaultTone:zd,...vr}={styles:{}}}=(oo=f)==null?void 0:oo.componentConfig,Ql={themeKeys:{keySpacing:"keySpacing",screenW:"screenW",marginX:"marginX"},base:{keySpacing:f.spacer.md,screenW:f.layout.screenW,marginX:f.layout.marginX,height:100},themeStyles:vr},Xl={themeKeys:{keySpacing:"keySpacing",textAlign:"textAlign",borderRadius:"borderRadius",color:"backgroundColor",justifyContent:"justifyContent",baseWidth:"baseWidth",sizes:"sizes",contentColor:"contentColor"},base:{keySpacing:f.spacer.md,height:f.spacer.md*9,paddingX:f.spacer.md,sizes:{sm:1,md:2,lg:3,xl:4,xxl:5},contentColor:f.color.fillNeutral,padding:[f.spacer.xxxl,f.spacer.xl],baseWidth:f.spacer.md*7,color:f.color.interactiveNeutral,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:f.radius.sm},modes:{focus:{color:f.color.interactiveNeutralFocus,contentColor:f.color.fillInverse},disabled:{color:f.color.fillNeutralDisabled,contentColor:f.color.fillNeutralDisabled}},tones:{inverse:{color:f.color.interactiveInverse,focus:{color:f.color.interactiveInverseFocus,contentColor:f.color.fillNeutral}},brand:{focus:{contentColor:f.color.fillNeutral}}},themeStyles:vr},Kl={themeKeys:{color:"textColor"},base:{textAlign:"left",color:f.color.textNeutral,...f.typography.headline2},modes:{focus:{color:f.color.textInverse},disabled:{color:f.color.textNeutralDisabled}},tones:{inverse:{focus:{color:f.color.textNeutral}}},themeStyles:vr};$(Ql);$(Xl);$(Kl);const{Key:{defaultTone:Pd,...ci}={styles:{}}}=(io=f)==null?void 0:io.componentConfig,Vl={themeKeys:{keySpacing:"keySpacing",textAlign:"textAlign",borderRadius:"borderRadius",color:"backgroundColor",justifyContent:"justifyContent",baseWidth:"baseWidth",sizes:"sizes",contentColor:"contentColor"},base:{keySpacing:f.spacer.md,height:f.spacer.md*9,paddingX:f.spacer.md,contentColor:f.color.fillNeutral,sizes:{sm:1,md:2,lg:3,xl:4,xxl:5},padding:[f.spacer.md],baseWidth:f.spacer.md*7,color:f.color.interactiveNeutral,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:f.radius.sm},modes:{focus:{color:f.color.interactiveNeutralFocus,contentColor:f.color.fillInverse},disabled:{color:f.color.fillNeutralDisabled,contentColor:f.color.fillNeutralDisabled}},tones:{inverse:{color:f.color.interactiveInverse,focus:{color:f.color.interactiveInverseFocus,contentColor:f.color.fillNeutral}},brand:{focus:{contentColor:f.color.fillNeutral}}},themeStyles:ci},Gl={themeKeys:{color:"textColor"},base:{textAlign:"left",color:f.color.textNeutral,...f.typography.headline2},modes:{focus:{color:f.color.textInverse},disabled:{color:f.color.textNeutralDisabled}},tones:{inverse:{focus:{color:f.color.textNeutral}}},themeStyles:ci};$(Vl);$(Gl);const{Input:{defaultTone:Dd,...wr}={styles:{}}}=(so=f)==null?void 0:so.componentConfig,ql={themeKeys:{justifyContent:"justifyContent"},base:{display:"flex",justifyContent:"flexStart",flexDirection:"column",width:100,height:100,actualTitle:""},themeStyles:wr},Zl={themeKeys:{borderRadius:"borderRadius",color:"backgroundColor"},base:{width:ll(f,4),height:100,display:"flex",flexDirection:"column",padding:[f.spacer.xxxl,f.spacer.xl],color:f.color.interactiveNeutral,contentColor:f.color.fillInverse,borderRadius:f.radius.sm,marginX:f.spacer.xxxl},modes:{focus:{color:f.color.interactiveNeutralFocus},disabled:{color:f.color.fillNeutralDisabled}},tones:{inverse:{color:f.color.interactiveInverse},brand:{color:f.color.interactiveBrand,focus:{color:f.color.fillNeutral}}},themeStyles:wr},Jl={themeKeys:{color:"textColor"},base:{textAlign:"left",color:f.color.textNeutral,...f.typography.button1},themeStyles:wr};$(ql);$(Zl);$(Jl);const{Tile:{defaultTone:Od,...Rn}={styles:{}}}=(ao=f)==null?void 0:ao.componentConfig,{Surface:{defaultSurfaceTone:Wd,...ec}={styles:{}}}=(lo=f)==null?void 0:lo.componentConfig,tc={themeKeys:{alpha:"alpha",paddingYProgress:"paddingYProgress"},base:{width:400,height:240,padding:[40,10],paddingYProgress:f.spacer.xl,paddingYBetweenContent:f.spacer.md,borderRadius:f.radius.md,alpha:f.alpha.primary},modes:{disabled:{alpha:f.alpha.inactive}},themeStyles:{...ec,...Rn}},nc={themeKeys:{},base:{display:"flex",flexDirection:"column",justifyContent:"flexStart",mountY:1},themeStyles:Rn},rc={themeKeys:{},base:{display:"flex",flexDirection:"column",justifyContent:"flexStart"},themeStyles:Rn},oc={themeKeys:{},base:{width:f.spacer.lg*5,height:f.spacer.xxl+f.spacer.md},themeStyles:Rn};$(tc);$(nc);$(rc);$(oc);const ic={color:255,height:150,width:330,x:1910,y:10,mountX:1,alpha:.8,zIndex:100},Te={x:10,fontSize:22,textColor:M("#f6f6f6")},rn={fontSize:22,textColor:M("#f6f6f6")},[sc,ac]=W(0),[lc,cc]=W(0),[dc,uc]=W(99),[hc,fc]=W(0),[gc,pc]=W(0),[mc,xc]=W(0),[yc,vc]=W(0);let uo=0,ho=0;const wc=r=>{r&&(ac(r),uc(n=>Math.min(r,n)),fc(n=>Math.max(r,n)),ho+=r,uo++,cc(Math.round(ho/uo)))},bc=r=>{let n=0,e=0,t=0;r.txManager.textureIdCache.forEach((o,i,s)=>{o.state==="loaded"&&n++,o.state==="loading"&&e++,o.state==="failed"&&t++}),pc(n),xc(e),vc(t)};function Sc(r){r.renderer.on("fpsUpdate",(n,e)=>{const t=typeof e=="number"?e:e.fps;t>5&&(wc(t),bc(n.root.stage))})}const Ac=r=>l(N,Q(r,{style:ic,get children(){return[l(N,{get children(){return[l(E,{style:Te,children:"FPS:"}),l(E,{style:rn,x:90,get children(){return sc()}})]}}),l(N,{x:160,get children(){return[l(E,{style:Te,children:"AVG:"}),l(E,{style:rn,x:100,get children(){return lc()}})]}}),l(N,{x:0,y:20,get children(){return[l(E,{style:Te,children:"MIN:"}),l(E,{style:rn,x:90,get children(){return dc()}})]}}),l(N,{x:160,y:20,get children(){return[l(E,{style:Te,children:"MAX:"}),l(E,{style:rn,x:100,get children(){return hc()}})]}}),l(N,{x:0,y:50,get children(){return[l(E,{style:Te,children:"Loaded Textures Cnt:"}),l(E,{style:Te,x:270,get children(){return gc()}})]}}),l(N,{x:0,y:80,get children(){return[l(E,{style:Te,children:"Loading Textures Cnt:"}),l(E,{style:Te,x:270,get children(){return mc()}})]}}),l(N,{x:0,y:110,get children(){return[l(E,{style:Te,children:"Failed Textures Cnt:"}),l(E,{style:Te,x:270,get children(){return yc()}})]}})]}})),er={Column:{flexDirection:"column",display:"flex",width:320,height:600,y:360,gap:20,zIndex:101,transition:{x:{duration:250,easing:"ease-in-out"}},x:8,focus:{x:f.layout.marginX}},Gradient:{zIndex:99,color:M("#000000"),src:"./assets/sidenav.png",alpha:0,width:1200,height:1080,focus:{alpha:1},transition:{alpha:!0}},NavButton:{zIndex:102,height:70,width:100,borderRadius:8,focus:{color:M("#424242")},active:{width:328,height:70}}},Cc="/solid-demo-app/",Tc=[{name:"experiment",width:81,height:100,x:0,y:0},{name:"trending",width:100,height:56,x:81,y:0},{name:"tv",width:100,height:68,x:181,y:0},{name:"movie",width:94,height:100,x:282,y:0}];function _c(r){const n=nl(Cc+"assets/icons_white.png",Tc);return l(N,Q(r,{get texture(){return n[r.name]},get width(){return n[r.name].props.width},get height(){return n[r.name].props.height},get x(){return(100-(n[r.name].props.width||0))/2},get y(){return(100-(n[r.name].props.height||0))/2}}))}function on(r){return l(N,Q(r,{forwardStates:!0,get style(){return er.NavButton},get children(){return[l(N,{y:-16,get children(){return l(_c,{scale:.5,get name(){return r.icon}})}}),l(E,{style:{fontSize:38,x:116,y:18,height:50,alpha:0,active:{alpha:1}},get children(){return r.children}})]}}))}function Rc(r){let n;const e=vt();function t(){n.states.add("focus"),this.children.forEach(s=>s.states.add("active")),this.children.selected.setFocus()}function o(){n.states.remove("focus"),this.selected=0,this.children.forEach(s=>s.states.remove("active"))}function i(s){if(Aa(()=>s)())return r.focusPage();e(s)}return[l(N,{flexItem:!1,x:40,y:30,zIndex:105,get alpha(){return r.showWidgets?1:0},get children(){return[l(E,{x:80,fontSize:28,color:4143380036,children:"Built With:"}),l(N,{y:22,src:"./assets/solidWord.png",width:280,height:52})]}}),l(te,Q(r,{onFocus:t,onBlur:o,get style(){return er.Column},scroll:"none",get children(){return[l(on,{onEnter:()=>i("/browse/all"),icon:"trending",children:"Trending"}),l(on,{icon:"movie",onEnter:()=>i("/browse/movie"),children:"Movies"}),l(on,{icon:"tv",onEnter:()=>i("/browse/tv"),children:"TV"}),l(on,{icon:"experiment",onEnter:()=>i("/examples"),children:"Examples"})]}})),l(N,{ref(s){var a=n;typeof a=="function"?a(s):n=s},get style(){return er.Gradient}})]}const Ic=r=>{Ka({Announcer:["a"],Menu:["m"],Escape:["Escape",27],Backspace:["Backspace",8],Left:["ArrowLeft",37],Right:["ArrowRight",39],Up:["ArrowUp",38],Down:["ArrowDown",40],Enter:["Enter",13]});const n=tl();n.enabled=!1;const e=vt();let t,o;Sc({renderer:Le});function i(){return t.states.has("focus")?!1:(o=sr(),t.setFocus())}const[s,a]=W(!0),c=ei(),d=["/browse","/entity"];return je(()=>{const u=c.pathname;let g=d.some(w=>u.startsWith(w));u==="/"&&(g=!0),a(g)}),l(N,{onAnnouncer:()=>n.enabled=!n.enabled,onLast:()=>history.back(),onMenu:()=>e("/"),style:{width:1920,height:1080},onBackspace:i,onLeft:i,onRight:()=>t.states.has("focus")&&o.setFocus(),get children(){return[l(ol,{}),l(Ac,{mountX:1,x:1910,y:10,get alpha(){return s()?1:0}}),xt(()=>r.children),l(Rc,{ref(u){var g=t;typeof g=="function"?g(u):t=u},focusPage:()=>o.setFocus(),get showWidgets(){return s()}})]}})},ge={Page:{width:1920,height:1080},headlineText:{width:1200,height:240,x:360,y:455,contain:"both",fontSize:66,textAlign:"center"},headlineSubText:{width:960,height:170,x:530,y:655,contain:"both",fontSize:48,textAlign:"center"},itemsContainer:{width:f.layout.screenW,height:600,y:560,x:0,zIndex:2},Thumbnail:{borderRadius:16,width:185,height:278,scale:1,zIndex:2,transition:{scale:{duration:250,easing:"ease-in-out"}},border:{width:0,color:0},focus:{scale:1.1,border:{color:4294967142,width:8}}},FocusRing:{borderRadius:16,width:194,height:286,y:-5,x:-5,zIndex:-1},FPS:{color:255,height:42,width:140,x:20,y:20,zIndex:100},FPSLabel:{x:10,y:0,fontSize:36,textColor:M("#ffffff")},FPSValue:{x:90,y:0,fontSize:36,textColor:M("#ffffff")},showHeadline:{x:70,y:20},headlineBlur:{width:1920,height:150,x:0,y:0,zIndex:14,alpha:.9,color:M("#000000")},RowTitle:{height:60,width:300,marginBottom:-40,fontSize:36,color:M("#f0f0f0"),zIndex:2},Row:{display:"flex",justifyContent:"spaceBetween",height:300},Column:{display:"flex",flexDirection:"column",justifyContent:"flexStart",gap:64,width:f.layout.screenW-2*f.layout.marginX,x:f.layout.marginX+f.layout.gutterX,y:48,transition:{y:{duration:250,easing:"ease-in-out"}},zIndex:2},Rect:{width:250,height:100,y:10,x:300,color:M("#0000ff")},peopleBio:{...f.typography.body1,fontFamily:"Ubuntu",fontWeight:"normal",contain:"both",width:780,height:340}},vn={width:120,height:40,color:M("#000000"),borderRadius:8,border:{width:2,color:M("#3333ff")},scale:1,focus:{scale:1.1,border:{width:5,color:M("#333333")}},transition:{scale:!0,color:!0}},Bc={color:M("#00A699"),height:8,y:2,x:-4,width:vn.width+8},kc={fontSize:12,y:12,contain:"width",textAlign:"center",color:M("#F6F6F9"),height:vn.height,width:vn.width},fo={container:vn,topBar:Bc,text:kc},go={width:386,height:136,color:M("#715cab"),focus:{color:M("#5a39a2")},disabled:{color:M("#291d43")}},Ec={fontSize:32,contain:"width",textAlign:"center",mountY:-.35,color:M("#FFFFFF"),height:go.height,width:go.width,focus:{fontSize:40},disabled:{color:M("#909090")}};function Fc(r){return l(N,Q(r,{get style(){return ge.Thumbnail}}))}function wn(r){const[n,e]=Vi(r,["items"]);return l(X,Q(e,{get style(){return ge.Row},get children(){return l(Tn,{get each(){return n.items},children:t=>l(Fc,t)})}}))}const Nc="eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIyZDE4YjEwMTA0YjdiZTlkNjFiMWYwYjVlMGEwNzM2OCIsInN1YiI6IjYwZTVjMTdlNGNhNjc2MDA3NTA4Njc3MSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.D_nqH9kd-bhhWzeVsTDPYhHnsUaNAuyAa6YATmKHqsA",Lc="https://api.themoviedb.org/3";let di,ui;const Mc="w185",zc={headers:{"Content-Type":"application/json",Authorization:"Bearer "+Nc}};function Nt(r,n=Mc){return ui+n+r}function Pc(r,n={}){return di?tr(r,n):hi().then(()=>tr(r,n))}function tr(r,n={}){return fetch(Lc+r,{...zc,...n}).then(e=>e.json())}function hi(){return tr("/configuration").then(r=>{var n;return di=r,ui=(n=r.images)==null?void 0:n.secure_base_url,r})}const rt={get:Pc,loadConfig:hi};function Dc(r,n){return r.length>n?r.substring(0,n-3)+"...":r}function Oc(r,n=7){let e=[];for(let t=0,o=r.length;t<o;t+=n)e.push(r.slice(t,t+n));return e}function zt(r=[]){return r.map(n=>({src:Nt(n.poster_path||n.profile_path),tileSrc:Nt(n.backdrop_path||n.profile_path,"w300"),backdrop:Nt(n.backdrop_path,"w1280"),href:"/entity/".concat(n.media_type||"people","/").concat(n.id),shortTitle:Dc(n.title||n.name,30),title:n.title||n.name,data:n,entityInfo:{type:n.media_type||"people",id:n.id},heroContent:{title:n.title||n.name,description:n.overview}}))}let Pn=new Map;const sn=new Map;function Wc(r){return n=>{const e="/trending/".concat(r,"/week?page=").concat(n);if(Pn.has(e))return Pn.get(e);let t=rt.get(e).then(o=>{let i=o.results.filter(c=>!c.adult),s=(sn.has(r)?sn.get(r):[]).concat(zt(i)),a=Oc(s);return a[a.length-1].length<7?sn.set(r,a.pop()):sn.delete(r),a});return Pn.set(e,t),t}}function Uc(r){const[n,e]=W([]),[t,o]=W(1),[i,s]=W(!1),[a]=tt(t,r);return Dn(()=>{const c=a();c&&Di(()=>{c.length===0&&s(!0),e(d=>[...d,...c])})}),{pages:n,page:t,setPage:o,setPages:e,end:i,setEnd:s}}const In=900,Yc={...f.typography.display2,fontFamily:"Ubuntu",fontWeight:700,maxLines:1,width:In,contain:"width"},$c=r=>l(E,Q(r,{style:Yc})),Hc={...f.typography.body1,fontFamily:"Ubuntu",fontWeight:400,lineHeight:32,width:In,maxLines:3,contain:"width"},jc={fontSize:16,lineHeight:20},Qc=r=>l(E,Q(r,{style:Hc,get children(){return r.children}})),Xc=r=>(()=>{var n=Ot("node");return Qo(ri,n,()=>[8,13,11,13]),_n(n,Q(r,{style:{color:"0x00000099",borderRadius:8,border:{width:2,color:"0xffffffff"}}}),!0),jo(n,l(E,{style:jc,get children(){return r.children}})),n})(),po={...f.typography.body2,fontFamily:"Ubuntu",fontWeight:400},Kc=r=>l(N,{style:{display:"flex",flexDirection:"row",gap:18,width:In,height:48},get children(){return[l(N,{y:-4,src:"./assets/stars.png",width:188,height:31}),l(N,{y:-4,flexItem:!1,clipping:!0,get width(){return 188*r.voteAverage/10},height:31,get children(){return l(N,{src:"./assets/stars-full.png",width:188,height:31})}}),l(E,{style:po,get children(){return[xt(()=>r.voteCount)," reviews"]}}),l(E,{style:po,get children(){return r.metaText}}),l(Tn,{get each(){return r.badges},children:n=>l(Xc,{y:-5,children:n})})]}}),fi=r=>l(N,Q(r,{style:{display:"flex",flexDirection:"column",width:In,height:220,gap:16},get children(){return[l($c,{get children(){return r.title}}),l(Qc,{get children(){return r.description}}),l(ze,{get when(){return r.voteCount},get children(){return l(Kc,{get metaText(){return r.metaText},get badges(){return r.badges},get voteCount(){return r.voteCount},get voteAverage(){return r.voteAverage}})}})]}}));function Vc(r){const n=Math.floor(r/60),e=r%60;return n+"h "+(e<10?"0":"")+e+"min"}function Gc(r){const n=r.split("-");return n[1]+"/"+n[2]+"/"+n[0]}function mo(r){return r.split("-")[0]}function qc({type:r,id:n}){return rt.get("/".concat(r,"/").concat(n,"/recommendations")).then(({results:e})=>e.length?zt(e.slice(0,7)):rt.get("/trending/".concat(r,"/week?page=1")).then(({results:t})=>zt(t.slice(0,7))))}function Zc({type:r,id:n}){return rt.get("/".concat(r,"/").concat(n,"/credits")).then(({cast:e})=>zt(e.slice(0,7)))}function gi({type:r,id:n}){let e=r==="movie"?{rtCrit:86,rtFan:92}:{};return rt.get("/".concat(r,"/").concat(n)).then(t=>({backgroundImage:Nt(t.backdrop_path,"w1280"),heroContent:{title:t.title||t.name,description:t.overview,badges:["HD","CC"],voteAverage:t.vote_average,voteCount:t.vote_count,metaText:r==="movie"?Vc(t.runtime)+"   "+Gc(t.release_date):"".concat(mo(t.first_air_date)," - ").concat(mo(t.last_air_date)),reviews:e},...t}))}const xo=()=>{const r=fr(),[n,e]=W(0),[t,o]=W();tt(t,gi);const[i,s]=W({}),a=vt(),c=To(()=>0),d=q(()=>Uc(Wc(r.filter||"all"))),u=qn(p=>Ee(p),400),g=qn(p=>s(p),200);je(it(sr,p=>{p.backdrop&&u(p.backdrop),p.heroContent&&g(p.heroContent)},{defer:!0}));function w(){var y;(y=this.children.selected)==null||y.setFocus(),e((this.y||0)*-1+24);let p=d().pages().length;(p===0||this.parent.selected&&this.parent.selected>=p-2)&&d().setPage(S=>S+1)}function A(){let p=this.children.selected;return L(p&&p.href),a(p.href),!0}return l(ze,{get when(){return d().pages().length},get children(){return[l(fi,Q({y:360,x:162},i)),l(N,{clipping:!0,get style(){return ge.itemsContainer},get children(){return l(te,{plinko:!0,announce:"All Trending - Week",get y(){return n()},get style(){return ge.Column},get children(){return l(Tn,{get each(){return d().pages()},children:(p,y)=>l(wn,{get autofocus(){return c(y())},items:p,width:1620,onFocus:w,onEnter:A})})}})}})]}})},Jc=()=>{const r=vt(),n=To(()=>0);function e(){let c=this.children.selected;L(c&&c.id),r("/"+c.id)}const t=[{title:"Flex Row",id:"flex",description:"Flex Row Implementation"},{title:"Flex Column",id:"flexcolumn",description:"Flex Column Implementation"},{title:"Flex Row Vertical Align",id:"flexsize",description:"Flex Row Vertical Align Implementation"},{title:"Flex Column Vertical Align",id:"flexcolumnsize",description:"Flex Column Vertical Align Implementation"},{title:"Buttons",id:"buttons",description:"Demo a few buttons"},{title:"Text",id:"text",description:"Text layout with flexbox"},{title:"Create Elements",id:"create",description:"Testing Show + children + inserting text"},{title:"Viewport",id:"viewport",description:"Events going in and out of viewport"}];function o(c){const d={width:370,height:320,borderRadius:6,scale:1,color:405488895,transition:{color:!0,scale:!0},focus:{scale:1.1,color:4294967295}},[u,g]=W(4294967295);return l(N,Q(c,{onFocus:()=>g(255),onBlur:()=>g(4294967295),style:d,get children(){return l(N,{x:30,get children(){return[l(E,{y:30,fontSize:84,get color(){return u()},get children(){return c.index}}),l(E,{y:140,fontSize:42,width:340,height:42,contain:"both",get color(){return u()},get children(){return c.title}}),l(E,{y:200,fontSize:28,width:330,contain:"width",get color(){return u()},get children(){return c.description}})]}})}}))}const[i,s]=W(140);function a(c){s(c.selected*-400+140)}return l(N,{colorTop:1147903743,colorBottom:743406847,get children(){return[l(N,{x:120,get children(){return[l(N,{src:"./assets/solidjs.png",width:101,height:90,y:40}),l(E,{fontSize:90,x:110,y:40,children:"Examples"}),l(N,{y:140,height:1,width:1800,color:3906468351})]}}),l(X,{onSelectedChanged:a,onEnter:e,transition:{x:{delay:20,duration:300}},get x(){return i()},y:300,width:4400,get style(){return ge.Row},justifyContent:"flexStart",gap:40,get children(){return l(Tn,{each:t,children:(c,d)=>l(o,Q({get autofocus(){return n(d())},get index(){return d()}},c))})}})]}})},ed=()=>{const r={width:900,height:500,y:350,x:150,gap:25,display:"flex",flexDirection:"column",justifyContent:"flexStart",color:M("00000000")},n={width:900,height:36,gap:6,display:"flex",flexDirection:"row",justifyContent:"flexStart",color:M("00000000")},e={fontSize:42},t={width:r.width,fontSize:26,contain:"width"},o={fontSize:26};return Qe(()=>{Ee("#000000")}),l(N,{autofocus:!0,style:r,get children(){return[l(E,{style:e,children:"Title of the Page"}),l(E,{style:t,children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer vel tempor tellus. Sed eu leo purus. Vestibulum sollicitudin eget tellus a varius. Phasellus est turpis, volutpat sed blandit sit amet, rutrum sit amet mauris. In dignissim elit orci, a sollicitudin ipsum faucibus et. Quisque vel quam rutrum, faucibus augue sed, scelerisque nunc."}),l(N,{style:n,get children(){return[l(E,{style:o,children:"Subline Text"}),l(N,{width:28,height:28,src:"./assets/rt-popcorn.png"}),l(E,{style:o,children:"More Text"})]}})]}})},td=()=>{const r={width:900,height:500,y:50,x:150,gap:25,display:"flex",flexDirection:"column",justifyContent:"flexStart",color:M("00000000")},n={width:900,height:36,gap:6,display:"flex",flexDirection:"row",justifyContent:"flexStart",color:M("00000000")},e={fontSize:42},t={fontSize:26};let o,i;Qe(()=>{Ee("#000000"),o.animate({x:100},{duration:2e3}).start()});const[s,a]=W(),[c,d]=W();setTimeout(()=>{var b;a("- Inserted -"),(b=i.getChildById("child1"))==null||b.animate({x:600},{duration:2e3}).start()},2e3);const u={width:400,height:300,color:M("#0000ff")},g={color:M("#f54242"),focus:{color:M("#4287f5")}};function w(b){const v=An(()=>b.children);return l(N,Q(b,{get style(){return[g,b.style,[u]]},get children(){return[l(N,{id:"child1",width:100,height:100,get color(){return M("#ff0000")},y:25,get children(){return[xt(()=>v()),l(N,{id:"subChild",x:150,width:100,height:100,get color(){return M("#00ff00")}}),l(E,{get children(){return b.title}})]}}),l(N,{width:100,height:100,get color(){return M("#ffff00")},y:175,get children(){return v()}})]}}))}const A={borderLeft:{width:8,color:95598118},borderTop:{width:8,color:631422246},borderRight:{width:8,color:95598118},borderBottom:{width:8,color:3316790822}},p={color:M("#cccccc"),focus:{color:M("#000000")}},y={color:M("#ffffff"),focus:{color:M("#f6f6cc")}};function S(b){return b.states.has("focus")}return l(N,{style:r,get children(){return[l(E,{style:e,children:"Title of the Page"}),l(N,{style:n,get children(){return[l(E,{get children(){return c()}}),l(E,{style:t,get children(){return["Sub ",xt(()=>s())," Text"]}}),l(ze,{get when(){return s()},get children(){return l(N,{width:28,height:28,src:"./assets/rt-popcorn.png"})}}),l(E,{style:t,children:"More Text"})]}}),l(w,{autofocus:!0,ref(b){var v=i;typeof v=="function"?v(b):i=b},style:[y,p],get children(){return l(E,{children:"Child Test"})}}),l(N,{ref(b){var v=o;typeof v=="function"?v(b):o=b},style:A,width:100,height:100,get color(){return M("#00ff00")},x:900,y:400,get alpha(){return S(o)?1:.2}})]}})},nd=()=>{let r,n;const[e,t]=W([]),o={width:100,height:100,x:-400,y:-400,rotation:0,borderRadius:50,color:M("#4287f5"),transition:{x:{duration:1250,easing:"linear"},y:{duration:1250,easing:"linear"},rotation:{duration:1400,easing:"ease-in-out"}}},i={fontSize:32,x:960,y:540,mount:.5,lineheight:52},s=(c,d)=>Math.floor(Math.random()*(d-c+1)+c);Qe(()=>{Ee("#000000"),r.x=1820/2,r.y=980/2,n=setInterval(()=>{r.rotation=s(-90,90),r.x=s(-300,2220),r.y=s(-300,1380)},2500)});function a(c,d){t(u=>[...u,c].slice(-4)),console.log(c)}return Me(()=>{clearInterval(n)}),l(N,{get children(){return[l(E,{style:i,get children(){return e().join("\n")}}),l(N,{autofocus:!0,style:o,ref(c){var d=r;typeof d=="function"?d(c):r=c},onEvents:[["inBounds",c=>a("inBounds")],["outOfBounds",c=>a("outOfBounds")],["inViewport",c=>a("inViewport")],["outOfViewport",c=>a("outOfViewport")]]})]}})},rd=()=>{function r(o,i){this.states.toggle("disabled")}const n={display:"flex",justifyContent:"flexStart",width:1500,height:300,color:M("00000000"),gap:26,y:400};function e(o){return l(N,Q(o,{forwardStates:!0,get style(){return fo.container},get children(){return l(E,{get style(){return fo.text},get children(){return o.children}})}}))}const t=o=>(()=>{var i=Ot("node");return Qo(ri,i,()=>[10,15]),_n(i,Q(o,{get style(){return{color:M("#000000be"),borderRadius:8,border:{width:2,color:M("#ffffff")}}}}),!0),jo(i,l(E,{style:{fontSize:20},get children(){return o.children}})),i})();return[l(X,{x:100,y:200,gap:5,style:n,get children(){return[l(t,{children:"HD"}),l(t,{children:"PG13"}),l(t,{children:"NC17"}),l(E,{fontSize:30,children:"I like bananas"}),l(t,{children:"DOLBY"})]}}),l(X,{x:100,gap:40,style:n,get children(){return[l(e,{autofocus:!0,onEnter:r,children:"TV Shows"}),l(e,{states:{active:!0,disabled:!1},children:"Movies"}),l(e,{states:"active",children:"Sports"}),l(e,{states:"disabled",children:"News"})]}})]},od=()=>{const r={display:"flex",justifyContent:"flexStart",width:1600,height:110,color:M("#4dabf5")},n={fontSize:44,marginTop:25,marginBottom:-20,skipFocus:!0};function e(a){return l(N,Q(a,{style:{width:200,height:100,y:5,color:392801023}}))}const[t,o]=W(50);function i(){var a;(a=this.children.selected)==null||a.setFocus(),o(150+(this.y||0)*-1)}Qe(()=>{Ee("#333333")});const s=50;return l(te,{x:160,get y(){return t()},gap:30,height:850,get width(){return r.width},get style(){return ge.Column},get children(){return[l(E,{style:n,children:"Flex Start"}),l(X,{gap:s,style:r,onFocus:i,get children(){return[l(e,{autofocus:!0}),l(e,{}),l(e,{}),l(e,{}),l(e,{})]}}),l(E,{style:n,children:"Flex Start - Margin Left"}),l(X,{gap:s,style:r,onFocus:i,get children(){return[l(e,{marginLeft:100}),l(e,{}),l(e,{marginLeft:100}),l(e,{}),l(e,{})]}}),l(E,{style:n,children:"Flex End"}),l(X,{gap:s,justifyContent:"flexEnd",style:r,onFocus:i,get children(){return[l(e,{}),l(e,{}),l(e,{}),l(e,{}),l(e,{})]}}),l(E,{style:n,children:"Flex End - Margin Right"}),l(X,{gap:s,justifyContent:"flexEnd",style:r,onFocus:i,get children(){return[l(e,{}),l(e,{marginRight:100}),l(e,{}),l(e,{}),l(e,{marginRight:100})]}}),l(E,{style:n,children:"Center - No Margin Support"}),l(X,{gap:s,justifyContent:"center",style:r,onFocus:i,get children(){return[l(e,{}),l(e,{}),l(e,{}),l(e,{}),l(e,{})]}}),l(E,{style:n,children:"Space Between - No Margin Support"}),l(X,{gap:s,justifyContent:"spaceBetween",style:r,onFocus:i,get children(){return[l(e,{}),l(e,{}),l(e,{}),l(e,{}),l(e,{})]}}),l(E,{style:n,children:"Space Evenly - No Margin Support"}),l(X,{gap:s,justifyContent:"spaceEvenly",style:r,onFocus:i,get children(){return[l(e,{}),l(e,{}),l(e,{}),l(e,{}),l(e,{})]}})]}})},id=()=>{const r={display:"flex",justifyContent:"flexStart",width:1600,height:110,color:M("#4dabf5")},n={fontSize:44,marginTop:25,marginBottom:-20,skipFocus:!0};function e(c){return l(N,Q(c,{style:{width:200,height:100,y:5,color:392801023}}))}function t(){return Math.floor(Math.random()*91)+10}const[o,i]=W(50);function s(){var c;(c=this.children.selected)==null||c.setFocus(),i(150+(this.y||0)*-1)}Qe(()=>{Ee("#333333")});const a=50;return l(te,{x:160,get y(){return o()},gap:30,height:850,get width(){return r.width},get style(){return ge.Column},get children(){return[l(E,{style:n,children:"Flex Start - AlignItems: center"}),l(X,{alignItems:"center",gap:a,style:r,onFocus:s,get children(){return[l(e,{autofocus:!0,get height(){return t()}}),l(e,{get height(){return t()}}),l(e,{get height(){return t()}}),l(e,{get height(){return t()}}),l(e,{get height(){return t()}})]}}),l(E,{style:n,children:"Flex Start - Margin Left - AlignItems: flexStart"}),l(X,{gap:a,alignItems:"flexStart",style:r,onFocus:s,get children(){return[l(e,{marginLeft:100,get height(){return t()}}),l(e,{get height(){return t()}}),l(e,{marginLeft:100,get height(){return t()}}),l(e,{get height(){return t()}}),l(e,{get height(){return t()}})]}}),l(E,{style:n,children:"Flex End - AlignItems: flexEnd"}),l(X,{gap:a,justifyContent:"flexEnd",alignItems:"flexEnd",style:r,onFocus:s,get children(){return[l(e,{get height(){return t()}}),l(e,{get height(){return t()}}),l(e,{get height(){return t()}}),l(e,{get height(){return t()}}),l(e,{get height(){return t()}})]}}),l(E,{style:n,children:"Flex End - Margin Right"}),l(X,{gap:a,justifyContent:"flexEnd",style:r,onFocus:s,get children(){return[l(e,{get height(){return t()}}),l(e,{marginRight:100,get height(){return t()}}),l(e,{get height(){return t()}}),l(e,{get height(){return t()}}),l(e,{marginRight:100,get height(){return t()}})]}}),l(E,{style:n,children:"Center - No Margin Support"}),l(X,{gap:a,justifyContent:"center",style:r,onFocus:s,get children(){return[l(e,{get height(){return t()}}),l(e,{get height(){return t()}}),l(e,{get height(){return t()}}),l(e,{get height(){return t()}}),l(e,{get height(){return t()}})]}}),l(E,{style:n,children:"Space Between - No Margin Support"}),l(X,{gap:a,justifyContent:"spaceBetween",style:r,onFocus:s,get children(){return[l(e,{get height(){return t()}}),l(e,{get height(){return t()}}),l(e,{get height(){return t()}}),l(e,{get height(){return t()}}),l(e,{get height(){return t()}})]}}),l(E,{style:n,children:"Space Evenly - No Margin Support"}),l(X,{gap:a,justifyContent:"spaceEvenly",style:r,onFocus:s,get children(){return[l(e,{get height(){return t()}}),l(e,{get height(){return t()}}),l(e,{get height(){return t()}}),l(e,{get height(){return t()}}),l(e,{get height(){return t()}})]}})]}})},sd=()=>{const r={display:"flex",justifyContent:"spaceEvenly",width:1920,y:100,height:880,color:M("00000000")},n={display:"flex",flexDirection:"column",justifyContent:"flexStart",color:M("#4dabf5"),height:850,width:80},e={fontSize:44,y:20,x:150};function t(d){const u={width:o(),height:80,x:5,color:M("#1769aa")};return l(N,Q(d,{style:u}))}function o(){return Math.floor(Math.random()*61)+10}const[i,s]=W(50);function a(){var d;(d=this.children.selected)==null||d.setFocus(),s(150+(this.y||0)*-1)}Qe(()=>{Ee("#333333")});const c=50;return[l(E,{style:e,children:"Start, MarginTop, End, MarginBottom, Center, Between, Evenly"}),l(X,{gap:c,style:r,onFocus:a,get children(){return[l(te,{gap:30,style:n,alignItems:"center",get children(){return[l(t,{autofocus:!0}),l(t,{}),l(t,{}),l(t,{}),l(t,{})]}}),l(te,{gap:c,style:n,onFocus:a,alignItems:"flexStart",get children(){return[l(t,{marginTop:100}),l(t,{}),l(t,{marginTop:100}),l(t,{}),l(t,{})]}}),l(te,{gap:c,alignItems:"flexEnd",justifyContent:"flexEnd",style:n,onFocus:a,get children(){return[l(t,{}),l(t,{}),l(t,{}),l(t,{}),l(t,{})]}}),l(te,{gap:c,justifyContent:"flexEnd",style:n,onFocus:a,get children(){return[l(t,{}),l(t,{marginBottom:100}),l(t,{}),l(t,{}),l(t,{marginBottom:100})]}}),l(te,{gap:c,justifyContent:"center",style:n,onFocus:a,get children(){return[l(t,{}),l(t,{}),l(t,{}),l(t,{}),l(t,{})]}}),l(te,{gap:c,justifyContent:"spaceBetween",style:n,onFocus:a,get children(){return[l(t,{}),l(t,{}),l(t,{}),l(t,{}),l(t,{})]}}),l(te,{gap:c,justifyContent:"spaceEvenly",style:n,onFocus:a,get children(){return[l(t,{}),l(t,{}),l(t,{}),l(t,{}),l(t,{})]}})]}})]},ad=()=>{const r={display:"flex",justifyContent:"spaceEvenly",width:1920,y:100,height:880,color:M("00000000")},n={display:"flex",flexDirection:"column",justifyContent:"flexStart",color:M("#4dabf5"),height:850,width:60},e={fontSize:44,y:20,x:150};function t(c){const d={width:50,height:80,x:5,color:M("#1769aa")};return l(N,Q(c,{style:d}))}const[o,i]=W(50);function s(){var c;(c=this.children.selected)==null||c.setFocus(),i(150+(this.y||0)*-1)}Qe(()=>{Ee("#333333")});const a=50;return[l(E,{style:e,children:"Start, MarginTop, End, MarginBottom, Center, Between, Evenly"}),l(X,{gap:a,style:r,onFocus:s,get children(){return[l(te,{gap:30,style:n,get children(){return[l(t,{autofocus:!0}),l(t,{}),l(t,{}),l(t,{}),l(t,{})]}}),l(te,{gap:a,style:n,onFocus:s,get children(){return[l(t,{marginTop:100}),l(t,{}),l(t,{marginTop:100}),l(t,{}),l(t,{})]}}),l(te,{gap:a,justifyContent:"flexEnd",style:n,onFocus:s,get children(){return[l(t,{}),l(t,{}),l(t,{}),l(t,{}),l(t,{})]}}),l(te,{gap:a,justifyContent:"flexEnd",style:n,onFocus:s,get children(){return[l(t,{}),l(t,{marginBottom:100}),l(t,{}),l(t,{}),l(t,{marginBottom:100})]}}),l(te,{gap:a,justifyContent:"center",style:n,onFocus:s,get children(){return[l(t,{}),l(t,{}),l(t,{}),l(t,{}),l(t,{})]}}),l(te,{gap:a,justifyContent:"spaceBetween",style:n,onFocus:s,get children(){return[l(t,{}),l(t,{}),l(t,{}),l(t,{}),l(t,{})]}}),l(te,{gap:a,justifyContent:"spaceEvenly",style:n,onFocus:s,get children(){return[l(t,{}),l(t,{}),l(t,{}),l(t,{}),l(t,{})]}})]}})]},ld=()=>{function r(i,s){this.states.toggle("disabled")}const n={display:"flex",justifyContent:"flexStart",width:1500,height:300,color:M("00000000"),gap:26,y:400,x:100},e={width:386,height:136,color:"0x715cabff",focus:{color:"0x5a39a2ff"},disabled:{color:"0x291d43ff"}},t=["RoundedRectangle",{radius:65}];function o(i){return l(N,Q(i,{forwardStates:!0,style:e,shader:t,get children(){return l(E,{style:Ec,get children(){return i.children}})}}))}return l(X,{style:n,get children(){return[l(o,{autofocus:!0,onEnter:r,children:"Focused"}),l(o,{states:{active:!0,disabled:!1},children:"Normal"}),l(o,{states:"disabled",children:"Disabled"})]}})},cd="https://storage.googleapis.com/shaka-demo-assets/angel-one/dash.mpd";function dd(){shaka.polyfill.installAll(),shaka.Player.isBrowserSupported()?ud():console.error("Browser not supported!")}async function ud(){const r=document.getElementById("video"),n=new shaka.Player;await n.attach(r),window.player=n,n.addEventListener("error",hd);try{await n.load(cd),console.log("The video has now been loaded!")}catch(e){pi(e)}}function hd(r){pi(r.detail)}function pi(r){console.error("Error code",r.code,"object",r)}function fd(){const r=document.getElementById("video");return r.hidden=!1,setTimeout(()=>r.play(),50),r.focus(),r}function gd(){const r=document.getElementById("video");return r.hidden=!0,r.pause(),r}document.addEventListener("DOMContentLoaded",dd);const pd=()=>{const r=fr(),n=vt(),[e]=tt(()=>({...r}),gi),[t]=tt(()=>({...r}),Zc),[o]=tt(()=>({...r}),qc),[i,s]=W(0);je(it(e,b=>{Ee(b.backgroundImage)},{defer:!0}));const a=640,c={color:M("#000000"),alpha:0,width:1900,height:890,x:-160,y:a,borderRadius:30};function d(){var b;(b=this.children.selected)==null||b.setFocus(),p.y=a,y.y=a,y.alpha=0}function u(){var b;(b=this.children.selected)==null||b.setFocus(),p.y=200,y.y=160,y.alpha=.9}function g(){let b=this.children.selected;L(b&&b.href),n(b.href)}function w(){gd(),document.getElementsByTagName("canvas")[0].focus(),S.setFocus(),s(0)}function A(){const b=fd();Mo(b),s(.9)}let p,y,S;return l(ze,{get when(){return e()},keyed:!0,get children(){return[l(N,{x:170,onUp:()=>S.setFocus(),onEscape:w,get children(){return[l(fi,Q({y:260},()=>e().heroContent)),l(X,{ref(b){var v=S;typeof v=="function"?v(b):S=b},y:500,scroll:"none",height:90,width:640,gap:40,onDown:()=>p.setFocus(),onEnter:A,get children(){return[l(co,{width:300,autofocus:!0,children:"Play"}),l(co,{width:300,children:"Resume"})]}}),l(te,{ref(b){var v=p;typeof v=="function"?v(b):p=b},x:0,y:a,get style(){return ge.Column},zIndex:5,get children(){return l(ze,{get when(){return xt(()=>!!o())()&&t()},get children(){return[l(E,{skipFocus:!0,get style(){return ge.RowTitle},children:"Recommendations"}),l(wn,{onFocus:d,onEnter:g,get items(){return o()},width:1620}),l(E,{skipFocus:!0,get style(){return ge.RowTitle},children:"Cast and Crew"}),l(wn,{onFocus:u,onEnter:g,get items(){return t()},width:1620})]}})}}),l(N,{ref(b){var v=y;typeof v=="function"?v(b):y=b},style:c,transition:{alpha:!0,y:!0}})]}}),l(N,{get alpha(){return i()},get color(){return M("#000000")},zIndex:200,transition:{alpha:!0}})]}})};function md({id:r}){return rt.get("/person/".concat(r,"/combined_credits")).then(({cast:n})=>zt(n.slice(0,7)))}function xd({id:r}){return rt.get("/person/".concat(r)).then(n=>({backgroundImage:Nt(n.profile_path,"original"),heroContent:{title:n.title||n.name,description:n.biography},...n}))}const yd=()=>{const r=fr(),n=vt(),[e]=tt(()=>({...r}),xd),[t]=tt(()=>({...r}),md),o={color:M("#000000"),alpha:.8,width:800,height:440,x:130,y:180,borderRadius:30};function i(){let s=this.children.selected;L(s&&s.href),n(s.href)}return Qe(()=>{Ee("#333333")}),l(ze,{get when(){return e()},keyed:!0,get children(){return[l(N,{get src(){return e().backgroundImage},width:400,autosize:!0,y:0,x:1800,mountX:1}),l(N,{x:150,y:200,width:800,gap:24,get style(){return ge.Column},zIndex:3,get children(){return[l(E,{contain:"width",fontFamily:"Ubuntu",get style(){return f.typography.display2},get children(){return e().name}}),l(E,{contain:"both",get style(){return ge.peopleBio},get children(){return e().biography}})]}}),l(N,{style:o}),l(te,{y:670,x:140,get style(){return ge.Column},scroll:"none",get children(){return l(ze,{get when(){return t()},get children(){return[l(E,{skipFocus:!0,get style(){return ge.RowTitle},children:"Credits"}),l(wn,{autofocus:!0,onEnter:i,get items(){return t()}})]}})}})]}})},vd=()=>(()=>{var r=Ot("node");return ua(r,"style",{width:1920,height:1080,color:868483072}),r})(),wd=new URL("AppCoreExtensions-CJpWn59E.js",import.meta.url).href;pe.debug=!1;pe.animationsEnabled=!0;pe.fontSettings.fontFamily="Ubuntu";pe.fontSettings.color=M("#f6f6f6");pe.fontSettings.fontSize=32;pe.rendererOptions={coreExtensionModule:wd,fpsUpdateInterval:200,enableInspector:!0};da(()=>l(Wa,{root:r=>l(Ic,r),get children(){return[l(he,{path:"",component:xo}),l(he,{path:"examples",component:Jc}),l(he,{path:"browse/:filter",component:xo}),l(he,{path:"text",component:ed}),l(he,{path:"buttons",component:rd}),l(he,{path:"flex",component:od}),l(he,{path:"create",component:td}),l(he,{path:"viewport",component:nd}),l(he,{path:"flexsize",component:id}),l(he,{path:"flexcolumnsize",component:sd}),l(he,{path:"flexcolumn",component:ad}),l(he,{path:"buttonsmaterial",component:ld}),l(he,{path:"entity/people/:id",component:yd}),l(he,{path:"entity/:type/:id",component:pd}),l(he,{path:"*all",component:vd})]}}));export{Sd as __vite_legacy_guard};
//# sourceMappingURL=index-PC-bZnEO.js.map
