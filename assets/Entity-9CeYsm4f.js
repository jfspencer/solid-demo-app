import{h as n,m as T,T as y,z as c,V as h,A as d,B as w,D as B,E as I,u as j,a as f,c as D,f as M,o as V,s as z,S as k,G as H,R as P,C as G,i as m,l as N,H as x,j as U,J as Y,K as J,L as K}from"./index-t3eSr3kW.js";const p=e=>n(L,T(e,{get color(){return e.backgroundColor},get itemSpacing(){return e.contentSpacing},alignItems:"center",forwardStates:!0,get children(){return n(y,{get color(){return e.textColor},get contain(){var t;return(t=e.contain)!=null?t:"width"},get textAlign(){return e.textAlign},get style(){var t;return[c.Text.tones[(t=e.tone)!=null?t:c.tone],c.Text.base]},get children(){return e.children}})}})),L=e=>n(h,T(e,{get color(){return e.backgroundColor},get justifyContent(){return e.justify},get itemSpacing(){return e.contentSpacing},get style(){var t,r;return[e.style,(r=c.Container.tones)==null?void 0:r[(t=e.tone)!=null?t:c.tone],c.Container.base]},forwardStates:!0}));function q(e){const t=Math.floor(e/60),r=e%60;return t+"h "+(r<10?"0":"")+r+"min"}function O(e){const t=e.split("-");return t[1]+"/"+t[2]+"/"+t[0]}function R(e){return e.split("-")[0]}function Q({type:e,id:t}){return d.get("/".concat(e,"/").concat(t,"/recommendations")).then(({results:r})=>r.length?w(r.slice(0,7)):d.get("/trending/".concat(e,"/week?page=1")).then(({results:o})=>w(o.slice(0,7))))}function W({type:e,id:t}){return d.get("/".concat(e,"/").concat(t,"/credits")).then(({cast:r})=>w(r.slice(0,7)))}function X({type:e,id:t}){let r=e==="movie"?{rtCrit:86,rtFan:92}:{};return d.get("/".concat(e,"/").concat(t)).then(o=>({backgroundImage:B(o.backdrop_path,"w1280"),heroContent:{title:o.title||o.name,description:o.overview,badges:["HD","CC"],voteAverage:o.vote_average,voteCount:o.vote_count,metaText:e==="movie"?q(o.runtime)+"   "+O(o.release_date):"".concat(R(o.first_air_date)," - ").concat(R(o.last_air_date)),reviews:r},...o}))}const ee=()=>{const e=I(),t=j(),[r]=f(()=>({...e}),X),[o]=f(()=>({...e}),W),[C]=f(()=>({...e}),Q),[b,v]=D(0);M(V(r,s=>{z(s.backgroundImage)},{defer:!0}));const l=640,_={color:255,alpha:0,width:1900,height:890,x:-160,y:l,borderRadius:30};function $(){this.children[this.selected||0].setFocus(),u.y=l,a.y=l,a.alpha=0}function A(){this.children[this.selected||0].setFocus(),u.y=200,a.y=160,a.alpha=.9}function F(){let s=this.children.find(i=>i.states.has("focus"));U(s&&s.href),t(s.href)}function E(){Y(),document.getElementsByTagName("canvas")[0].focus(),g.setFocus(),v(0)}function S(){const s=J();K(s),v(.9)}let u,a,g;return n(k,{get when(){return r()},keyed:!0,get children(){return[n(h,{x:170,onUp:()=>g.setFocus(),onEscape:E,get children(){return[n(H,{y:260,get content(){return r().heroContent}}),n(P,{ref(s){var i=g;typeof i=="function"?i(s):g=s},y:500,scroll:"none",height:90,width:640,gap:40,onDown:()=>u.setFocus(),onEnter:S,get children(){return[n(p,{width:300,autofocus:!0,children:"Play"}),n(p,{width:300,children:"Resume"})]}}),n(G,{ref(s){var i=u;typeof i=="function"?i(s):u=s},x:0,y:l,get style(){return m.Column},height:880,scroll:"none",zIndex:5,get children(){return n(k,{get when(){return N(()=>!!C())()&&o()},get children(){return[n(y,{skipFocus:!0,get style(){return m.RowTitle},children:"Recommendations"}),n(x,{onFocus:$,onEnter:F,get items(){return C()},width:1620}),n(y,{skipFocus:!0,get style(){return m.RowTitle},children:"Cast and Crew"}),n(x,{onFocus:A,onEnter:F,get items(){return o()},width:1620})]}})}}),n(h,{ref(s){var i=a;typeof i=="function"?i(s):a=s},style:_,transition:{alpha:!0,y:!0}})]}}),n(h,{get alpha(){return b()},color:255,skipFocus:!0,zIndex:200,transition:{alpha:!0}})]}})};export{ee as default};
//# sourceMappingURL=Entity-9CeYsm4f.js.map
