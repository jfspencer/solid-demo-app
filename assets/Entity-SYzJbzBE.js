import{h as r,m as T,T as y,z as c,V as h,A as d,B as w,D as I,E as S,u as j,a as f,c as D,f as M,o as V,s as z,S as p,G as H,R as P,C as G,i as m,l as N,H as k,j as U,J as Y,K as J,L as K}from"./index-DJrJ72Ns.js";const x=e=>r(L,T(e,{forwardStates:!0,get children(){return r(y,{get textAlign(){return e.textAlign},get color(){return e.textColor},get style(){var n;return[c.Text.tones[(n=e.tone)!=null?n:c.tone],c.Text.base]},get children(){return e.children}})}})),L=e=>r(h,T(e,{get color(){return e.backgroundColor},get contentColor(){return e.contentColor},get justifyContent(){return e.justify},get itemSpacing(){return e.contentSpacing},get style(){var n,o;return[e.style,(o=c.Container.tones)==null?void 0:o[(n=e.tone)!=null?n:c.tone],c.Container.base]},forwardStates:!0}));function q(e){const n=Math.floor(e/60),o=e%60;return n+"h "+(o<10?"0":"")+o+"min"}function O(e){const n=e.split("-");return n[1]+"/"+n[2]+"/"+n[0]}function R(e){return e.split("-")[0]}function Q({type:e,id:n}){return d.get("/".concat(e,"/").concat(n,"/recommendations")).then(({results:o})=>o.length?w(o.slice(0,7)):d.get("/trending/".concat(e,"/week?page=1")).then(({results:s})=>w(s.slice(0,7))))}function W({type:e,id:n}){return d.get("/".concat(e,"/").concat(n,"/credits")).then(({cast:o})=>w(o.slice(0,7)))}function X({type:e,id:n}){let o=e==="movie"?{rtCrit:86,rtFan:92}:{};return d.get("/".concat(e,"/").concat(n)).then(s=>({backgroundImage:I(s.backdrop_path,"w1280"),heroContent:{title:s.title||s.name,description:s.overview,badges:["HD","CC"],voteAverage:s.vote_average,voteCount:s.vote_count,metaText:e==="movie"?q(s.runtime)+"   "+O(s.release_date):"".concat(R(s.first_air_date)," - ").concat(R(s.last_air_date)),reviews:o},...s}))}const ee=()=>{const e=S(),n=j(),[o]=f(()=>({...e}),X),[s]=f(()=>({...e}),W),[C]=f(()=>({...e}),Q),[b,v]=D(0);M(V(o,t=>{z(t.backgroundImage)},{defer:!0}));const l=640,_={color:255,alpha:0,width:1900,height:890,x:-160,y:l,borderRadius:30};function $(){var t;(t=this.children.selected)==null||t.setFocus(),u.y=l,a.y=l,a.alpha=0}function A(){var t;(t=this.children.selected)==null||t.setFocus(),u.y=200,a.y=160,a.alpha=.9}function F(){let t=this.children.find(i=>i.states.has("focus"));U(t&&t.href),n(t.href)}function E(){Y(),document.getElementsByTagName("canvas")[0].focus(),g.setFocus(),v(0)}function B(){const t=J();K(t),v(.9)}let u,a,g;return r(p,{get when(){return o()},keyed:!0,get children(){return[r(h,{x:170,onUp:()=>g.setFocus(),onEscape:E,get children(){return[r(H,{y:260,get content(){return o().heroContent}}),r(P,{ref(t){var i=g;typeof i=="function"?i(t):g=t},y:500,scroll:"none",height:90,width:640,gap:40,onDown:()=>u.setFocus(),onEnter:B,get children(){return[r(x,{width:300,autofocus:!0,children:"Play"}),r(x,{width:300,children:"Resume"})]}}),r(G,{ref(t){var i=u;typeof i=="function"?i(t):u=t},x:0,y:l,get style(){return m.Column},height:880,scroll:"none",zIndex:5,get children(){return r(p,{get when(){return N(()=>!!C())()&&s()},get children(){return[r(y,{skipFocus:!0,get style(){return m.RowTitle},children:"Recommendations"}),r(k,{onFocus:$,onEnter:F,get items(){return C()},width:1620}),r(y,{skipFocus:!0,get style(){return m.RowTitle},children:"Cast and Crew"}),r(k,{onFocus:A,onEnter:F,get items(){return s()},width:1620})]}})}}),r(h,{ref(t){var i=a;typeof i=="function"?i(t):a=t},style:_,transition:{alpha:!0,y:!0}})]}}),r(h,{get alpha(){return b()},color:255,skipFocus:!0,zIndex:200,transition:{alpha:!0}})]}})};export{ee as default};
//# sourceMappingURL=Entity-SYzJbzBE.js.map
