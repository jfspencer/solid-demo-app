import{v as h,w as m,x as B,y as A,u as I,a as g,c as D,f as M,o as V,s as z,h as s,S as v,V as d,z as S,R as j,C as H,i as f,l as N,T as F,A as C,j as P,B as U,D as Y,E as G}from"./index-B_1DOSdt.js";import{B as R}from"./Button-gbR7XSuo.js";function q(e){const r=Math.floor(e/60),o=e%60;return r+"h "+(o<10?"0":"")+o+"min"}function J(e){const r=e.split("-");return r[1]+"/"+r[2]+"/"+r[0]}function k(e){return e.split("-")[0]}function K({type:e,id:r}){return h.get("/".concat(e,"/").concat(r,"/recommendations")).then(({results:o})=>o.length?m(o.slice(0,7)):h.get("/trending/".concat(e,"/week?page=1")).then(({results:t})=>m(t.slice(0,7))))}function L({type:e,id:r}){return h.get("/".concat(e,"/").concat(r,"/credits")).then(({cast:o})=>m(o.slice(0,7)))}function O({type:e,id:r}){let o=e==="movie"?{rtCrit:86,rtFan:92}:{};return h.get("/".concat(e,"/").concat(r)).then(t=>({backgroundImage:B(t.backdrop_path,"w1280"),heroContent:{title:t.title||t.name,description:t.overview,badges:["HD","CC"],voteAverage:t.vote_average,voteCount:t.vote_count,metaText:e==="movie"?q(t.runtime)+"   "+J(t.release_date):"".concat(k(t.first_air_date)," - ").concat(k(t.last_air_date)),reviews:o},...t}))}const X=()=>{const e=A(),r=I(),[o]=g(()=>({...e}),O),[t]=g(()=>({...e}),L),[p]=g(()=>({...e}),K),[T,w]=D(0);M(V(o,n=>{z(n.backgroundImage)},{defer:!0}));const u=640,x={color:255,alpha:0,width:1900,height:890,x:-160,y:u,borderRadius:30};function _(){this.children[this.selected||0].setFocus(),c.y=u,a.y=u,a.alpha=0}function E(){this.children[this.selected||0].setFocus(),c.y=200,a.y=160,a.alpha=.9}function y(){let n=this.children.find(i=>i.states.has("focus"));P(n&&n.href),r(n.href)}function $(){U(),document.getElementsByTagName("canvas")[0].focus(),l.setFocus(),w(0)}function b(){const n=Y();G(n),w(.9)}let c,a,l;return s(v,{get when(){return o()},get children(){return[s(d,{x:170,onUp:()=>l.setFocus(),onEscape:$,get children(){return[s(S,{y:260,get content(){return o().heroContent}}),s(j,{ref(n){var i=l;typeof i=="function"?i(n):l=n},y:500,scroll:"none",height:90,width:640,gap:40,onDown:()=>c.setFocus(),onEnter:b,get children(){return[s(R,{width:300,get autofocus(){return o()},children:"Play"}),s(R,{width:300,children:"Resume"})]}}),s(H,{ref(n){var i=c;typeof i=="function"?i(n):c=n},x:0,y:u,get style(){return f.Column},height:880,scroll:"none",zIndex:5,get children(){return s(v,{get when(){return N(()=>!!p())()&&t()},get children(){return[s(F,{skipFocus:!0,get style(){return f.RowTitle},children:"Recommendations"}),s(C,{onFocus:_,onEnter:y,get items(){return p()},width:1620}),s(F,{skipFocus:!0,get style(){return f.RowTitle},children:"Cast and Crew"}),s(C,{onFocus:E,onEnter:y,get items(){return t()},width:1620})]}})}}),s(d,{ref(n){var i=a;typeof i=="function"?i(n):a=n},style:x,transition:{alpha:!0,y:!0}})]}}),s(d,{get alpha(){return T()},color:255,skipFocus:!0,zIndex:200,transition:{alpha:!0}})]}})};export{X as default};
//# sourceMappingURL=Entity-Dc3fE06P.js.map
