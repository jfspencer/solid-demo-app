!function(){var e=["defaultTone"],t=["defaultTone"],r=["defaultTone"],o=["surfaceDefaultTone"],n=["defaultTone"],i=["defaultTone"],s=["defaultTone"],a=["defaultTone"],l=["defaultTone"],d=["defaultTone"],h=["defaultTone"],c=["defaultTone"],u=["defaultTone"],f=["defaultTone"],p=["defaultTone"],v=["defaultTone"],g=["defaultTone"],m=["defaultTone"],x=["defaultSurfaceTone"],y=["defaultTone"];function b(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;r[o]=e[o]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],t.indexOf(r)>=0||{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var o,n,i,s,a=[],l=!0,d=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(o=i.call(r)).done)&&(a.push(o.value),a.length!==t);l=!0);}catch(e){d=!0,n=e}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(d)throw n}}return a}}(e,t)||B(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t,r,o,n,i,s){try{var a=e[i](s),l=a.value}catch(e){return void r(e)}a.done?t(l):Promise.resolve(l).then(o,n)}function A(e){return function(){var t=this,r=arguments;return new Promise((function(o,n){var i=e.apply(t,r);function s(e){S(i,o,n,s,a,"next",e)}function a(e){S(i,o,n,s,a,"throw",e)}s(void 0)}))}}function C(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */C=function(){return t};var e,t={},r=Object.prototype,o=r.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function d(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,r){return e[t]=r}}function h(e,t,r,o){var i=t&&t.prototype instanceof m?t:m,s=Object.create(i.prototype),a=new N(o||[]);return n(s,"_invoke",{value:k(e,r,a)}),s}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=h;var u="suspendedStart",f="suspendedYield",p="executing",v="completed",g={};function m(){}function x(){}function y(){}var b={};d(b,s,(function(){return this}));var w=Object.getPrototypeOf,S=w&&w(w(E([])));S&&S!==r&&o.call(S,s)&&(b=S);var A=y.prototype=m.prototype=Object.create(b);function T(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,t){function r(n,i,s,a){var l=c(e[n],e,i);if("throw"!==l.type){var d=l.arg,h=d.value;return h&&"object"==typeof h&&o.call(h,"__await")?t.resolve(h.__await).then((function(e){r("next",e,s,a)}),(function(e){r("throw",e,s,a)})):t.resolve(h).then((function(e){d.value=e,s(d)}),(function(e){return r("throw",e,s,a)}))}a(l.arg)}var i;n(this,"_invoke",{value:function(e,o){function n(){return new t((function(t,n){r(e,o,t,n)}))}return i=i?i.then(n,n):n()}})}function k(t,r,o){var n=u;return function(i,s){if(n===p)throw Error("Generator is already running");if(n===v){if("throw"===i)throw s;return{value:e,done:!0}}for(o.method=i,o.arg=s;;){var a=o.delegate;if(a){var l=_(a,o);if(l){if(l===g)continue;return l}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(n===u)throw n=v,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);n=p;var d=c(t,r,o);if("normal"===d.type){if(n=o.done?v:f,d.arg===g)continue;return{value:d.arg,done:o.done}}"throw"===d.type&&(n=v,o.method="throw",o.arg=d.arg)}}}function _(t,r){var o=r.method,n=t.iterator[o];if(n===e)return r.delegate=null,"throw"===o&&t.iterator.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==o&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+o+"' method")),g;var i=c(n,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,g;var s=i.arg;return s?s.done?(r[t.resultName]=s.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,g):s:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function B(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(B,this),this.reset(!0)}function E(t){if(t||""===t){var r=t[s];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function r(){for(;++n<t.length;)if(o.call(t,n))return r.value=t[n],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(typeof t+" is not iterable")}return x.prototype=y,n(A,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:x,configurable:!0}),x.displayName=d(y,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,d(e,l,"GeneratorFunction")),e.prototype=Object.create(A),e},t.awrap=function(e){return{__await:e}},T(R.prototype),d(R.prototype,a,(function(){return this})),t.AsyncIterator=R,t.async=function(e,r,o,n,i){void 0===i&&(i=Promise);var s=new R(h(e,r,o,n),i);return t.isGeneratorFunction(r)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},T(A),d(A,l,"Generator"),d(A,s,(function(){return this})),d(A,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var o in t)r.push(o);return r.reverse(),function e(){for(;r.length;){var o=r.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=E,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(o,n){return a.type="throw",a.arg=t,r.next=o,n&&(r.method="next",r.arg=e),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],a=s.completion;if("root"===s.tryLoc)return n("end");if(s.tryLoc<=this.prev){var l=o.call(s,"catchLoc"),d=o.call(s,"finallyLoc");if(l&&d){if(this.prev<s.catchLoc)return n(s.catchLoc,!0);if(this.prev<s.finallyLoc)return n(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return n(s.catchLoc,!0)}else{if(!d)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return n(s.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var o=r.completion;if("throw"===o.type){var n=o.arg;I(r)}return n}}throw Error("illegal catch attempt")},delegateYield:function(t,r,o){return this.delegate={iterator:E(t),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=e),g}},t}function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){k(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function k(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=B(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var o=0,n=function(){};return{s:n,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){a=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(a)throw i}}}}function B(e,t){if(e){if("string"==typeof e)return I(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?I(e,t):void 0}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=Array(t);r<t;r++)o[r]=e[r];return o}System.register(["./CoreExtension-legacy-CRBvCdMm.js"],(function(S,T){"use strict";var B,I,N,E,F,L,z,M,D,P,O,U,W,Y,H,j,Q,K,X,$,G,V,q,Z,J,ee,te,re,oe,ne,ie,se,ae,le,de;return{setters:[e=>{B=e.a,I=e.i,N=e.T,E=e.g,F=e.E,L=e.b,z=e.c,M=e.d,D=e.e,P=e.f,O=e.m,U=e.W,W=e.C,Y=e.h,H=e.j,j=e.S,Q=e.k,K=e.B,X=e.l,$=e.n,G=e.o,V=e.p,q=e.q,Z=e.r,J=e.s,ee=e.t,te=e.u,re=e.I,oe=e.v,ne=e.w,ie=e.R,se=e.x,ae=e.y,le=e.z,de=e.A}],execute:function(){var he,ce,ue,fe=C().mark(ht),pe=document.createElement("style");pe.textContent="html,body,*{padding:0;margin:0}video{position:absolute;top:0;left:0;z-index:2;outline:none}.center-element{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}\n",document.head.appendChild(pe),S({A:Ml,B:El,F:Ro,G:Rl,H:function(){var e=document.getElementById("video");return e.hidden=!0,e.pause(),e},I:function(e){var t="fallback"in e&&{fallback:()=>e.fallback};return Ur(function(e,t,r={}){var o,n=[],i=[],s=[],a=[],l=0;return Kr((()=>mo(s))),()=>{var d=e()||[];return d[Sr],jr((()=>{if(0===d.length)return 0!==l&&(mo(s),s=[],n=[],i=[],l=0,a=[]),r.fallback&&(n=[go],i[0]=zr((e=>(s[0]=e,r.fallback()))),l=1),i;for(n[0]===go&&(s[0](),s=[],n=[],i=[],l=0),o=0;o<d.length;o++)o<n.length&&n[o]!==d[o]?a[o]((()=>d[o])):o>=n.length&&(i[o]=zr(h));for(;o<n.length;o++)s[o]();return l=a.length=s.length=d.length,n=d.slice(0),i=i.slice(0,l)}));function h(e){s[o]=e;var r=w(Mr(d[o]),2),n=r[0],i=r[1];return a[o]=i,t(n,o)}}}((()=>e.each),e.children,t||void 0))},J:function(){var e=document.getElementById("video");return e.hidden=!1,setTimeout((()=>e.play()),50),e.focus(),e},S:ko,a:Wr,b:Dr,c:Mr,d:Hr,e:Yr,f:Or,g:function(e){Or((()=>jr(e)))},h:No,l:Jr,n:Kr,o:Qr,w:Ii});var ve=function(e,t,r){var o=Promise.resolve();return o.then((()=>e())).catch((e=>{var t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}))};class ge{constructor(e){k(this,"releaseCallback",void 0),this.releaseCallback=e}}class me extends ge{constructor(e,t){var r,o;super(e),k(this,"textureMap",new Map),k(this,"zeroReferenceTextureSet",new Set),k(this,"options",void 0),this.options={textureCleanupIntervalMs:null!==(r=t.textureCleanupIntervalMs)&&void 0!==r?r:1e4,textureCleanupAgeThreadholdMs:null!==(o=t.textureCleanupAgeThreadholdMs)&&void 0!==o?o:6e4},setInterval((()=>{var e,t=Date.now(),r=this.options.textureCleanupAgeThreadholdMs,o=_(this.zeroReferenceTextureSet);try{for(o.s();!(e=o.n()).done;){var n=e.value;t-n.lastUpdate>r&&(this.releaseCallback(n.id),this.textureMap.delete(n.id),this.zeroReferenceTextureSet.delete(n))}}catch(i){o.e(i)}finally{o.f()}}),this.options.textureCleanupIntervalMs)}registerTexture(e){var t,r=null===(t=e.options)||void 0===t?void 0:t.id;if(B(r,"Texture must have an id to be registered"),!this.textureMap.has(r)){var o={id:r,nodeRefCount:0,lastUpdate:Date.now()};this.textureMap.set(r,o),this.zeroReferenceTextureSet.add(o)}}incrementTextureRefCount(e){var t,r=null===(t=e.options)||void 0===t?void 0:t.id;B(r,"Texture must have an id to be registered");var o=this.textureMap.get(r);o||(this.registerTexture(e),o=this.textureMap.get(r)),B(o,"Texture must have been registered"),"SubTexture"===e.txType&&this.incrementTextureRefCount(e.props.texture),o.nodeRefCount++,o.lastUpdate=Date.now(),this.zeroReferenceTextureSet.has(o)&&this.zeroReferenceTextureSet.delete(o)}decrementTextureRefCount(e){var t,r=null===(t=e.options)||void 0===t?void 0:t.id;B(r,"Texture must have an id to be registered");var o=this.textureMap.get(r);B(o,"Texture must have been registered"),o.nodeRefCount--,o.lastUpdate=Date.now(),0===o.nodeRefCount&&this.zeroReferenceTextureSet.add(o),"SubTexture"===e.txType&&this.decrementTextureRefCount(e.props.texture)}}class xe extends ge{constructor(e){super(e),k(this,"registry",void 0),this.registry=new FinalizationRegistry(e)}registerTexture(e){var t,r;B(null===(t=e.options)||void 0===t?void 0:t.id,"Texture must have an ID to be registered"),this.registry.register(e,null===(r=e.options)||void 0===r?void 0:r.id)}incrementTextureRefCount(){}decrementTextureRefCount(){}}var ye={alpha:e=>1===e?null:{prop:"opacity",value:`${e}`},x:e=>({prop:"left",value:`${e}px`}),y:e=>({prop:"top",value:`${e}px`}),width:e=>0===e?null:{prop:"width",value:`${e}px`},height:e=>0===e?null:{prop:"height",value:`${e}px`},zIndex:()=>"zIndex",fontFamily:()=>"font-family",fontSize:()=>"font-size",fontStyle:()=>"font-style",fontWeight:()=>"font-weight",fontStretch:()=>"font-stretch",lineHeight:()=>"line-height",letterSpacing:()=>"letter-spacing",textAlign:()=>"text-align",overflowSuffix:()=>"overflow-suffix",maxLines:()=>"max-lines",contain:()=>"contain",verticalAlign:()=>"vertical-align",clipping:e=>!1===e?null:{prop:"overflow",value:e?"hidden":"visible"},rotation:e=>0===e?null:{prop:"transform",value:`rotate(${e}rad)`},scale:e=>1===e?null:{prop:"transform",value:`scale(${e})`},scaleX:e=>1===e?null:{prop:"transform",value:`scaleX(${e})`},scaleY:e=>1===e?null:{prop:"transform",value:`scaleY(${e})`},color:e=>0===e?null:{prop:"color",value:be(e)}},be=e=>`rgba(${e>>24&255},${e>>16&255},${e>>8&255},${(255&e)/255})`,we={id:"id"};class Se{constructor(e,t){var r,o,n,i,s,a;if(k(this,"root",null),k(this,"canvas",null),k(this,"height",1080),k(this,"width",1920),k(this,"scaleX",1),k(this,"scaleY",1),!I()){if(!t)throw new Error("settings is required");this.height=Math.ceil(null!==(r=t.appHeight)&&void 0!==r?r:1080/(null!==(o=t.deviceLogicalPixelRatio)&&void 0!==o?o:1)),this.width=Math.ceil(null!==(n=t.appWidth)&&void 0!==n?n:1900/(null!==(i=t.deviceLogicalPixelRatio)&&void 0!==i?i:1)),this.scaleX=null!==(s=t.deviceLogicalPixelRatio)&&void 0!==s?s:1,this.scaleY=null!==(a=t.deviceLogicalPixelRatio)&&void 0!==a?a:1,this.canvas=e,this.root=document.createElement("div"),this.setRootPosition(),document.body.appendChild(this.root),new MutationObserver(this.setRootPosition.bind(this)).observe(e,{attributes:!0,childList:!1,subtree:!1}),new ResizeObserver(this.setRootPosition.bind(this)).observe(e),window.addEventListener("resize",this.setRootPosition.bind(this)),console.warn("Inspector is enabled, this will impact performance")}}setRootPosition(){if(null!==this.root&&null!==this.canvas){var e=this.canvas.getBoundingClientRect(),t=document.documentElement.scrollTop+e.top,r=document.documentElement.scrollLeft+e.left;this.root.id="root",this.root.style.left=`${r}px`,this.root.style.top=`${t}px`,this.root.style.width=`${this.width}px`,this.root.style.height=`${this.height}px`,this.root.style.position="absolute",this.root.style.transformOrigin="0 0 0",this.root.style.transform=`scale(${this.scaleX}, ${this.scaleY})`,this.root.style.overflow="hidden",this.root.style.zIndex="65534"}}createDiv(e,t){var r=document.createElement("div");for(var o in r.style.position="absolute",r.id=e.id.toString(),t)this.updateNodeProperty(r,o,t[o]);return r}createNode(e,t){var r=e.createNode(t),o=this.createDiv(r,t);return o.node=r,r.div=o,this.createProxy(r,o)}createTextNode(e,t){var r=e.createTextNode(t),o=this.createDiv(r,t);return o.node=r,r.div=o,this.createProxy(r,o)}createProxy(e,t){return new Proxy(e,{set:(e,r,o)=>(this.updateNodeProperty(t,r,o),Reflect.set(e,r,o)),get:(r,o,n)=>("destroy"===o&&this.destroyNode(r),"animate"===o?(o,n)=>{var i=r.animate(o,n);return new Proxy(i,{get:(r,i,s)=>("start"===i&&this.animateNode(t,e,o,n),Reflect.get(r,i,s))})}:Reflect.get(r,o,n))})}destroyNode(e){var t=document.getElementById(e.id.toString());null==t||t.remove()}updateNodeProperty(e,t,r){if(null!==this.root&&null!=r)if("parent"!==t){if("text"===t)return e.innerHTML=String(r),void(e.style.visibility="hidden");if("src"===t&&r)e.setAttribute("data-src",String(r));else{if(ye[t]){var o,n=null===(o=ye[t])||void 0===o?void 0:o.call(ye,r);if(null===n)return;return"string"==typeof n?void e.style.setProperty(n,String(r)):void("object"==typeof n&&e.style.setProperty(n.prop,n.value))}if(we[t])e.setAttribute(String(ye[t]),String(r));else if("data"!==t);else for(var i in r){var s=r[i];void 0===s?e.removeAttribute(`data-${i}`):e.setAttribute(`data-${i}`,String(s))}}}else{var a=r.id;if(1===a)return void this.root.appendChild(e);var l=document.getElementById(a.toString());null==l||l.appendChild(e)}}animateNode(e,t,r,o){var n=o.duration,i=void 0===n?1e3:n,s=o.delay,a=void 0===s?0:s,l=r.x,d=r.y,h=r.width,c=r.height,u=r.alpha,f=void 0===u?1:u,p=r.rotation,v=void 0===p?0:p,g=r.scale,m=void 0===g?1:g,x=r.color;setTimeout((function(){setTimeout((()=>{e.style.top=`${d}px`,e.style.left=`${l}px`,e.style.width=`${h}px`,e.style.height=`${c}px`,e.style.opacity=`${f}`,e.style.rotate=`${v}rad`,e.style.scale=`${m}`,e.style.color=be(x)}),i)}),a)}}class Ae{static getEffectKey(e){return""}static getMethodParameters(e,t){var r=[];for(var o in e){var n=e[o],i="";n.size&&(i=`[${n.size(t)}]`),r.push(`${n.type} ${o}${i}`)}return r.join(",")}constructor(e){k(this,"priority",1),k(this,"name",""),k(this,"ref",void 0),k(this,"target",void 0),k(this,"passParameters",""),k(this,"declaredUniforms",""),k(this,"uniformInfo",{});var t=e.ref,r=e.target,o=e.props,n=void 0===o?{}:o;this.ref=t,this.target=r;var i={},s=[],a="",l=this.constructor.uniforms||{};for(var d in l){var h=l[d],c=h.type,u=`${t}_${d}`,f="";h.size&&(f=`[${h.size(n)}]`),s.push(u),a+=`uniform ${c} ${u}${f};`,i[d]={name:u,uniform:l[d].method}}this.passParameters=s.join(","),this.declaredUniforms=a,this.uniformInfo=i}static resolveDefaults(e){return{}}static makeEffectKey(e){return!1}}k(Ae,"uniforms",{}),k(Ae,"methods",void 0),k(Ae,"onShaderMask",void 0),k(Ae,"onColorize",void 0),k(Ae,"onEffectMask",void 0);var Ce={x:(e,t)=>{e.props.x=t},y:(e,t)=>{e.props.y=t},width:(e,t)=>{e.props.width=t},height:(e,t)=>{e.props.height=t},color:(e,t)=>{e.props.color=t},zIndex:(e,t)=>{e.props.zIndex=t},fontFamily:(e,t)=>{e.props.fontFamily=t},fontWeight:(e,t)=>{e.props.fontWeight=t},fontStyle:(e,t)=>{e.props.fontStyle=t},fontStretch:(e,t)=>{e.props.fontStretch=t},fontSize:(e,t)=>{e.props.fontSize=t},text:(e,t)=>{e.props.text=t},textAlign:(e,t)=>{e.props.textAlign=t},contain:(e,t)=>{e.props.contain=t},offsetY:(e,t)=>{e.props.offsetY=t},scrollable:(e,t)=>{e.props.scrollable=t},scrollY:(e,t)=>{e.props.scrollY=t},letterSpacing:(e,t)=>{e.props.letterSpacing=t},lineHeight:(e,t)=>{e.props.lineHeight=t},maxLines:(e,t)=>{e.props.maxLines=t},textBaseline:(e,t)=>{e.props.textBaseline=t},verticalAlign:(e,t)=>{e.props.verticalAlign=t},overflowSuffix:(e,t)=>{e.props.overflowSuffix=t},debug:(e,t)=>{e.props.debug=t}};class Te{constructor(e){k(this,"stage",void 0),k(this,"set",void 0),this.stage=e;var t=R(R({},Ce),this.getPropertySetters());this.set=Object.freeze(Object.fromEntries(Object.entries(t).map((([e,t])=>[e,(r,o)=>{r.props[e]!==o&&(t(r,o),this.stage.requestRender())}]))))}setStatus(e,t,r){e.status!==t&&(e.status=t,e.emitter.emit(t,r))}setIsRenderable(e,t){e.isRenderable=t}destroyState(e){this.setStatus(e,"destroyed"),e.emitter.removeAllListeners()}scheduleUpdateState(e){e.updateScheduled||(e.updateScheduled=!0,queueMicrotask((()=>{"destroyed"!==e.status&&(e.updateScheduled=!1,this.updateState(e))})))}}function Re(e,t){var r,o,n=0;function i(){var i,s,a=r,l=arguments.length;e:for(;a;){if(a.args.length===arguments.length){for(s=0;s<l;s++)if(a.args[s]!==arguments[s]){a=a.next;continue e}return a!==r&&(a===o&&(o=a.prev),a.prev.next=a.next,a.next&&(a.next.prev=a.prev),a.next=r,a.prev=null,r.prev=a,r=a),a.val}a=a.next}for(i=new Array(l),s=0;s<l;s++)i[s]=arguments[s];return a={args:i,val:e.apply(null,i)},r?(r.prev=a,a.next=r):o=a,n===t.maxSize?(o=o.prev).next=null:n++,r=a,a.val}return t=t||{},i.clear=function(){r=null,o=null,n=0},i}var ke={normal:400,bold:700,bolder:900,lighter:100},_e=e=>"number"==typeof e?e:ke[e]||400;var Be=Re((function(e,t,r,o,n){var i,s=_e(r),a=_(e);try{for(a.s();!(i=a.n()).done;){var l=i.value[t];if(l){if(1===l.size)return console.warn(`TrFontManager: Only one font face found for family: '${t}' - will be used for all weights and styles`),l.values().next().value;var d,h=new Map,c=_(l);try{for(c.s();!(d=c.n()).done;){var u=d.value,f=_e(u.descriptors.weight);if(f===s&&u.descriptors.style===o&&u.descriptors.stretch===n)return u;h.set(f,u)}}catch(v){c.e(v)}finally{c.f()}var p=`TrFontManager: No exact match: '${t} Weight: ${s} Style: ${o} Stretch: ${n}'`;if(console.error(p),400===s&&h.has(500))return h.get(500);if(500===s&&h.has(400))return h.get(400);if(s<400){for(;s>0;){if(h.has(s))return h.get(s);s-=100}s=600}for(;s<1e3;){if(h.has(s))return h.get(s);s+=100}for(s=500;s>0;){if(h.has(s))return h.get(s);s-=100}}}}catch(v){a.e(v)}finally{a.f()}}));class Ie{constructor(e){k(this,"textRenderers",void 0),this.textRenderers=e}addFontFace(e){for(var t in this.textRenderers){var r=this.textRenderers[t];r&&r.isFontFaceSupported(e)&&r.addFontFace(e)}}static resolveFontFace(e,t){var r=t.fontFamily,o=t.fontWeight,n=t.fontStyle,i=t.fontStretch;return Be(e,r,o,n,i)}}class Ne extends N{constructor(e){super(e),k(this,"fontFace",void 0),k(this,"fontUrl",void 0);var t=e.fontFamily,r=e.fontUrl,o=r.replace(/\(|\)/g,""),n=this.descriptors,i={style:n.style,weight:"number"==typeof n.weight?`${n.weight}`:n.weight,stretch:n.stretch,unicodeRange:n.unicodeRange,variant:n.variant,featureSettings:n.featureSettings,display:n.display},s=new FontFace(t,`url(${o})`,i);s.load().then((()=>{this.loaded=!0,this.emit("loaded")})).catch(console.error),this.fontFace=s,this.fontUrl=r}}function Ee(e,t){return t*(e.ascender-e.descender+e.lineGap)}function Fe(e,t,r,o,n){return r*(o-1)+("bottom"!==e?.5*t:0)+Math.max(r,t)+(n||0)}class Le{constructor(e,t){k(this,"_canvas",void 0),k(this,"_context",void 0),k(this,"_settings",void 0),k(this,"renderInfo",void 0),this._canvas=e,this._context=t,this._settings=this.mergeDefaults({})}set settings(e){this._settings=this.mergeDefaults(e)}get settings(){return this._settings}getPrecision(){return this._settings.precision}setFontProperties(){this._context.font=this._getFontSetting(),this._context.textBaseline=this._settings.textBaseline}_getFontSetting(){for(var e=[this._settings.fontFamily],t=[],r=0,o=e.length;r<o;r++)"serif"===e[r]||"sans-serif"===e[r]?t.push(e[r]):t.push(`"${e[r]}"`);return`${this._settings.fontStyle} ${this._settings.fontSize*this.getPrecision()}px ${t.join(",")}`}_load(){if(document.fonts){var e=this._getFontSetting();try{if(!document.fonts.check(e,this._settings.text))return document.fonts.load(e,this._settings.text).catch((t=>{console.warn("[Lightning] Font load error",t,e)})).then((()=>{document.fonts.check(e,this._settings.text)||console.warn("[Lightning] Font not found",e)}))}catch(t){console.warn("[Lightning] Can't check font loading for "+e)}}}calculateRenderInfo(){var e={},t=this.getPrecision(),r=this._settings.paddingLeft*t,o=this._settings.paddingRight*t,n=this._settings.fontSize*t,i=null===this._settings.offsetY?null:this._settings.offsetY*t,s=this._settings.w*t,a=this._settings.h*t,l=this._settings.wordWrapWidth*t,d=this._settings.cutSx*t,h=this._settings.cutEx*t,c=this._settings.cutSy*t,u=this._settings.cutEy*t,f=(this._settings.letterSpacing||0)*t,p=this._settings.textIndent*t,v=this._settings.trFontFace;this.setFontProperties(),B(v);var g,m=function(e,t,r){if(t.metrics)return t.metrics;var o,n=e.measureText("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz");return console.warn(`Font metrics not provided for Canvas Web font ${t.fontFamily}. Using fallback values. It is HIGHLY recommended you use the latest version of the Lightning 3 \`msdf-generator\` tool to extract the default metrics for the font and provide them in the Canvas Web font definition.`),o=n.actualBoundingBoxDescent&&n.actualBoundingBoxAscent?{ascender:n.actualBoundingBoxAscent/r,descender:-n.actualBoundingBoxDescent/r,lineGap:.2}:{ascender:.8,descender:-.2,lineGap:.2},t.metrics=o,o}(this._context,v,n),x=Ee(m,n)*t,y=null!==this._settings.lineHeight?this._settings.lineHeight*t:x,b=this._settings.maxHeight,w=null!==b&&y>0?Math.floor(b/y):0,S=this._settings.maxLines,A=w>0&&S>0?Math.min(w,S):Math.max(w,S),C=s||2048/this.getPrecision(),T=C-r;if(T<10&&(C+=10-T,T=10),l||(l=T),this._settings.textOverflow&&!this._settings.wordWrap){var R;switch(this._settings.textOverflow){case"clip":R="";break;case"ellipsis":R=this._settings.overflowSuffix;break;default:R=this._settings.textOverflow}this._settings.text=this.wrapWord(this._settings.text,l-p,R)}if(this._settings.wordWrap)g=this.wrapText(this._settings.text,l,f,p);else for(var k=(g={l:this._settings.text.split(/(?:\r\n|\r|\n)/),n:[]}).l.length,_=0;_<k-1;_++)g.n.push(_);var I=g.l;if(A&&I.length>A){var N,E=I.slice(0,A),F=null;if(this._settings.overflowSuffix){var L=this._settings.overflowSuffix?this.measureText(this._settings.overflowSuffix):0,z=this.wrapText(E[E.length-1],l-L,f,p);E[E.length-1]=`${z.l[0]}${this._settings.overflowSuffix}`,F=[z.l.length>1?z.l[1]:""]}else F=[""];var M=I.length,D=0,P=g.n.length;for(N=A;N<M;N++)F[D]+=`${F[D]?" ":""}${I[N]}`,N+1<P&&g.n[N+1]&&D++;e.remainingText=F.join("\n"),e.moreTextLines=!0,I=E}else e.moreTextLines=!1,e.remainingText="";for(var O,U=0,W=[],Y=0;Y<I.length;Y++){var H=this.measureText(I[Y],f)+(0===Y?p:0);W.push(H),U=Math.max(U,H)}return e.lineWidths=W,s||(C=U+r+o,T=U),O=a||Fe(this._settings.textBaseline,n,y,I.length,i),null===i&&(i=n),e.w=C,e.h=O,e.lines=I,e.precision=t,C||(C=1),O||(O=1),(d||h)&&(C=Math.min(C,h-d)),(c||u)&&(O=Math.min(O,u-c)),e.width=C,e.innerWidth=T,e.height=O,e.fontSize=n,e.cutSx=d,e.cutSy=c,e.cutEx=h,e.cutEy=u,e.lineHeight=y,e.defLineHeight=x,e.lineWidths=W,e.offsetY=i,e.paddingLeft=r,e.paddingRight=o,e.letterSpacing=f,e.textIndent=p,e.metrics=m,e}draw(e,t){var r,o,n=this.getPrecision(),i=(null==t?void 0:t.lines)||e.lines,s=(null==t?void 0:t.lineWidths)||e.lineWidths,a=t?Fe(this._settings.textBaseline,e.fontSize,e.lineHeight,t.lines.length,null===this._settings.offsetY?null:this._settings.offsetY*n):e.height;this._canvas.width=Math.min(Math.ceil(e.width+this._settings.textRenderIssueMargin),2048),this._canvas.height=Math.min(Math.ceil(a),2048),this.setFontProperties(),e.fontSize>=128&&(this._context.globalAlpha=.01,this._context.fillRect(0,0,.01,.01),this._context.globalAlpha=1),(e.cutSx||e.cutSy)&&this._context.translate(-e.cutSx,-e.cutSy);for(var l=[],d=e.metrics,h=d?d.ascender*e.fontSize:e.fontSize,c=(d.ascender-d.descender)*e.fontSize,u=0,f=i.length;u<f;u++)r=0===u?e.textIndent:0,o=u*e.lineHeight+h,"middle"==this._settings.verticalAlign?o+=(e.lineHeight-c)/2:"bottom"==this._settings.verticalAlign&&(o+=e.lineHeight-c),"right"===this._settings.textAlign?r+=e.innerWidth-s[u]:"center"===this._settings.textAlign&&(r+=(e.innerWidth-s[u])/2),r+=e.paddingLeft,l.push({text:i[u],x:r,y:o,w:s[u]});if(this._settings.highlight){var p=this._settings.highlightColor,v=this._settings.highlightHeight*n||1.5*e.fontSize,g=this._settings.highlightOffset*n,m=null!==this._settings.highlightPaddingLeft?this._settings.highlightPaddingLeft*n:e.paddingLeft,x=null!==this._settings.highlightPaddingRight?this._settings.highlightPaddingRight*n:e.paddingRight;this._context.fillStyle=E(p);for(var y=0;y<l.length;y++){var b=l[y];this._context.fillRect(b.x-m,b.y-e.offsetY+g,b.w+x+m,v)}}var w=null;this._settings.shadow&&(w=[this._context.shadowColor,this._context.shadowOffsetX,this._context.shadowOffsetY,this._context.shadowBlur],this._context.shadowColor=E(this._settings.shadowColor),this._context.shadowOffsetX=this._settings.shadowOffsetX*n,this._context.shadowOffsetY=this._settings.shadowOffsetY*n,this._context.shadowBlur=this._settings.shadowBlur*n),this._context.fillStyle=E(this._settings.textColor);for(var S=0,A=l.length;S<A;S++){var C=l[S];if(0===e.letterSpacing)this._context.fillText(C.text,C.x,C.y);else for(var T=C.text.split(""),R=C.x,k=0,_=T.length;k<_;k++)this._context.fillText(T[k],R,C.y),R+=this.measureText(T[k],e.letterSpacing)}w&&(this._context.shadowColor=w[0],this._context.shadowOffsetX=w[1],this._context.shadowOffsetY=w[2],this._context.shadowBlur=w[3]),(e.cutSx||e.cutSy)&&this._context.translate(e.cutSx,e.cutSy),this.renderInfo=e}wrapWord(e,t,r){var o=this._context.measureText(r).width,n=e.length,i=this._context.measureText(e).width;if(i<=t)return e;var s=Math.floor(t*n/i),a=this._context.measureText(e.substring(0,s)).width+o;if(a>t)for(;s>0&&(a=this._context.measureText(e.substring(0,s)).width+o)>t;)s-=1;else for(;s<n;){if(!((a=this._context.measureText(e.substring(0,s)).width+o)<t)){s-=1;break}s+=1}return e.substring(0,s)+(t>=o?r:"")}wrapText(e,t,r,o=0){for(var n=e.split(/\r?\n/g),i=[],s=[],a=0;a<n.length;a++){for(var l=[],d="",h=t-o,c=n[a].split(" "),u=0;u<c.length;u++){var f=this.measureText(c[u],r),p=f+this.measureText(" ",r);0===u||p>h?(u>0&&(l.push(d),d=""),d+=c[u],h=t-f-(0===u?o:0)):(h-=p,d+=` ${c[u]}`)}l.push(d),d="",i=i.concat(l),a<n.length-1&&s.push(i.length)}return{l:i,n:s}}measureText(e,t=0){return t?e.split("").reduce(((e,r)=>e+this._context.measureText(r).width+t),0):this._context.measureText(e).width}mergeDefaults(e){return R({text:"",w:0,h:0,fontStyle:"normal",fontSize:40,fontFamily:null,trFontFace:null,wordWrap:!0,wordWrapWidth:0,wordBreak:!1,textOverflow:"",lineHeight:null,textBaseline:"alphabetic",textAlign:"left",verticalAlign:"top",offsetY:null,maxLines:0,maxHeight:null,overflowSuffix:"...",textColor:[1,1,1,1],paddingLeft:0,paddingRight:0,shadow:!1,shadowColor:[0,0,0,1],shadowOffsetX:0,shadowOffsetY:0,shadowBlur:5,highlight:!1,highlightHeight:0,highlightColor:[0,0,0,1],highlightOffset:0,highlightPaddingLeft:0,highlightPaddingRight:0,letterSpacing:0,textIndent:0,cutSx:0,cutEx:0,cutSy:0,cutEy:0,advancedRenderer:!1,fontBaselineRatio:0,precision:1,textRenderIssueMargin:0},e)}}var ze="undefined"==typeof self?globalThis:self,Me=(null===(he=ze.document)||void 0===he?void 0:he.fonts)||ze.fonts;var De=z(0,0,0,0);class Pe extends Te{constructor(e){super(e),k(this,"canvas",void 0),k(this,"context",void 0),k(this,"rendererBounds",void 0),k(this,"fontFamilies",{}),k(this,"fontFamilyArray",[this.fontFamilies]),"undefined"!=typeof OffscreenCanvas?this.canvas=new OffscreenCanvas(0,0):this.canvas=document.createElement("canvas");var t=this.canvas.getContext("2d");t||(this.canvas=document.createElement("canvas"),t=this.canvas.getContext("2d")),B(t),this.context=t,this.rendererBounds={x1:0,y1:0,x2:this.stage.options.appWidth,y2:this.stage.options.appHeight},this.addFontFace(new Ne({fontFamily:"sans-serif",descriptors:{},fontUrl:""}))}getPropertySetters(){return{fontFamily:(e,t)=>{e.props.fontFamily=t,e.fontInfo=void 0,this.invalidateLayoutCache(e)},fontWeight:(e,t)=>{e.props.fontWeight=t,e.fontInfo=void 0,this.invalidateLayoutCache(e)},fontStyle:(e,t)=>{e.props.fontStyle=t,e.fontInfo=void 0,this.invalidateLayoutCache(e)},fontStretch:(e,t)=>{e.props.fontStretch=t,e.fontInfo=void 0,this.invalidateLayoutCache(e)},fontSize:(e,t)=>{e.props.fontSize=t,e.fontInfo=void 0,this.invalidateLayoutCache(e)},text:(e,t)=>{e.props.text=t,this.invalidateLayoutCache(e)},textAlign:(e,t)=>{e.props.textAlign=t,this.invalidateLayoutCache(e)},color:(e,t)=>{e.props.color=t,this.invalidateLayoutCache(e)},x:(e,t)=>{e.props.x=t,this.invalidateVisibleWindowCache(e)},y:(e,t)=>{e.props.y=t,this.invalidateVisibleWindowCache(e)},contain:(e,t)=>{e.props.contain=t,this.invalidateLayoutCache(e)},width:(e,t)=>{e.props.width=t,"none"!==e.props.contain&&this.invalidateLayoutCache(e)},height:(e,t)=>{e.props.height=t,"both"===e.props.contain&&this.invalidateLayoutCache(e)},offsetY:(e,t)=>{e.props.offsetY=t,this.invalidateLayoutCache(e)},scrollY:(e,t)=>{e.props.scrollY=t},letterSpacing:(e,t)=>{e.props.letterSpacing=t,this.invalidateLayoutCache(e)},lineHeight:(e,t)=>{e.props.lineHeight=t,this.invalidateLayoutCache(e)},maxLines:(e,t)=>{e.props.maxLines=t,this.invalidateLayoutCache(e)},textBaseline:(e,t)=>{e.props.textBaseline=t,this.invalidateLayoutCache(e)},verticalAlign:(e,t)=>{e.props.verticalAlign=t,this.invalidateLayoutCache(e)},overflowSuffix:(e,t)=>{e.props.overflowSuffix=t,this.invalidateLayoutCache(e)}}}canRenderFont(e){return!0}isFontFaceSupported(e){return e instanceof Ne}addFontFace(e){B(e instanceof Ne),"sans-serif"!==e.fontFamily&&Me.add(e.fontFace);var t=this.fontFamilies,r=e.fontFace.family,o=t[r];o||(o=new Set,t[r]=o),o.add(e)}createState(e){return{props:e,status:"initialState",updateScheduled:!1,emitter:new F,canvasPages:void 0,lightning2TextRenderer:new Le(this.canvas,this.context),renderWindow:void 0,visibleWindow:{x1:0,y1:0,x2:0,y2:0,valid:!1},renderInfo:void 0,forceFullLayoutCalc:!1,textW:0,textH:0,fontInfo:void 0,fontFaceLoadedHandler:void 0,isRenderable:!1,debugData:{updateCount:0,layoutCount:0,drawCount:0,lastLayoutNumCharacters:0,layoutSum:0,drawSum:0,bufferSize:0}}}updateState(e){if("initialState"===e.status&&this.setStatus(e,"loading"),!e.fontInfo){var t=(o=e.props,n=o.fontFamily,[o.fontStyle,o.fontWeight,o.fontStretch,`${o.fontSize}px`,n].join(" ")),r=Ie.resolveFontFace(this.fontFamilyArray,e.props);if(B(r,`Could not resolve font face for ${t}`),e.fontInfo={fontFace:r,cssString:t,loaded:!1},!e.fontInfo.loaded)return void Me.load(t).then(this.onFontLoaded.bind(this,e,t)).catch(this.onFontLoadError.bind(this,e,t))}var o,n;if(e.fontInfo.loaded){var i;if(!e.renderInfo)e.lightning2TextRenderer.settings={text:e.props.text,textAlign:e.props.textAlign,fontFamily:e.props.fontFamily,trFontFace:e.fontInfo.fontFace,fontSize:e.props.fontSize,fontStyle:[e.props.fontStretch,e.props.fontStyle,e.props.fontWeight].join(" "),textColor:L(e.props.color),offsetY:e.props.offsetY,wordWrap:"none"!==e.props.contain,wordWrapWidth:"none"===e.props.contain?void 0:e.props.width,letterSpacing:e.props.letterSpacing,lineHeight:null!==(i=e.props.lineHeight)&&void 0!==i?i:null,maxLines:e.props.maxLines,maxHeight:"both"===e.props.contain?e.props.height-e.props.offsetY:null,textBaseline:e.props.textBaseline,verticalAlign:e.props.verticalAlign,overflowSuffix:e.props.overflowSuffix,w:"none"!==e.props.contain?e.props.width:void 0},e.renderInfo=e.lightning2TextRenderer.calculateRenderInfo(),e.textH=e.renderInfo.lineHeight*e.renderInfo.lines.length,e.textW=e.renderInfo.width,e.renderWindow=void 0;var s=e.props,a=s.x,l=s.y,d=s.width,h=s.height,c=s.scrollY,u=s.contain,f=e.visibleWindow,p=e.renderWindow,v=e.canvasPages;if(!f.valid){var g=z(a,l,"none"!==u?a+d:1/0,"both"===u?l+h:1/0,De);M(this.rendererBounds,g,f),f.valid=!0}var m=f.y2-f.y1,x=Math.ceil(m/e.renderInfo.lineHeight);if(0===m)return v=void 0,p=void 0,void this.setStatus(e,"loaded");if(p&&v){var y=a+p.x1,b=l-c+p.y1,w=a+p.x2,S=l-c+p.y2;if(y<=f.x1&&w>=f.x2&&b<=f.y1&&S>=f.y2)return void this.setStatus(e,"loaded");S<f.y2?(p.y1+=x*e.renderInfo.lineHeight,p.y2+=x*e.renderInfo.lineHeight,v.push(v.shift()),v[2].lineNumStart=v[1].lineNumStart+x,v[2].lineNumEnd=v[2].lineNumStart+x,v[2].valid=!1):b>f.y1&&(p.y1-=x*e.renderInfo.lineHeight,p.y2-=x*e.renderInfo.lineHeight,v.unshift(v.pop()),v[0].lineNumStart=v[1].lineNumStart-x,v[0].lineNumEnd=v[0].lineNumStart+x,v[0].valid=!1)}else{var A,C,T,R=e.renderInfo.lineHeight*x,k=Math.ceil(c/R),I=k*x,N=I-x,E=I+x;v=[{texture:null===(A=v)||void 0===A?void 0:A[0].texture,lineNumStart:N,lineNumEnd:N+x,valid:!1},{texture:null===(C=v)||void 0===C?void 0:C[1].texture,lineNumStart:I,lineNumEnd:I+x,valid:!1},{texture:null===(T=v)||void 0===T?void 0:T[2].texture,lineNumStart:E,lineNumEnd:E+x,valid:!1}],e.canvasPages=v;var F=k*R;p={x1:0,y1:F-R,x2:d,y2:F+2*R}}e.renderWindow=p,performance.now();var D,P=_(v);try{for(P.s();!(D=P.n()).done;){var O=D.value;if(!O.valid)if(O.lineNumStart<0){var U;null===(U=O.texture)||void 0===U||U.setRenderableOwner(e,!1),O.texture=this.stage.txManager.loadTexture("ImageTexture",{src:""}),O.texture.setRenderableOwner(e,e.isRenderable),O.valid=!0}else{var W;if(e.lightning2TextRenderer.draw(e.renderInfo,{lines:e.renderInfo.lines.slice(O.lineNumStart,O.lineNumEnd),lineWidths:e.renderInfo.lineWidths.slice(O.lineNumStart,O.lineNumEnd)}),0!==this.canvas.width&&0!==this.canvas.height)null===(W=O.texture)||void 0===W||W.setRenderableOwner(e,!1),O.texture=this.stage.txManager.loadTexture("ImageTexture",{src:this.context.getImageData(0,0,this.canvas.width,this.canvas.height)},{preload:!0}),O.texture.setRenderableOwner(e,e.isRenderable);O.valid=!0}}}catch(Y){P.e(Y)}finally{P.f()}this.setStatus(e,"loaded")}}renderQuads(e,t,r,o){var n=this.stage,i=e.canvasPages,s=e.textW,a=void 0===s?0:s,l=e.textH,d=void 0===l?0:l,h=e.renderWindow;if(i&&h){var c=e.props,u=c.x,f=c.y,p=c.scrollY,v=c.contain,g=c.width,m=c.height,x={x:u,y:f,width:"none"!==v?g:a,height:"both"===v?m:d};D({x:0,y:0,width:n.options.appWidth,height:n.options.appHeight},x),B(i,"canvasPages is not defined"),B(h,"renderWindow is not defined");var y,b,w,S,A,C,T=(h.y2-h.y1)/3,R=e.props,k=R.zIndex,_=R.color,I=o*P(_),N=O(4294967295,I);if(i[0].valid)this.stage.renderer.addQuad({alpha:I,clippingRect:r,colorBl:N,colorBr:N,colorTl:N,colorTr:N,width:(null===(y=i[0].texture)||void 0===y||null===(y=y.dimensions)||void 0===y?void 0:y.width)||0,height:(null===(b=i[0].texture)||void 0===b||null===(b=b.dimensions)||void 0===b?void 0:b.height)||0,texture:i[0].texture,textureOptions:{},shader:null,shaderProps:null,zIndex:k,tx:t.tx,ty:t.ty-p+h.y1,ta:t.ta,tb:t.tb,tc:t.tc,td:t.td});if(i[1].valid)this.stage.renderer.addQuad({alpha:I,clippingRect:r,colorBl:N,colorBr:N,colorTl:N,colorTr:N,width:(null===(w=i[1].texture)||void 0===w||null===(w=w.dimensions)||void 0===w?void 0:w.width)||0,height:(null===(S=i[1].texture)||void 0===S||null===(S=S.dimensions)||void 0===S?void 0:S.height)||0,texture:i[1].texture,textureOptions:{},shader:null,shaderProps:null,zIndex:k,tx:t.tx,ty:t.ty-p+h.y1+T,ta:t.ta,tb:t.tb,tc:t.tc,td:t.td});if(i[2].valid)this.stage.renderer.addQuad({alpha:I,clippingRect:r,colorBl:N,colorBr:N,colorTl:N,colorTr:N,width:(null===(A=i[2].texture)||void 0===A||null===(A=A.dimensions)||void 0===A?void 0:A.width)||0,height:(null===(C=i[2].texture)||void 0===C||null===(C=C.dimensions)||void 0===C?void 0:C.height)||0,texture:i[2].texture,textureOptions:{},shader:null,shaderProps:null,zIndex:k,tx:t.tx,ty:t.ty-p+h.y1+T+T,ta:t.ta,tb:t.tb,tc:t.tc,td:t.td})}}setIsRenderable(e,t){var r;super.setIsRenderable(e,t),null===(r=e.canvasPages)||void 0===r||r.forEach((r=>{var o;null===(o=r.texture)||void 0===o||o.setRenderableOwner(e,t)}))}destroyState(e){var t;super.destroyState(e),null===(t=e.canvasPages)||void 0===t||t.forEach((t=>{var r;null===(r=t.texture)||void 0===r||r.setRenderableOwner(e,!1)}))}invalidateVisibleWindowCache(e){e.visibleWindow.valid=!1,this.setStatus(e,"loading"),this.scheduleUpdateState(e)}invalidateLayoutCache(e){e.renderInfo=void 0,e.visibleWindow.valid=!1,this.setStatus(e,"loading"),this.scheduleUpdateState(e)}onFontLoaded(e,t){var r;t===(null===(r=e.fontInfo)||void 0===r?void 0:r.cssString)&&e.fontInfo&&(e.fontInfo.loaded=!0,this.scheduleUpdateState(e))}onFontLoadError(e,t,r){var o;t===(null===(o=e.fontInfo)||void 0===o?void 0:o.cssString)&&e.fontInfo&&(e.fontInfo.loaded=!0,console.error(`CanvasTextRenderer: Error loading font '${e.fontInfo.cssString}'`,r),this.scheduleUpdateState(e))}}class Oe extends U{constructor(e){super({renderer:e,attributes:["a_position","a_textureCoordinate","a_color"],uniforms:[{name:"u_resolution",uniform:"uniform2fv"},{name:"u_pixelRatio",uniform:"uniform1f"},{name:"u_texture",uniform:"uniform2fv"}]})}bindTextures(e){var t=this.glw;t.activeTexture(0),t.bindTexture(e[0].ctxTexture)}}k(Oe,"shaderSources",{vertex:"\n      # ifdef GL_FRAGMENT_PRESICISON_HIGH\n      precision highp float;\n      # else\n      precision mediump float;\n      # endif\n\n      attribute vec2 a_position;\n      attribute vec2 a_textureCoordinate;\n      attribute vec4 a_color;\n\n      uniform vec2 u_resolution;\n      uniform float u_pixelRatio;\n\n\n      varying vec4 v_color;\n      varying vec2 v_textureCoordinate;\n\n      void main() {\n        vec2 normalized = a_position * u_pixelRatio;\n        vec2 screenSpace = vec2(2.0 / u_resolution.x, -2.0 / u_resolution.y);\n\n        v_color = a_color;\n        v_textureCoordinate = a_textureCoordinate;\n\n        gl_Position = vec4(normalized.x * screenSpace.x - 1.0, normalized.y * -abs(screenSpace.y) + 1.0, 0.0, 1.0);\n        gl_Position.y = -sign(screenSpace.y) * gl_Position.y;\n      }\n    ",fragment:"\n      # ifdef GL_FRAGMENT_PRESICISON_HIGH\n      precision highp float;\n      # else\n      precision mediump float;\n      # endif\n\n      uniform vec2 u_resolution;\n      uniform sampler2D u_texture;\n\n      varying vec4 v_color;\n      varying vec2 v_textureCoordinate;\n\n      void main() {\n          vec4 color = texture2D(u_texture, v_textureCoordinate);\n          gl_FragColor = vec4(v_color) * texture2D(u_texture, v_textureCoordinate);\n      }\n    "});class Ue extends U{constructor(e){super({renderer:e,attributes:["a_position","a_textureCoordinate","a_color","a_textureIndex"],uniforms:[{name:"u_resolution",uniform:"uniform2fv"},{name:"u_pixelRatio",uniform:"uniform1f"},{name:"u_textures[0]",uniform:"uniform1iv"}]}),k(this,"supportsIndexedTextures",!0)}bindTextures(e){var t=this.renderer,r=this.glw;if(e.length>t.system.parameters.MAX_VERTEX_TEXTURE_IMAGE_UNITS)throw new Error(`DefaultShaderBatched: Cannot bind more than ${t.system.parameters.MAX_VERTEX_TEXTURE_IMAGE_UNITS} textures`);e.forEach(((e,t)=>{r.activeTexture(t),r.bindTexture(e.ctxTexture)}));var o=Array.from(Array(e.length).keys());this.setUniform("u_textures[0]",o)}}k(Ue,"shaderSources",{vertex:"\n      # ifdef GL_FRAGMENT_PRESICISON_HIGH\n      precision highp float;\n      # else\n      precision mediump float;\n      # endif\n\n      attribute vec2 a_textureCoordinate;\n      attribute vec2 a_position;\n      attribute vec4 a_color;\n      attribute float a_textureIndex;\n      attribute float a_depth;\n\n      uniform vec2 u_resolution;\n      uniform float u_pixelRatio;\n\n      varying vec4 v_color;\n      varying vec2 v_textureCoordinate;\n      varying float v_textureIndex;\n\n      void main(){\n        vec2 normalized = a_position * u_pixelRatio / u_resolution;\n        vec2 zero_two = normalized * 2.0;\n        vec2 clip_space = zero_two - 1.0;\n\n        // pass to fragment\n        v_color = a_color;\n        v_textureCoordinate = a_textureCoordinate;\n        v_textureIndex = a_textureIndex;\n\n        // flip y\n        gl_Position = vec4(clip_space * vec2(1.0, -1.0), 0, 1);\n      }\n    ",fragment:e=>`\n      #define txUnits ${e}\n      # ifdef GL_FRAGMENT_PRESICISON_HIGH\n      precision highp float;\n      # else\n      precision mediump float;\n      # endif\n\n      uniform vec2 u_resolution;\n      uniform sampler2D u_image;\n      uniform sampler2D u_textures[txUnits];\n\n      varying vec4 v_color;\n      varying vec2 v_textureCoordinate;\n      varying float v_textureIndex;\n\n      vec4 sampleFromTexture(sampler2D textures[${e}], int idx, vec2 uv) {\n        ${Array.from(Array(e).keys()).map((e=>`\n          ${0!==e?"else ":""}if (idx == ${e}) {\n            return texture2D(textures[${e}], uv);\n          }\n        `)).join("")}\n        return texture2D(textures[0], uv);\n      }\n\n      void main(){\n        gl_FragColor = vec4(v_color) * sampleFromTexture(u_textures, int(v_textureIndex), v_textureCoordinate);\n      }\n    `});var We=new Map,Ye=(e,t)=>{var r=JSON.stringify(e);if(We.has(r))return We.get(r);var o=(null!=e?e:[]).map((e=>({type:e.type,props:t[e.type].resolveDefaults(e.props||{})})));return We.set(r,o),o};class He extends U{constructor(e,t,r){var o=He.createShader(t,r);super({renderer:e,attributes:["a_position","a_textureCoordinate","a_color"],uniforms:[{name:"u_resolution",uniform:"uniform2fv"},{name:"u_pixelRatio",uniform:"uniform1f"},{name:"u_texture",uniform:"uniform2fv"},{name:"u_dimensions",uniform:"uniform2fv"},{name:"u_alpha",uniform:"uniform1f"},...o.uniforms],shaderSources:{vertex:o.vertex,fragment:o.fragment}}),k(this,"effects",[]),this.effects=o.effects,this.calculateProps=Re(this.calculateProps.bind(this))}bindTextures(e){var t=this.glw;t.activeTexture(0),t.bindTexture(e[0].ctxTexture)}calculateProps(e){var t=this.renderer.shManager.getRegisteredEffects(),r=[];return null==e||e.forEach(((e,o)=>{var n,i=this.effects[o],s=t[i.name],a=null!==(n=e.props)&&void 0!==n?n:{},l=i.uniformInfo;Object.keys(a).forEach((e=>{var t=s.uniforms[e],o=l[e],n=t.validator?t.validator(a[e],a):a[e];Array.isArray(n)&&(n=new Float32Array(n)),r.push({name:o.name,value:n})}))})),r}bindProps(e){this.calculateProps(e.effects).forEach((e=>{this.setUniform(e.name,e.value)}))}canBatchShaderProps(e,t){if(e.$dimensions.width!==t.$dimensions.width||e.$dimensions.height!==t.$dimensions.height||e.effects.length!==t.effects.length)return!1;for(var r=e.effects.length,o=0;o<r;o++){var n=e.effects[o],i=t.effects[o];if(n.type!==i.type)return!1;for(var s in n.props)if(i.props&&!i.props[s]||n.props[s]!==i.props[s])return!1}return!0}static createShader(e,t){var r={},o={},n="",i=[],s=[],a=e.effects.map((e=>{var o=t[e.type],a=o.getEffectKey(e.props||{});r[a]=r[a]?++r[a]:1;var l=r[a];1===l&&s.push({key:a,type:e.type,props:e.props});var d=new o({ref:`${a}${1===l?"":l}`,target:a,props:e.props});return n+=d.declaredUniforms,i.push(...Object.values(d.uniformInfo)),d})),l="";null==s||s.forEach((e=>{var r,n=t[e.type],i=n.resolveDefaults(null!==(r=e.props)&&void 0!==r?r:{}),s=[];for(var a in n.methods){var d=a,h=n.methods[a];o[a]&&o[a]!==h&&(d=He.resolveMethodDuplicate(a,h,o)),o[d]=h.replace("function",d),s.push({m:a,cm:d})}var c=n.onShaderMask instanceof Function?n.onShaderMask(i):n.onShaderMask,u=n.onColorize instanceof Function?n.onColorize(i):n.onColorize,f=n.onEffectMask instanceof Function?n.onEffectMask(i):n.onEffectMask;s.forEach((e=>{var t=e.m,r=e.cm,o=new RegExp(`\\$${t}`,"g");c&&(c=c.replace(o,r)),u&&(u=u.replace(o,r)),f&&(f=f.replace(o,r))}));var p=n.getMethodParameters(n.uniforms,i),v=p.length>0?`, ${p}`:"";c&&(l+=`\n        float fx_${e.key}_onShaderMask(float shaderMask ${v}) {\n          ${c}\n        }\n        `),u&&(l+=`\n          vec4 fx_${e.key}_onColorize(float shaderMask, vec4 maskColor, vec4 shaderColor${v}) {\n            ${u}\n          }\n        `),f&&(l+=`\n          vec4 fx_${e.key}_onEffectMask(float shaderMask, vec4 maskColor, vec4 shaderColor${v}) {\n            ${f}\n          }\n        `)}));var d="";for(var h in o)d+=o[h];for(var c="mix(shaderColor, maskColor, clamp(-(lng_DefaultMask), 0.0, 1.0))",u="\n\n    ",f=0;f<a.length;f++){var p=a[f],v=p.passParameters.length>0?`, ${p.passParameters}`:"",g=t[p.name];g.onShaderMask&&(u+=`\n        shaderMask = fx_${p.target}_onShaderMask(shaderMask ${v});\n        `),g.onColorize&&(u+=`\n        maskColor = fx_${p.target}_onColorize(shaderMask, maskColor, shaderColor${v});\n        `),g.onEffectMask&&(c=`fx_${p.target}_onEffectMask(shaderMask, maskColor, shaderColor${v})`);var m=a[f+1];(void 0===m||t[m.name].onEffectMask)&&(u+=`\n          shaderColor = ${c};\n        `)}return{effects:a,uniforms:i,fragment:He.fragment(n,d,l,u),vertex:He.vertex()}}static resolveMethodDuplicate(e,t,r,o=0){var n=e+(o>0?o:"");return r[n]&&r[n]!==t?this.resolveMethodDuplicate(e,t,r,++o):n}static resolveDefaults(e,t){return{effects:Ye(e.effects,t),$dimensions:{width:0,height:0},$alpha:0}}static makeCacheKey(e,t){var r,o="";return null===(r=e.effects)||void 0===r||r.forEach((e=>{var r=t[e.type].getEffectKey(e.props||{});o+=`,${r}`})),`DynamicShader${o}`}}k(He,"z$__type__Props",void 0),k(He,"vertex",(()=>"\n    # ifdef GL_FRAGMENT_PRESICISON_HIGH\n    precision highp float;\n    # else\n    precision mediump float;\n    # endif\n\n    attribute vec2 a_textureCoordinate;\n    attribute vec2 a_position;\n    attribute vec4 a_color;\n    attribute float a_textureIndex;\n\n    uniform vec2 u_resolution;\n    uniform float u_pixelRatio;\n\n    varying vec4 v_color;\n    varying vec2 v_textureCoordinate;\n    varying float v_textureIndex;\n\n    void main(){\n      vec2 normalized = a_position * u_pixelRatio / u_resolution;\n      vec2 zero_two = normalized * 2.0;\n      vec2 clip_space = zero_two - 1.0;\n\n      // pass to fragment\n      v_color = a_color;\n      v_textureCoordinate = a_textureCoordinate;\n      v_textureIndex = a_textureIndex;\n\n      // flip y\n      gl_Position = vec4(clip_space * vec2(1.0, -1.0), 0, 1);\n    }\n  ")),k(He,"fragment",((e,t,r,o)=>`\n    # ifdef GL_FRAGMENT_PRESICISON_HIGH\n    precision highp float;\n    # else\n    precision mediump float;\n    # endif\n\n    #define PI 3.14159265359\n\n    uniform vec2 u_resolution;\n    uniform vec2 u_dimensions;\n    uniform float u_alpha;\n    uniform float u_radius;\n    uniform sampler2D u_texture;\n    uniform float u_pixelRatio;\n\n    ${e}\n\n    varying vec4 v_color;\n    varying vec2 v_textureCoordinate;\n\n    ${t}\n\n    ${r}\n\n    void main() {\n      vec2 p = v_textureCoordinate.xy * u_dimensions - u_dimensions * 0.5;\n      vec2 d = abs(p) - (u_dimensions) * 0.5;\n      float lng_DefaultMask = min(max(d.x, d.y), 0.0) + length(max(d, 0.0));\n\n      vec4 shaderColor = vec4(0.0);\n      float shaderMask = lng_DefaultMask;\n\n      vec4 maskColor = texture2D(u_texture, v_textureCoordinate) * v_color;\n\n      shaderColor = mix(shaderColor, maskColor, clamp(-(lng_DefaultMask + 0.5), 0.0, 1.0));\n\n      ${o}\n\n      gl_FragColor = shaderColor * u_alpha;\n    }\n  `));class je extends U{constructor(e){super({renderer:e,attributes:["a_position","a_textureCoordinate","a_color"],uniforms:[{name:"u_resolution",uniform:"uniform2fv"},{name:"u_pixelRatio",uniform:"uniform1f"},{name:"u_texture",uniform:"uniform2f"},{name:"u_dimensions",uniform:"uniform2fv"},{name:"u_radius",uniform:"uniform1f"}]})}static resolveDefaults(e){return{radius:e.radius||10,$dimensions:{width:0,height:0}}}bindTextures(e){var t=this.glw;t.activeTexture(0),t.bindTexture(e[0].ctxTexture)}bindProps(e){this.setUniform("u_radius",e.radius)}canBatchShaderProps(e,t){return e.radius===t.radius&&e.$dimensions.width===t.$dimensions.width&&e.$dimensions.height===t.$dimensions.height}}k(je,"z$__type__Props",void 0),k(je,"shaderSources",{vertex:"\n      # ifdef GL_FRAGMENT_PRESICISON_HIGH\n      precision highp float;\n      # else\n      precision mediump float;\n      # endif\n\n      attribute vec2 a_position;\n      attribute vec2 a_textureCoordinate;\n      attribute vec4 a_color;\n      attribute float a_textureIndex;\n      attribute float a_depth;\n\n      uniform vec2 u_resolution;\n      uniform float u_pixelRatio;\n\n      varying vec4 v_color;\n      varying vec2 v_textureCoordinate;\n\n      void main() {\n        vec2 normalized = a_position * u_pixelRatio / u_resolution;\n        vec2 zero_two = normalized * 2.0;\n        vec2 clip_space = zero_two - 1.0;\n\n        // pass to fragment\n        v_color = a_color;\n        v_textureCoordinate = a_textureCoordinate;\n\n        // flip y\n        gl_Position = vec4(clip_space * vec2(1.0, -1.0), 0, 1);\n      }\n    ",fragment:"\n      # ifdef GL_FRAGMENT_PRESICISON_HIGH\n      precision highp float;\n      # else\n      precision mediump float;\n      # endif\n\n      uniform vec2 u_resolution;\n      uniform vec2 u_dimensions;\n      uniform float u_radius;\n      uniform sampler2D u_texture;\n\n      varying vec4 v_color;\n      varying vec2 v_textureCoordinate;\n\n      float boxDist(vec2 p, vec2 size, float radius){\n        size -= vec2(radius);\n        vec2 d = abs(p) - size;\n        return min(max(d.x, d.y), 0.0) + length(max(d, 0.0)) - radius;\n      }\n\n      float fillMask(float dist) {\n        return clamp(-dist, 0.0, 1.0);\n      }\n\n      void main() {\n        vec4 color = texture2D(u_texture, v_textureCoordinate) * v_color;\n        vec2 halfDimensions = u_dimensions * 0.5;\n\n        float d = boxDist(v_textureCoordinate.xy * u_dimensions - halfDimensions, halfDimensions + 0.5, u_radius);\n        gl_FragColor = mix(vec4(0.0), color, fillMask(d));\n      }\n    "});var Qe=new Float32Array([1,0,0,0,1,0,0,0,1]);class Ke extends U{constructor(e){super({renderer:e,attributes:["a_position","a_textureCoordinate"],uniforms:[{name:"u_resolution",uniform:"uniform2fv"},{name:"u_transform",uniform:"uniformMatrix3fv"},{name:"u_scrollY",uniform:"uniform1f"},{name:"u_pixelRatio",uniform:"uniform1f"},{name:"u_texture",uniform:"uniform2f"},{name:"u_color",uniform:"uniform4fv"},{name:"u_size",uniform:"uniform1f"},{name:"u_distanceRange",uniform:"uniform1f"},{name:"u_debug",uniform:"uniform1i"}]})}bindTextures(e){var t=this.glw;t.activeTexture(0),t.bindTexture(e[0].ctxTexture)}bindProps(e){var t=Ke.resolveDefaults(e);for(var r in t)if("transform"===r)this.setUniform("u_transform",!1,t[r]);else if("scrollY"===r)this.setUniform("u_scrollY",t[r]);else if("color"===r){var o=L(t.color);this.setUniform("u_color",o)}else"size"===r?this.setUniform("u_size",t[r]):"distanceRange"===r?this.setUniform("u_distanceRange",t[r]):"debug"===r&&this.setUniform("u_debug",t[r]?1:0)}static resolveDefaults(e={}){var t,r,o,n,i,s;return{transform:null!==(t=e.transform)&&void 0!==t?t:Qe,scrollY:null!==(r=e.scrollY)&&void 0!==r?r:0,color:null!==(o=e.color)&&void 0!==o?o:4294967295,size:null!==(n=e.size)&&void 0!==n?n:16,distanceRange:null!==(i=e.distanceRange)&&void 0!==i?i:1,debug:null!==(s=e.debug)&&void 0!==s&&s}}}k(Ke,"shaderSources",{vertex:"\n      // an attribute is an input (in) to a vertex shader.\n      // It will receive data from a buffer\n      attribute vec2 a_position;\n      attribute vec2 a_textureCoordinate;\n\n      uniform vec2 u_resolution;\n      uniform mat3 u_transform;\n      uniform float u_scrollY;\n      uniform float u_pixelRatio;\n      uniform float u_size;\n\n      varying vec2 v_texcoord;\n\n      void main() {\n        vec2 scrolledPosition = a_position * u_size - vec2(0, u_scrollY);\n        vec2 transformedPosition = (u_transform * vec3(scrolledPosition, 1)).xy;\n\n        // Calculate screen space with pixel ratio\n        vec2 screenSpace = (transformedPosition * u_pixelRatio / u_resolution * 2.0 - 1.0) * vec2(1, -1);\n\n        gl_Position = vec4(screenSpace, 0.0, 1.0);\n        v_texcoord = a_textureCoordinate;\n\n      }\n    ",fragment:"\n      precision highp float;\n\n      uniform vec4 u_color;\n      uniform sampler2D u_texture;\n      uniform float u_distanceRange;\n      uniform float u_pixelRatio;\n      uniform int u_debug;\n\n      varying vec2 v_texcoord;\n\n      float median(float r, float g, float b) {\n          return max(min(r, g), min(max(r, g), b));\n      }\n\n      void main() {\n          vec3 sample = texture2D(u_texture, v_texcoord).rgb;\n          if (u_debug == 1) {\n            gl_FragColor = vec4(sample.r, sample.g, sample.b, 1.0);\n            return;\n          }\n          float scaledDistRange = u_distanceRange * u_pixelRatio;\n          float sigDist = scaledDistRange * (median(sample.r, sample.g, sample.b) - 0.5);\n          float opacity = clamp(sigDist + 0.5, 0.0, 1.0) * u_color.a;\n\n          // Build the final color.\n          // IMPORTANT: We must premultiply the color by the alpha value before returning it.\n          gl_FragColor = vec4(u_color.r * opacity, u_color.g * opacity, u_color.b * opacity, opacity);\n      }\n    "});class Xe extends Ae{constructor(...e){super(...e),k(this,"name","radius")}static getEffectKey(){return"radius"}static resolveDefaults(e){var t;return{radius:null!==(t=e.radius)&&void 0!==t?t:10}}}k(Xe,"z$__type__Props",void 0),k(Xe,"uniforms",{radius:{value:0,method:"uniform4fv",type:"vec4",validator:e=>{var t=e;return Array.isArray(t)?2===t.length?t=[t[0],t[1],t[0],t[1]]:3===t.length?t=[t[0],t[1],t[2],t[0]]:4!==t.length&&(t=[t[0],t[0],t[0],t[0]]):"number"==typeof t&&(t=[t,t,t,t]),t}}}),k(Xe,"methods",{fillMask:"\n      float function(float dist) {\n        return clamp(-dist, 0.0, 1.0);\n      }\n    ",boxDist:"\n      float function(vec2 p, vec2 size, float radius) {\n        size -= vec2(radius);\n        vec2 d = abs(p) - size;\n        return min(max(d.x, d.y), 0.0) + length(max(d, 0.0)) - radius;\n      }\n    "}),k(Xe,"onShaderMask","\n  vec2 halfDimensions = u_dimensions * 0.5;\n  float r = radius[0] * step(v_textureCoordinate.x, 0.5) * step(v_textureCoordinate.y, 0.5);\n  r = r + radius[1] * step(0.5, v_textureCoordinate.x) * step(v_textureCoordinate.y, 0.5);\n  r = r + radius[2] * step(0.5, v_textureCoordinate.x) * step(0.5, v_textureCoordinate.y);\n  r = r + radius[3] * step(v_textureCoordinate.x, 0.5) * step(0.5, v_textureCoordinate.y);\n  return $boxDist(v_textureCoordinate.xy * u_dimensions - halfDimensions, halfDimensions, r);\n  "),k(Xe,"onEffectMask","\n  return mix(vec4(0.0), maskColor, $fillMask(shaderMask));\n  ");class $e extends Ae{constructor(...e){super(...e),k(this,"name","border")}static getEffectKey(){return"border"}static resolveDefaults(e){var t,r;return{width:null!==(t=e.width)&&void 0!==t?t:10,color:null!==(r=e.color)&&void 0!==r?r:4294967295}}}k($e,"z$__type__Props",void 0),k($e,"uniforms",{width:{value:0,method:"uniform1f",type:"float"},color:{value:4294967295,validator:e=>L(e),method:"uniform4fv",type:"vec4"}}),k($e,"onEffectMask","\n  float intR = shaderMask + 1.0;\n  float mask = clamp(intR + width, 0.0, 1.0) - clamp(intR, 0.0, 1.0);\n  return mix(shaderColor, mix(shaderColor, maskColor, maskColor.a), mask);\n  "),k($e,"onColorize","\n    return color;\n  ");class Ge extends Ae{constructor(...e){super(...e),k(this,"name","linearGradient")}static getEffectKey(e){return`linearGradient${e.colors.length}`}static resolveDefaults(e){var t,r,o=null!==(t=e.colors)&&void 0!==t?t:[4278190080,4294967295],n=e.stops||[];if(0===n.length||n.length!==o.length){for(var i=o.length,s=0,a=n;s<i;s++)n[s]?(a[s]=n[s],void 0===n[s-1]&&void 0!==a[s-2]&&(a[s-1]=a[s-2]+(n[s]-a[s-2])/2)):a[s]=s*(1/(o.length-1));n=a}return{colors:o,stops:n,angle:null!==(r=e.angle)&&void 0!==r?r:0}}}ce=Ge,k(Ge,"z$__type__Props",void 0),k(Ge,"uniforms",{angle:{value:0,method:"uniform1f",type:"float"},colors:{value:4294967295,validator:e=>e.map((e=>L(e))).reduce(((e,t)=>e.concat(t)),[]),size:e=>e.colors.length,method:"uniform4fv",type:"vec4"},stops:{value:[],size:e=>e.colors.length,method:"uniform1fv",type:"float"}}),k(Ge,"methods",{fromLinear:"\n      vec4 function(vec4 linearRGB) {\n        vec4 higher = vec4(1.055)*pow(linearRGB, vec4(1.0/2.4)) - vec4(0.055);\n        vec4 lower = linearRGB * vec4(12.92);\n        return mix(higher, lower, 1.0);\n      }\n    ",toLinear:"\n      vec4 function(vec4 sRGB) {\n        vec4 higher = pow((sRGB + vec4(0.055))/vec4(1.055), vec4(2.4));\n        vec4 lower = sRGB/vec4(12.92);\n        return mix(higher, lower, 1.0);\n      }\n    ",calcPoint:"\n      vec2 function(float d, float angle) {\n        return d * vec2(cos(angle), sin(angle)) + (u_dimensions * 0.5);\n      }\n    "}),k(Ge,"ColorLoop",(e=>{for(var t="",r=2;r<e;r++)t+=`colorOut = mix(colorOut, colors[${r}], clamp((dist - stops[${r-1}]) / (stops[${r}] - stops[${r-1}]), 0.0, 1.0));`;return t})),k(Ge,"onColorize",(e=>{var t=e.colors.length||1;return`\n      float a = angle - (PI / 180.0 * 90.0);\n      float lineDist = abs(u_dimensions.x * cos(a)) + abs(u_dimensions.y * sin(a));\n      vec2 f = $calcPoint(lineDist * 0.5, a);\n      vec2 t = $calcPoint(lineDist * 0.5, a + PI);\n      vec2 gradVec = t - f;\n      float dist = dot(v_textureCoordinate.xy * u_dimensions - f, gradVec) / dot(gradVec, gradVec);\n\n      float stopCalc = (dist - stops[0]) / (stops[1] - stops[0]);\n      vec4 colorOut = $fromLinear(mix($toLinear(colors[0]), $toLinear(colors[1]), stopCalc));\n      ${ce.ColorLoop(t)}\n      return mix(maskColor, colorOut, clamp(colorOut.a, 0.0, 1.0));\n    `}));class Ve extends Ae{constructor(...e){super(...e),k(this,"name","grayscale")}static getEffectKey(){return"grayscale"}static resolveDefaults(e){var t;return{amount:null!==(t=e.amount)&&void 0!==t?t:1}}}k(Ve,"uniforms",{amount:{value:1,method:"uniform1f",type:"float"}}),k(Ve,"onColorize","\n    float grayness = 0.2 * maskColor.r + 0.6 * maskColor.g + 0.2 * maskColor.b;\n    return vec4(amount * vec3(grayness) + (1.0 - amount) * maskColor.rgb, maskColor.a);\n  ");class qe extends Ae{constructor(...e){super(...e),k(this,"name","borderRight")}static getEffectKey(){return"borderRight"}static resolveDefaults(e){var t,r;return{width:null!==(t=e.width)&&void 0!==t?t:10,color:null!==(r=e.color)&&void 0!==r?r:4294967295}}}k(qe,"z$__type__Props",void 0),k(qe,"uniforms",{width:{value:0,method:"uniform1f",type:"float"},color:{value:4294967295,validator:e=>L(e),method:"uniform4fv",type:"vec4"}}),k(qe,"methods",{fillMask:"\n      float function(float dist) {\n        return clamp(-dist, 0.0, 1.0);\n      }\n    ",rectDist:"\n      float function(vec2 p, vec2 size) {\n        vec2 d = abs(p) - size;\n        return min(max(d.x, d.y), 0.0) + length(max(d, 0.0));\n      }\n    "}),k(qe,"onEffectMask","\n  vec2 pos = vec2(u_dimensions.x - width * 0.5, 0.0);\n  float mask = $rectDist(v_textureCoordinate.xy * u_dimensions - pos, vec2(width*0.5, u_dimensions.y));\n  return mix(shaderColor, maskColor, $fillMask(mask));\n  "),k(qe,"onColorize","\n    return color;\n  ");class Ze extends Ae{constructor(...e){super(...e),k(this,"name","borderTop")}static getEffectKey(){return"borderTop"}static resolveDefaults(e){var t,r;return{width:null!==(t=e.width)&&void 0!==t?t:10,color:null!==(r=e.color)&&void 0!==r?r:4294967295}}}k(Ze,"z$__type__Props",void 0),k(Ze,"uniforms",{width:{value:0,method:"uniform1f",type:"float"},color:{value:4294967295,validator:e=>L(e),method:"uniform4fv",type:"vec4"}}),k(Ze,"methods",{fillMask:"\n      float function(float dist) {\n        return clamp(-dist, 0.0, 1.0);\n      }\n    ",rectDist:"\n      float function(vec2 p, vec2 size) {\n        vec2 d = abs(p) - size;\n        return min(max(d.x, d.y), 0.0) + length(max(d, 0.0));\n      }\n    "}),k(Ze,"onEffectMask","\n  vec2 pos = vec2(0.0, width * 0.5);\n  float mask = $rectDist(v_textureCoordinate.xy * u_dimensions - pos, vec2(u_dimensions.x, width*0.5));\n  return mix(shaderColor, maskColor, $fillMask(mask));\n  "),k(Ze,"onColorize","\n    return color;\n  ");class Je extends Ae{constructor(...e){super(...e),k(this,"name","borderBottom")}static getEffectKey(){return"borderBottom"}static resolveDefaults(e){var t,r;return{width:null!==(t=e.width)&&void 0!==t?t:10,color:null!==(r=e.color)&&void 0!==r?r:4294967295}}}k(Je,"z$__type__Props",void 0),k(Je,"uniforms",{width:{value:0,method:"uniform1f",type:"float"},color:{value:4294967295,validator:e=>L(e),method:"uniform4fv",type:"vec4"}}),k(Je,"methods",{fillMask:"\n      float function(float dist) {\n        return clamp(-dist, 0.0, 1.0);\n      }\n    ",rectDist:"\n      float function(vec2 p, vec2 size) {\n        vec2 d = abs(p) - size;\n        return min(max(d.x, d.y), 0.0) + length(max(d, 0.0));\n      }\n    "}),k(Je,"onEffectMask","\n  vec2 pos = vec2(0.0, u_dimensions.y - width * 0.5);\n  float mask = $rectDist(v_textureCoordinate.xy * u_dimensions - pos, vec2(u_dimensions.x, width*0.5));\n  return mix(shaderColor, maskColor, $fillMask(mask));\n  "),k(Je,"onColorize","\n    return color;\n  ");class et extends Ae{constructor(...e){super(...e),k(this,"name","borderLeft")}static getEffectKey(){return"borderLeft"}static resolveDefaults(e){var t,r;return{width:null!==(t=e.width)&&void 0!==t?t:10,color:null!==(r=e.color)&&void 0!==r?r:4294967295}}}k(et,"z$__type__Props",void 0),k(et,"uniforms",{width:{value:0,method:"uniform1f",type:"float"},color:{value:4294967295,validator:e=>L(e),method:"uniform4fv",type:"vec4"}}),k(et,"methods",{fillMask:"\n      float function(float dist) {\n        return clamp(-dist, 0.0, 1.0);\n      }\n    ",rectDist:"\n      float function(vec2 p, vec2 size) {\n        vec2 d = abs(p) - size;\n        return min(max(d.x, d.y), 0.0) + length(max(d, 0.0));\n      }\n    "}),k(et,"onEffectMask","\n  vec2 pos = vec2(width * 0.5, 0.0);\n  float mask = $rectDist(v_textureCoordinate.xy * u_dimensions - pos, vec2(width*0.5, u_dimensions.y));\n  return mix(shaderColor, maskColor, $fillMask(mask));\n  "),k(et,"onColorize","\n    return color;\n  ");class tt extends Ae{constructor(...e){super(...e),k(this,"name","glitch")}static getEffectKey(e){return"glitch"}static resolveDefaults(e){var t,r,o,n,i;return{amplitude:null!==(t=e.amplitude)&&void 0!==t?t:.2,narrowness:null!==(r=e.narrowness)&&void 0!==r?r:4,blockiness:null!==(o=e.blockiness)&&void 0!==o?o:2,minimizer:null!==(n=e.minimizer)&&void 0!==n?n:8,time:null!==(i=e.time)&&void 0!==i?i:Date.now()}}}k(tt,"z$__type__Props",void 0),k(tt,"uniforms",{amplitude:{value:0,method:"uniform1f",type:"float"},narrowness:{value:0,method:"uniform1f",type:"float"},blockiness:{value:0,method:"uniform1f",type:"float"},minimizer:{value:0,method:"uniform1f",type:"float"},time:{value:0,method:"uniform1f",validator:e=>(Date.now()-e)%1e3,type:"float"}}),k(tt,"methods",{rand:"\n      float function(vec2 p, float time) {\n        float t = floor(time * 20.) / 10.;\n        return fract(sin(dot(p, vec2(t * 12.9898, t * 78.233))) * 43758.5453);\n      }\n    ",noise:"\n      float function(vec2 uv, float blockiness, float time) {\n        vec2 lv = fract(uv);\n        vec2 id = floor(uv);\n\n        float n1 = rand(id, time);\n        float n2 = rand(id+vec2(1,0), time);\n        float n3 = rand(id+vec2(0,1), time);\n        float n4 = rand(id+vec2(1,1), time);\n        vec2 u = smoothstep(0.0, 1.0 + blockiness, lv);\n        return mix(mix(n1, n2, u.x), mix(n3, n4, u.x), u.y);\n      }\n    ",fbm:"\n      float function(vec2 uv, int count, float blockiness, float complexity, float time) {\n        float val = 0.0;\n        float amp = 0.5;\n        const int MAX_ITERATIONS = 10;\n\n        for(int i = 0; i < MAX_ITERATIONS; i++) {\n          if(i >= count) {break;}\n          val += amp * noise(uv, blockiness, time);\n          amp *= 0.5;\n          uv *= complexity;\n        }\n        return val;\n      }\n    "}),k(tt,"onColorize","\n    vec2 uv = v_textureCoordinate.xy;\n    float aspect = u_dimensions.x / u_dimensions.y;\n    vec2 a = vec2(uv.x * aspect , uv.y);\n    vec2 uv2 = vec2(a.x / u_dimensions.x, exp(a.y));\n\n    float shift = amplitude * pow($fbm(uv2, 4, blockiness, narrowness, time), minimizer);\n    float colR = texture2D(u_texture, vec2(uv.x + shift, uv.y)).r * (1. - shift);\n    float colG = texture2D(u_texture, vec2(uv.x - shift, uv.y)).g * (1. - shift);\n    float colB = texture2D(u_texture, vec2(uv.x - shift, uv.y)).b * (1. - shift);\n\n    vec3 f = vec3(colR, colG, colB);\n    return vec4(f, texture2D(u_texture, vec2(uv.x - shift, uv.y)).a);\n  ");class rt extends Ae{constructor(...e){super(...e),k(this,"name","fadeOut")}static getEffectKey(){return"fadeOut"}static resolveDefaults(e){var t;return{fade:null!==(t=e.fade)&&void 0!==t?t:10}}}k(rt,"z$__type__Props",void 0),k(rt,"uniforms",{fade:{value:0,method:"uniform4fv",type:"vec4",validator:e=>{var t=e;return Array.isArray(t)?2===t.length?t=[t[0],t[1],t[0],t[1]]:3===t.length?t=[t[0],t[1],t[2],t[0]]:4!==t.length&&(t=[t[0],t[0],t[0],t[0]]):"number"==typeof t&&(t=[t,t,t,t]),t}}}),k(rt,"onColorize","\n  vec2 point = v_textureCoordinate.xy * u_dimensions.xy;\n  vec2 pos1;\n  vec2 pos2;\n  vec2 d;\n  float c;\n  vec4 result = maskColor;\n\n\n  if(fade[0] > 0.0) {\n    pos1 = vec2(point.x, point.y);\n    pos2 = vec2(point.x, point.y + fade[0]);\n    d = pos2 - pos1;\n    c = dot(pos1, d) / dot(d, d);\n    result = mix(vec4(0.0), result, smoothstep(0.0, 1.0, clamp(c, 0.0, 1.0)));\n  }\n\n  if(fade[1] > 0.0) {\n    pos1 = vec2(point.x - u_dimensions.x - fade[1], v_textureCoordinate.y);\n    pos2 = vec2(point.x - u_dimensions.x, v_textureCoordinate.y);\n    d = pos1 - pos2;\n    c = dot(pos2, d) / dot(d, d);\n    result = mix(vec4(0.0), result, smoothstep(0.0, 1.0, clamp(c, 0.0, 1.0)));\n  }\n\n  if(fade[2] > 0.0) {\n    pos1 = vec2(v_textureCoordinate.x, point.y - u_dimensions.y - fade[2]);\n    pos2 = vec2(v_textureCoordinate.x, point.y - u_dimensions.y);\n    d = pos1 - pos2;\n    c = dot(pos2, d) / dot(d, d);\n    result = mix(vec4(0.0), result, smoothstep(0.0, 1.0, clamp(c, 0.0, 1.0)));\n  }\n\n  if(fade[3] > 0.0) {\n    pos1 = vec2(point.x, point.y);\n    pos2 = vec2(point.x + fade[3], point.y);\n    d = pos2 - pos1;\n    c = dot(pos1, d) / dot(d, d);\n    result = mix(vec4(0.0), result, smoothstep(0.0, 1.0, clamp(c, 0.0, 1.0)));\n  }\n\n  return result;\n  ");class ot extends Ae{constructor(...e){super(...e),k(this,"name","radialGradient")}static getEffectKey(e){return`radialGradient${e.colors.length}`}static resolveDefaults(e){var t,r,o,n,i,s=null!==(t=e.colors)&&void 0!==t?t:[4278190080,4294967295],a=e.stops||[];if(0===a.length||a.length!==s.length){for(var l=s.length,d=0,h=a;d<l;d++)a[d]?(h[d]=a[d],void 0===a[d-1]&&void 0!==h[d-2]&&(h[d-1]=h[d-2]+(a[d]-h[d-2])/2)):h[d]=d*(1/(s.length-1));a=h}return{colors:s,stops:a,width:null!==(r=e.width)&&void 0!==r?r:0,height:null!==(o=null!==(n=e.height)&&void 0!==n?n:e.width)&&void 0!==o?o:0,pivot:null!==(i=e.pivot)&&void 0!==i?i:[.5,.5]}}}ue=ot,k(ot,"z$__type__Props",void 0),k(ot,"uniforms",{width:{value:0,method:"uniform1f",type:"float"},height:{value:0,method:"uniform1f",type:"float"},pivot:{value:[.5,.5],method:"uniform2fv",type:"vec2"},colors:{value:4294967295,validator:e=>e.map((e=>L(e))).reduce(((e,t)=>e.concat(t)),[]),size:e=>e.colors.length,method:"uniform4fv",type:"vec4"},stops:{value:[],size:e=>e.colors.length,method:"uniform1fv",type:"float"}}),k(ot,"ColorLoop",(e=>{for(var t="",r=2;r<e;r++)t+=`colorOut = mix(colorOut, colors[${r}], clamp((dist - stops[${r-1}]) / (stops[${r}] - stops[${r-1}]), 0.0, 1.0));`;return t})),k(ot,"onColorize",(e=>{var t=e.colors.length||1;return`\n      vec2 point = v_textureCoordinate.xy * u_dimensions;\n      vec2 projection = vec2(pivot.x * u_dimensions.x, pivot.y * u_dimensions.y);\n\n      float dist = length((point - projection) / vec2(width, height));\n\n      float stopCalc = (dist - stops[0]) / (stops[1] - stops[0]);\n      vec4 colorOut = mix(colors[0], colors[1], stopCalc);\n      ${ue.ColorLoop(t)}\n      return mix(maskColor, colorOut, clamp(colorOut.a, 0.0, 1.0));\n    `}));class nt extends Ae{constructor(...e){super(...e),k(this,"name","radialProgress")}static getEffectKey(){return"radialProgress"}static resolveDefaults(e){var t,r,o,n,i,s,a;return{width:null!==(t=e.width)&&void 0!==t?t:10,progress:null!==(r=e.progress)&&void 0!==r?r:.5,offset:null!==(o=e.offset)&&void 0!==o?o:0,range:null!==(n=e.range)&&void 0!==n?n:2*Math.PI,rounded:null!==(i=e.rounded)&&void 0!==i&&i,radius:null!==(s=e.radius)&&void 0!==s?s:1,color:null!==(a=e.color)&&void 0!==a?a:4294967295}}}k(nt,"z$__type__Props",void 0),k(nt,"uniforms",{width:{value:0,method:"uniform1f",type:"float"},progress:{value:.5,method:"uniform1f",type:"float"},offset:{value:0,method:"uniform1f",type:"float"},range:{value:0,method:"uniform1f",type:"float"},rounded:{value:0,method:"uniform1f",type:"float",validator:e=>e?1:0},radius:{value:1,method:"uniform1f",type:"float"},color:{value:4294967295,validator:e=>L(e),method:"uniform4fv",type:"vec4"}}),k(nt,"methods",{rotateUV:"\n    vec2 function(vec2 uv, float d) {\n      float s = sin(d);\n      float c = cos(d);\n      mat2 rotMatrix = mat2(c, -s, s, c);\n      return uv * rotMatrix;\n    }\n    ",drawDot:"\n    float function(vec2 uv, vec2 p, float r) {\n      uv += p;\n      float circle = length(uv) - r;\n      return clamp(-circle, 0.0, 1.0);\n    }\n    "}),k(nt,"onEffectMask","\n    float outerRadius = radius * u_dimensions.y * 0.5;\n\n    float endAngle = range * progress - 0.0005;\n\n    vec2 uv = v_textureCoordinate.xy * u_dimensions.xy - u_dimensions * 0.5;\n\n    uv = $rotateUV(uv, -(offset));\n    float linewidth = width * u_pixelRatio;\n    float circle = length(uv) - (outerRadius - linewidth) ;\n    circle = abs(circle) - linewidth;\n    circle = clamp(-circle, 0.0, 1.0);\n\n    float angle = (atan(uv.x, -uv.y) / 3.14159265359 * 0.5);\n    float p = endAngle / (PI * 2.);\n\n    circle *= step(fract(angle), fract(p));\n\n    circle = rounded < 1. ? circle : max(circle, $drawDot(uv, vec2(0, outerRadius - linewidth), linewidth));\n    circle = rounded < 1. ? circle : max(circle, $drawDot($rotateUV(uv, -(endAngle)), vec2(0, outerRadius - linewidth), linewidth));\n\n    return mix(shaderColor, maskColor, circle);\n  "),k(nt,"onColorize","\n    return color;\n  ");class it extends Ae{constructor(...e){super(...e),k(this,"name","holePunch")}static getEffectKey(){return"holePunch"}static resolveDefaults(e){var t;return{x:e.x||0,y:e.y||0,width:e.width||50,height:e.height||50,radius:null!==(t=e.radius)&&void 0!==t?t:0}}}k(it,"z$__type__Props",void 0),k(it,"uniforms",{x:{value:0,method:"uniform1f",type:"float"},y:{value:0,method:"uniform1f",type:"float"},width:{value:0,method:"uniform1f",type:"float"},height:{value:0,method:"uniform1f",type:"float"},radius:{value:0,method:"uniform4fv",type:"vec4",validator:e=>{var t=e;return Array.isArray(t)?2===t.length?t=[t[0],t[1],t[0],t[1]]:3===t.length?t=[t[0],t[1],t[2],t[0]]:4!==t.length&&(t=[t[0],t[0],t[0],t[0]]):"number"==typeof t&&(t=[t,t,t,t]),t}}}),k(it,"methods",{fillMask:"\n      float function(float dist) {\n        return clamp(-dist, 0.0, 1.0);\n      }\n    ",boxDist:"\n      float function(vec2 p, vec2 size, float radius) {\n        size -= vec2(radius);\n        vec2 d = abs(p) - size;\n        return min(max(d.x, d.y), 0.0) + length(max(d, 0.0)) - radius;\n      }\n    "}),k(it,"onShaderMask","\n  vec2 halfDimensions = u_dimensions * 0.5;\n  vec2 size = vec2(width, height) * 0.5;\n  vec2 basePos = v_textureCoordinate.xy * u_dimensions.xy - vec2(x, y);\n  vec2 pos = basePos - size;\n  float r = radius[0] * step(pos.x, 0.5) * step(pos.y, 0.5);\n  r = r + radius[1] * step(0.5, pos.x) * step(pos.y, 0.5);\n  r = r + radius[2] * step(0.5, pos.x) * step(0.5, pos.y);\n  r = r + radius[3] * step(pos.x, 0.5) * step(0.5, pos.y);\n  return $boxDist(pos, size, r);\n  "),k(it,"onEffectMask","\n  return mix(maskColor, vec4(0.0), $fillMask(shaderMask));\n  ");var st="RoundedRectangle";class at extends W{constructor(e){super(),k(this,"shType",void 0),this.shType=e,e!==st&&console.warn("Unsupported shader:",e)}bindRenderOp(){}bindProps(){}attach(){}detach(){}}class lt{constructor(){k(this,"shCache",new Map),k(this,"shConstructors",{}),k(this,"attachedShader",null),k(this,"effectConstructors",{}),k(this,"renderer",void 0),this.registerShaderType("DefaultShader",Oe),this.registerShaderType("DefaultShaderBatched",Ue),this.registerShaderType("RoundedRectangle",je),this.registerShaderType("DynamicShader",He),this.registerShaderType("SdfShader",Ke),this.registerEffectType("border",$e),this.registerEffectType("borderBottom",Je),this.registerEffectType("borderLeft",et),this.registerEffectType("borderRight",qe),this.registerEffectType("borderTop",Ze),this.registerEffectType("fadeOut",rt),this.registerEffectType("linearGradient",Ge),this.registerEffectType("radialGradient",ot),this.registerEffectType("grayscale",Ve),this.registerEffectType("glitch",tt),this.registerEffectType("radius",Xe),this.registerEffectType("radialProgress",nt),this.registerEffectType("holePunch",it)}registerShaderType(e,t){this.shConstructors[e]=t}registerEffectType(e,t){this.effectConstructors[e]=t}getRegisteredEffects(){return this.effectConstructors}getRegisteredShaders(){return this.shConstructors}loadShader(e,t){if(!this.renderer)throw new Error("Renderer is not been defined");var r=this.shConstructors[e];if(!r)throw new Error(`Shader type "${e}" is not registered`);if("canvas"===this.renderer.mode&&r.prototype instanceof U)return{shader:new at(e),props:t};if("DynamicShader"===e)return this.loadDynamicShader(t);var o=r.resolveDefaults(t),n=r.makeCacheKey(o)||r.name;if(n&&this.shCache.has(n))return{shader:this.shCache.get(n),props:o};var i=new r(this.renderer,t);return n&&this.shCache.set(n,i),{shader:i,props:o}}loadDynamicShader(e){if(!this.renderer)throw new Error("Renderer is not been defined");var t=He.resolveDefaults(e,this.effectConstructors),r=He.makeCacheKey(t,this.effectConstructors);if(r&&this.shCache.has(r))return{shader:this.shCache.get(r),props:t};var o=new He(this.renderer,e,this.effectConstructors);return r&&this.shCache.set(r,o),{shader:o,props:t}}useShader(e){this.attachedShader!==e&&(this.attachedShader&&this.attachedShader.detach(),e.attach(),this.attachedShader=e)}}class dt{constructor(e,t=0){k(this,"iterator",void 0),k(this,"peekBuffer",[]),k(this,"_lastIndex",void 0),this.iterator=e,this.iterator=e,this._lastIndex=t-1,this.peekBuffer=[]}next(){var e=this.peekBuffer.length>0?this.peekBuffer.pop():this.iterator.next();return e.done?this._lastIndex=-1:this._lastIndex++,e}peek(){if(this.peekBuffer.length>0)return this.peekBuffer[0];var e=this.iterator.next();return this.peekBuffer.push(e),e}get lastIndex(){return this._lastIndex}}function ht(e,t=0){var r,o;return C().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=t;case 1:if(!(r<e.length)){n.next=10;break}if(void 0!==(o=e.codePointAt(r))){n.next=5;break}throw new Error("Invalid Unicode code point");case 5:return n.next=7,o;case 7:r+=o<=65535?1:2,n.next=1;break;case 10:case"end":return n.stop()}}),fe)}function ct(e,t,r,o,n,i,s,a,l,d,h,c,u,f,p,v,g,m,x){B(p,"Font face must be loaded"),B(p.loaded,"Font face must be loaded"),B(p.data,"Font face must be loaded"),B(p.shaper,"Font face must be loaded");for(var y,b=a/p.data.info.size,w=l/b,S=i/b,A=d/b,C=u[e],T=(null==C?void 0:C.codepointIndex)||0,R=(null==C?void 0:C.maxX)||0,k=(null==C?void 0:C.maxY)||0,I=t,N=r,E=0,F={codepointIndex:-1,bufferOffset:-1,xStart:-1},L=p.shaper,z={letterSpacing:A},M=L.shapeText(z,new dt(ht(o,T),T)),D=-1,P=[],O=s/b,U=function(e,t,r){var o,n=0,i=_(r.shapeText(t,new dt(ht(e,0),0)));try{for(i.s();!(o=i.n()).done;){var s=o.value;s.mapped&&(n+=s.xAdvance)}}catch(a){i.e(a)}finally{i.f()}return n}(m,z,L),W=!0;W;){for(var Y=(0===x||e+1<x)&&("both"!==c||g||N+w+p.maxCharHeight<=O),H=Y?S:S-U,j=0,Q=N+p.maxCharHeight>=f.y1,K=N<=f.y2,X=Q&&K;(y=M.next())&&!y.done;){var $=y.value;if(e===u.length)u.push({codepointIndex:$.cluster,maxY:k,maxX:R});else if(e>u.length)throw new Error("Unexpected lineCache length");if(32===$.codepoint||10===$.codepoint?-1!==F.codepointIndex&&(F.codepointIndex=-1,j=I):-1===F.codepointIndex&&(F.codepointIndex=$.cluster,F.bufferOffset=E,F.xStart=j),$.mapped){var G=I+$.xOffset+$.width;if("none"!==c&&G>=H&&-1!==F.codepointIndex&&F.xStart>0){if(Y){M=L.shapeText(z,new dt(ht(o,F.codepointIndex),F.codepointIndex)),E=F.bufferOffset;break}M=L.shapeText(z,new dt(ht(m,0),0)),I=F.xStart,E=F.bufferOffset,c="none"}else{var V=I+$.xOffset,q=N+$.yOffset;if(X){-1===D&&(D=E);var Z=p.getAtlasEntry($.glyphId),J=Z.x/p.data.common.scaleW,ee=Z.y/p.data.common.scaleH,te=Z.width/p.data.common.scaleW,re=Z.height/p.data.common.scaleH;h[E++]=V,h[E++]=q,h[E++]=J,h[E++]=ee,h[E++]=V+$.width,h[E++]=q,h[E++]=J+te,h[E++]=ee,h[E++]=V,h[E++]=q+$.height,h[E++]=J,h[E++]=ee+re,h[E++]=V+$.width,h[E++]=q+$.height,h[E++]=J+te,h[E++]=ee+re}k=Math.max(k,q+$.height),R=Math.max(R,V+$.width),I+=$.xAdvance}}else if(10===$.codepoint){if(Y)break;M=L.shapeText(z,new dt(ht(m,0),0)),c="none"}}-1!==D&&(P.push({bufferStart:D,bufferEnd:E}),D=-1),I=0,N+=w,e++,F.codepointIndex=-1,j=0,!v&&"both"===c&&N>f.y2||y&&y.done?W=!1:Y||(W=!1)}if("center"===n)for(var oe="none"===c?R:S,ne=0;ne<P.length;ne++)for(var ie=P[ne],se=(oe-(h[ie.bufferEnd-4]-h[ie.bufferStart]))/2,ae=ie.bufferStart;ae<ie.bufferEnd;ae+=4)h[ae]+=se;else if("right"===n)for(var le="none"===c?R:S,de=0;de<P.length;de++)for(var he=P[de],ce=le-(he.bufferEnd===he.bufferStart?0:h[he.bufferEnd-4]-h[he.bufferStart]),ue=he.bufferStart;ue<he.bufferEnd;ue+=4)h[ue]+=ce;return B(y),{bufferNumFloats:E,bufferNumQuads:E/16,layoutNumCharacters:y.done?o.length-T:y.value.cluster-T+1,fullyProcessed:!!y.done,maxX:R,maxY:k,numLines:u.length}}function ut(e,t,r,o,n,i,s,a){var l,d,h=e.screen,c=e.sdf;if(Y(s)){var u=s.x1-t,f=u+(s.x2-s.x1),p=s.y1-r+o,v=(l=p-i,d=n||1,Math.floor(l/d)*d),g=function(e,t){return Math.ceil(e/t)*t}(p+(s.y2-s.y1)+i,n||1);h.x1=u,h.y1=v,h.x2=f,h.y2=g,c.x1=u/a,c.y1=v/a,c.x2=f/a,c.y2=g/a,e.numLines=Math.ceil((g-v)/n),e.firstLineIdx=n?Math.floor(v/n):0}else h.x1=0,h.y1=0,h.x2=0,h.y2=0,c.x1=0,c.y1=0,c.x2=0,c.y2=0,e.numLines=0,e.firstLineIdx=0;e.valid=!0}var ft={x:0,y:0,width:0,height:0};class pt extends Te{constructor(e){super(e),k(this,"ssdfFontFamilies",{}),k(this,"msdfFontFamilies",{}),k(this,"fontFamilyArray",[this.ssdfFontFamilies,this.msdfFontFamilies]),k(this,"sdfShader",void 0),k(this,"rendererBounds",void 0),this.sdfShader=this.stage.shManager.loadShader("SdfShader").shader,this.rendererBounds={x1:0,y1:0,x2:this.stage.options.appWidth,y2:this.stage.options.appHeight}}getPropertySetters(){return{fontFamily:(e,t)=>{e.props.fontFamily=t,this.releaseFontFace(e),this.invalidateLayoutCache(e)},fontWeight:(e,t)=>{e.props.fontWeight=t,this.releaseFontFace(e),this.invalidateLayoutCache(e)},fontStyle:(e,t)=>{e.props.fontStyle=t,this.releaseFontFace(e),this.invalidateLayoutCache(e)},fontStretch:(e,t)=>{e.props.fontStretch=t,this.releaseFontFace(e),this.invalidateLayoutCache(e)},fontSize:(e,t)=>{e.props.fontSize=t,this.invalidateLayoutCache(e)},text:(e,t)=>{e.props.text=t,this.invalidateLayoutCache(e)},textAlign:(e,t)=>{e.props.textAlign=t,this.invalidateLayoutCache(e)},color:(e,t)=>{e.props.color=t},x:(e,t)=>{e.props.x=t,e.elementBounds.valid&&(this.setElementBoundsX(e),!e.renderWindow.valid&&H(e.elementBounds,this.rendererBounds)&&this.scheduleUpdateState(e))},y:(e,t)=>{e.props.y=t,e.elementBounds.valid&&(this.setElementBoundsY(e),!e.renderWindow.valid&&H(e.elementBounds,this.rendererBounds)&&this.scheduleUpdateState(e))},contain:(e,t)=>{e.props.contain=t,this.invalidateLayoutCache(e)},width:(e,t)=>{e.props.width=t,"none"!==e.props.contain&&this.invalidateLayoutCache(e)},height:(e,t)=>{e.props.height=t,"both"===e.props.contain&&this.invalidateLayoutCache(e)},offsetY:(e,t)=>{e.props.offsetY=t,this.invalidateLayoutCache(e)},scrollable:(e,t)=>{e.props.scrollable=t,this.invalidateLayoutCache(e)},scrollY:(e,t)=>{e.props.scrollY=t,this.scheduleUpdateState(e)},letterSpacing:(e,t)=>{e.props.letterSpacing=t,this.invalidateLayoutCache(e)},lineHeight:(e,t)=>{e.props.lineHeight=t,e.resLineHeight=void 0,this.invalidateLayoutCache(e)},maxLines:(e,t)=>{e.props.maxLines=t,this.invalidateLayoutCache(e)},textBaseline:(e,t)=>{e.props.textBaseline=t,this.invalidateLayoutCache(e)},verticalAlign:(e,t)=>{e.props.verticalAlign=t,this.invalidateLayoutCache(e)},overflowSuffix:(e,t)=>{e.props.overflowSuffix=t,this.invalidateLayoutCache(e)},debug:(e,t)=>{e.props.debug=t}}}canRenderFont(e){var t=e.fontFamily;return t in this.ssdfFontFamilies||t in this.msdfFontFamilies||"$$SDF_FAILURE_TEST$$"===t}isFontFaceSupported(e){return e instanceof j}addFontFace(e){B(e instanceof j);var t=e.fontFamily,r="ssdf"===e.type?this.ssdfFontFamilies:"msdf"===e.type?this.msdfFontFamilies:void 0;if(r){var o=r[t];o||(o=new Set,r[t]=o),o.add(e)}else console.warn(`Invalid font face type: ${e.type}`)}createState(e){return{props:e,status:"initialState",updateScheduled:!1,emitter:new F,lineCache:[],forceFullLayoutCalc:!1,renderWindow:{screen:{x1:0,y1:0,x2:0,y2:0},sdf:{x1:0,y1:0,x2:0,y2:0},firstLineIdx:0,numLines:0,valid:!1},elementBounds:{x1:0,y1:0,x2:0,y2:0,valid:!1},clippingRect:{x:0,y:0,width:0,height:0,valid:!1},bufferNumFloats:0,bufferNumQuads:0,vertexBuffer:void 0,webGlBuffers:null,bufferUploaded:!1,textH:void 0,textW:void 0,distanceRange:0,trFontFace:void 0,isRenderable:!1,resLineHeight:void 0,debugData:{updateCount:0,layoutCount:0,lastLayoutNumCharacters:0,layoutSum:0,drawSum:0,drawCount:0,bufferSize:0}}}updateState(e){var t=e.trFontFace,r=e.textH,o=e.lineCache,n=e.debugData,i=e.forceFullLayoutCalc;if(n.updateCount++,"initialState"===e.status&&this.setStatus(e,"loading"),!t){if(t=this.resolveFontFace(e.props),e.trFontFace=t,!t){var s=`SdfTextRenderer: Could not resolve font face for family: '${e.props.fontFamily}'`;return console.error(s),void this.setStatus(e,"failed",new Error(s))}t.texture.setRenderableOwner(e,e.isRenderable)}if(t.loaded){B(t.data,"Font face data should be loaded"),B(t.metrics,"Font face metrics should be loaded");var a=e.props,l=a.text,d=a.fontSize,h=a.x,c=a.y,u=a.contain,f=a.width,p=a.height,v=a.verticalAlign,g=a.scrollable,m=a.overflowSuffix,x=a.maxLines,y="both"===u&&g?e.props.scrollY:0,b=e.renderWindow,w=t.data.info.size,S=d/w,A=e.resLineHeight;if(void 0===A){var C=e.props.lineHeight;A=void 0===C?Ee(t.metrics,d):C,e.resLineHeight=A}var T=A/S;e.distanceRange=S*t.data.distanceField.distanceRange;var R=24*l.length,k=e.vertexBuffer;(!k||k.length<R)&&(k=new Float32Array(2*R));var _=e.elementBounds;if(_.valid||(this.setElementBoundsX(e),this.setElementBoundsY(e),_.valid=!0),!i&&b.valid){var I=b.screen;if(h+I.x1<=_.x1&&h+I.x2>=_.x2&&c-y+I.y1<=_.y1&&c-y+I.y2>=_.y2)return void this.setStatus(e,"loaded");b.valid=!1,this.setStatus(e,"loading")}var N=e.props,E=N.offsetY,F=N.textAlign;if(!b.valid){if(!H(_,this.rendererBounds))return;ut(b,h,c,y,A,"both"===u?_.y2-_.y1:0,_,S)}var L=function(e,t,r,o,n,i,s,a,l){var d=Math.min(Math.max(s.firstLineIdx,0),a.length),h=r.metrics;B(h,"Font metrics not loaded"),B(r.data,"Font data not loaded");var c=(h.ascender-h.descender)*e,u=0;"middle"===o?u=(t-c)/2:"bottom"===o&&(u=t-c);var f=n/i,p=r.data.common.base,v=f+(h.ascender*e-p)+d*t+u;if(!(l&&v>=l/i))return{sdfX:0,sdfY:v,lineIndex:d}}(w,T,t,v,E,S,b,o,r);if(L){var z=e.props.letterSpacing,M=ct(L.lineIndex,L.sdfX,L.sdfY,l,F,f,p,d,A,z,k,u,o,b.sdf,t,i,g,m,x);e.bufferUploaded=!1,e.bufferNumFloats=M.bufferNumFloats,e.bufferNumQuads=M.bufferNumQuads,e.vertexBuffer=k,e.renderWindow=b,n.lastLayoutNumCharacters=M.layoutNumCharacters,n.bufferSize=k.byteLength,M.fullyProcessed&&(e.textW=M.maxX*S,e.textH=M.numLines*T*S),this.setStatus(e,"loaded")}else this.setStatus(e,"loaded")}else t.once("loaded",(()=>{this.scheduleUpdateState(e)}))}renderQuads(e,t,r,o,n,i){var s,a;if(e.vertexBuffer){var l=this.stage.renderer;B(l instanceof Q);var d=e.props,h=d.fontSize,c=d.color,u=d.contain,f=d.scrollable,p=d.zIndex,v=d.debug,g="both"===u&&f?e.props.scrollY:0,m=e.textW,x=void 0===m?0:m,y=e.textH,b=void 0===y?0:y,w=e.distanceRange,S=e.vertexBuffer,A=e.bufferUploaded,C=e.trFontFace,T=e.elementBounds,R=e.webGlBuffers;if(!R){var k=l.glw,_=4*Float32Array.BYTES_PER_ELEMENT,I=k.createBuffer();B(I),e.webGlBuffers=new K([{buffer:I,attributes:{a_position:{name:"a_position",size:2,type:k.FLOAT,normalized:!1,stride:_,offset:0},a_textureCoordinate:{name:"a_textureCoordinate",size:2,type:k.FLOAT,normalized:!1,stride:_,offset:2*Float32Array.BYTES_PER_ELEMENT}}}]),e.bufferUploaded=!1,B(e.webGlBuffers),R=e.webGlBuffers}if(!A){var N,E,F=l.glw,L=null!==(N=null===(E=R)||void 0===E?void 0:E.getBuffer("a_textureCoordinate"))&&void 0!==N?N:null;F.arrayBufferData(L,S,F.STATIC_DRAW),e.bufferUploaded=!0}if(B(C),f&&"both"===u){B(T.valid);var z=X(T,ft);r.valid?(e.clippingRect.valid=!0,r=D(r,z,e.clippingRect)):(e.clippingRect.valid=!0,r=$(z,e.clippingRect))}var M=new G(l.glw,l.options,R,this.sdfShader,{transform:t.getFloatArr(),color:V(c,o),size:h/((null===(s=C.data)||void 0===s?void 0:s.info.size)||0),scrollY:g,distanceRange:w,debug:v.sdfShaderDebug},o,r,{height:b,width:x},0,p,!1,n,i),P=null===(a=e.trFontFace)||void 0===a?void 0:a.texture;B(P);var O=this.stage.txManager.getCtxTexture(P);M.addTexture(O),M.length=e.bufferNumFloats,M.numQuads=e.bufferNumQuads,l.addRenderOp(M)}}setIsRenderable(e,t){var r;super.setIsRenderable(e,t),null===(r=e.trFontFace)||void 0===r||r.texture.setRenderableOwner(e,t)}destroyState(e){var t;super.destroyState(e),null===(t=e.trFontFace)||void 0===t||t.texture.setRenderableOwner(e,!1)}resolveFontFace(e){return Ie.resolveFontFace(this.fontFamilyArray,e)}releaseFontFace(e){e.resLineHeight=void 0,e.trFontFace&&(e.trFontFace.texture.setRenderableOwner(e,!1),e.trFontFace=void 0)}invalidateLayoutCache(e){e.renderWindow.valid=!1,e.elementBounds.valid=!1,e.textH=void 0,e.textW=void 0,e.lineCache=[],this.setStatus(e,"loading"),this.scheduleUpdateState(e)}setElementBoundsX(e){var t=e.props,r=t.x,o=t.contain,n=t.width,i=e.elementBounds;i.x1=r,i.x2="none"!==o?r+n:1/0}setElementBoundsY(e){var t=e.props,r=t.y,o=t.contain,n=t.height,i=e.elementBounds;i.y1=r,i.y2="both"===o?r+n:1/0}}function vt(e,t){return gt.apply(this,arguments)}function gt(){return(gt=A(C().mark((function e(t,r){var o,n,i;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Loading core extension",t),e.next=4,T.import(t);case 4:o=e.sent,e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(0),console.error(`The core extension module at '${t}' could not be loaded.`),console.error(e.t0),e.abrupt("return");case 12:if(o.default){e.next=15;break}return console.error(`The core extension module at '${t}' does not have a default export.`),e.abrupt("return");case 15:if(n=o.default,!(n.prototype instanceof q)){e.next=29;break}return i=new n,e.prev=18,e.next=21,i.run(r);case 21:e.next=27;break;case 23:e.prev=23,e.t1=e.catch(18),console.error(`The core extension at '${t}' threw an error.`),console.error(e.t1);case 27:e.next=30;break;case 29:console.error(`The core extension at '${t}' does not extend CoreExtension.`);case 30:case"end":return e.stop()}}),e,null,[[0,7],[18,23]])})))).apply(this,arguments)}function mt(e){for(var t={boolean:!0,string:!0,number:!0,undefined:!0},r=Object.keys(e),o=0;o<r.length;o++){var n=r[o];if(n){var i=e[n],s=typeof i;"string"===s&&i.length>2048&&(console.warn(`Custom Data value for ${n} is too long, it will be truncated to 2048 characters`),e[n]=i.substring(0,2048)),t[s]||(console.warn(`Custom Data value for ${n} is not a boolean, string, or number, it will be ignored`),delete e[n])}}return e}class xt extends F{constructor(e,t,r){var o,n,i,s,a;super(),k(this,"root",null),k(this,"driver",void 0),k(this,"canvas",void 0),k(this,"settings",void 0),k(this,"inspector",null),k(this,"nodes",new Map),k(this,"nextTextureId",1),k(this,"textureTracker",void 0);var l={appWidth:e.appWidth||1920,appHeight:e.appHeight||1080,txMemByteThreshold:e.txMemByteThreshold||124e6,boundsMargin:e.boundsMargin||0,deviceLogicalPixelRatio:e.deviceLogicalPixelRatio||1,devicePhysicalPixelRatio:e.devicePhysicalPixelRatio||window.devicePixelRatio,clearColor:null!==(o=e.clearColor)&&void 0!==o?o:0,coreExtensionModule:e.coreExtensionModule||null,experimental_FinalizationRegistryTextureUsageTracker:null!==(n=e.experimental_FinalizationRegistryTextureUsageTracker)&&void 0!==n&&n,textureCleanupOptions:e.textureCleanupOptions||{},fpsUpdateInterval:e.fpsUpdateInterval||0,numImageWorkers:void 0!==e.numImageWorkers?e.numImageWorkers:2,enableContextSpy:null!==(i=e.enableContextSpy)&&void 0!==i&&i,enableInspector:null!==(s=e.enableInspector)&&void 0!==s&&s,renderMode:null!==(a=e.renderMode)&&void 0!==a?a:"webgl"};this.settings=l;var d=l.appWidth,h=l.appHeight,c=l.deviceLogicalPixelRatio,u=l.devicePhysicalPixelRatio,f=l.enableInspector,p=e=>{this.driver.releaseTexture(e)},v=l.experimental_FinalizationRegistryTextureUsageTracker&&"function"==typeof FinalizationRegistry;this.textureTracker=v?new xe(p):new me(p,this.settings.textureCleanupOptions);var g=d*c,m=h*c;this.driver=r;var x,y=document.createElement("canvas");if(this.canvas=y,y.width=g*u,y.height=m*u,y.style.width=`${g}px`,y.style.height=`${m}px`,!(x="string"==typeof t?document.getElementById(t):t))throw new Error("Could not find target element");r.onCreateNode=e=>{this.nodes.set(e.id,e)},r.onBeforeDestroyNode=e=>{this.nodes.delete(e.id)},r.onFpsUpdate=e=>{this.emit("fpsUpdate",e)},r.onFrameTick=e=>{this.emit("frameTick",e)},r.onIdle=()=>{this.emit("idle")},x.appendChild(y),f&&!I()&&(this.inspector=new Se(y,l))}init(){var e=this;return A(C().mark((function t(){return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.driver.init(e,e.settings,e.canvas);case 2:e.root=e.driver.getRootNode();case 3:case"end":return t.stop()}}),t)})))()}createNode(e){return this.inspector?this.inspector.createNode(this.driver,this.resolveNodeDefaults(e)):this.driver.createNode(this.resolveNodeDefaults(e))}createTextNode(e){var t,r,o,n,i,s,a,l,d,h,c,u,f,p,v,g,m,x,y=null!==(t=e.fontSize)&&void 0!==t?t:16,b=R(R({},this.resolveNodeDefaults(e)),{},{text:null!==(r=e.text)&&void 0!==r?r:"",textRendererOverride:null!==(o=e.textRendererOverride)&&void 0!==o?o:null,fontSize:y,fontFamily:null!==(n=e.fontFamily)&&void 0!==n?n:"sans-serif",fontStyle:null!==(i=e.fontStyle)&&void 0!==i?i:"normal",fontWeight:null!==(s=e.fontWeight)&&void 0!==s?s:"normal",fontStretch:null!==(a=e.fontStretch)&&void 0!==a?a:"normal",textAlign:null!==(l=e.textAlign)&&void 0!==l?l:"left",contain:null!==(d=e.contain)&&void 0!==d?d:"none",scrollable:null!==(h=e.scrollable)&&void 0!==h&&h,scrollY:null!==(c=e.scrollY)&&void 0!==c?c:0,offsetY:null!==(u=e.offsetY)&&void 0!==u?u:0,letterSpacing:null!==(f=e.letterSpacing)&&void 0!==f?f:0,lineHeight:e.lineHeight,maxLines:null!==(p=e.maxLines)&&void 0!==p?p:0,textBaseline:null!==(v=e.textBaseline)&&void 0!==v?v:"alphabetic",verticalAlign:null!==(g=e.verticalAlign)&&void 0!==g?g:"middle",overflowSuffix:null!==(m=e.overflowSuffix)&&void 0!==m?m:"...",debug:null!==(x=e.debug)&&void 0!==x?x:{}});return this.inspector?this.inspector.createTextNode(this.driver,b):this.driver.createTextNode(b)}resolveNodeDefaults(e){var t,r,o,n,i,s,a,l,d,h,c,u,f,p,v,g,m,x,y,b,w,S,A,C,T,R,k,_,B,I,N,E,F,L,z,M,D,P,O,U,W,Y,H,j,Q,K,X,$,G=null!==(t=e.color)&&void 0!==t?t:4294967295,V=null!==(r=null!==(o=null!==(n=e.colorTl)&&void 0!==n?n:e.colorTop)&&void 0!==o?o:e.colorLeft)&&void 0!==r?r:G,q=null!==(i=null!==(s=null!==(a=e.colorTr)&&void 0!==a?a:e.colorTop)&&void 0!==s?s:e.colorRight)&&void 0!==i?i:G,Z=null!==(l=null!==(d=null!==(h=e.colorBl)&&void 0!==h?h:e.colorBottom)&&void 0!==d?d:e.colorLeft)&&void 0!==l?l:G,J=null!==(c=null!==(u=null!==(f=e.colorBr)&&void 0!==f?f:e.colorBottom)&&void 0!==u?u:e.colorRight)&&void 0!==c?c:G,ee=mt(null!==(p=e.data)&&void 0!==p?p:{});return{x:null!==(v=e.x)&&void 0!==v?v:0,y:null!==(g=e.y)&&void 0!==g?g:0,width:null!==(m=e.width)&&void 0!==m?m:0,height:null!==(x=e.height)&&void 0!==x?x:0,alpha:null!==(y=e.alpha)&&void 0!==y?y:1,autosize:null!==(b=e.autosize)&&void 0!==b&&b,clipping:null!==(w=e.clipping)&&void 0!==w&&w,color:G,colorTop:null!==(S=e.colorTop)&&void 0!==S?S:G,colorBottom:null!==(A=e.colorBottom)&&void 0!==A?A:G,colorLeft:null!==(C=e.colorLeft)&&void 0!==C?C:G,colorRight:null!==(T=e.colorRight)&&void 0!==T?T:G,colorBl:Z,colorBr:J,colorTl:V,colorTr:q,zIndex:null!==(R=e.zIndex)&&void 0!==R?R:0,zIndexLocked:null!==(k=e.zIndexLocked)&&void 0!==k?k:0,parent:null!==(_=e.parent)&&void 0!==_?_:null,texture:null!==(B=e.texture)&&void 0!==B?B:null,shader:null!==(I=e.shader)&&void 0!==I?I:null,src:null!==(N=e.src)&&void 0!==N?N:"",scale:null!==(E=e.scale)&&void 0!==E?E:null,scaleX:null!==(F=null!==(L=e.scaleX)&&void 0!==L?L:e.scale)&&void 0!==F?F:1,scaleY:null!==(z=null!==(M=e.scaleY)&&void 0!==M?M:e.scale)&&void 0!==z?z:1,mount:null!==(D=e.mount)&&void 0!==D?D:0,mountX:null!==(P=null!==(O=e.mountX)&&void 0!==O?O:e.mount)&&void 0!==P?P:0,mountY:null!==(U=null!==(W=e.mountY)&&void 0!==W?W:e.mount)&&void 0!==U?U:0,pivot:null!==(Y=e.pivot)&&void 0!==Y?Y:.5,pivotX:null!==(H=null!==(j=e.pivotX)&&void 0!==j?j:e.pivot)&&void 0!==H?H:.5,pivotY:null!==(Q=null!==(K=e.pivotY)&&void 0!==K?K:e.pivot)&&void 0!==Q?Q:.5,rotation:null!==(X=e.rotation)&&void 0!==X?X:0,rtt:null!==($=e.rtt)&&void 0!==$&&$,data:ee}}destroyNode(e){return this.inspector&&this.inspector.destroyNode(e),this.driver.destroyNode(e)}createTexture(e,t,r){var o=this.nextTextureId++,n={descType:"texture",txType:e,props:t,options:R(R({},r),{},{id:o})};return this.textureTracker.registerTexture(n),n}createShader(e,t){return{descType:"shader",shType:e,props:t}}getNodeById(e){return this.nodes.get(e)||null}toggleFreeze(){throw new Error("Not implemented")}advanceFrame(){throw new Error("Not implemented")}rerender(){throw new Error("Not implemented")}}class yt extends F{constructor(e,t,r){var o,n,i,s,a,l;super(),k(this,"node",void 0),k(this,"props",void 0),k(this,"propStartValues",{}),k(this,"restoreValues",{}),k(this,"settings",void 0),k(this,"progress",0),k(this,"delayFor",0),k(this,"timingFunction",void 0),k(this,"propsList",void 0),this.node=e,this.props=t,this.propStartValues={},this.propsList=Object.keys(t),this.propsList.forEach((t=>{this.propStartValues[t]=e[t]}));var d=r.easing||"linear",h=null!==(o=r.delay)&&void 0!==o?o:0;this.settings={duration:null!==(n=r.duration)&&void 0!==n?n:0,delay:h,easing:d,loop:null!==(i=r.loop)&&void 0!==i&&i,repeat:null!==(s=r.repeat)&&void 0!==s?s:0,repeatDelay:null!==(a=r.repeatDelay)&&void 0!==a?a:0,stopMethod:null!==(l=r.stopMethod)&&void 0!==l&&l},this.timingFunction=Z(d),this.delayFor=h}reset(){this.progress=0,this.delayFor=this.settings.delay||0,this.update(0)}restore(){this.reset(),Object.keys(this.props).forEach((e=>{this.node[e]=this.propStartValues[e]}))}reverse(){this.progress=0,Object.keys(this.props).forEach((e=>{var t=this.props[e],r=this.propStartValues[e];this.props[e]=r,this.propStartValues[e]=t})),this.settings.loop||(this.settings.stopMethod=!1)}applyEasing(e,t,r){return(this.timingFunction(e)||e)*(r-t)+t}update(e){var t=this.settings,r=t.duration,o=t.loop,n=t.easing,i=t.stopMethod,s=this.delayFor;if(0!==r||0!==s){if(this.delayFor>0){if(this.delayFor-=e,this.delayFor>=0)return;e=-this.delayFor,this.delayFor=0}if(0!==r)if(0===this.progress&&this.emit("animating",{}),this.progress+=e/r,this.progress>1&&(this.progress=o?0:1,i))this.emit("finished",{});else{for(var a=0;a<this.propsList.length;a++){var l=this.propsList[a],d=this.props[l],h=this.propStartValues[l],c=d;if(-1===l.indexOf("color"))this.node[l]=n?this.applyEasing(this.progress,h,c):h+(c-h)*this.progress;else{if(h===c){this.node[l]=h;continue}if(n){var u=this.timingFunction(this.progress)||this.progress,f=J(h,c,u);this.node[l]=f;continue}this.node[l]=J(h,c,this.progress)}}1===this.progress&&this.emit("finished",{})}else this.emit("finished",{})}else this.emit("finished",{})}}class bt extends F{constructor(e,t){super(),k(this,"manager",void 0),k(this,"animation",void 0),k(this,"stoppedPromise",void 0),k(this,"stoppedResolve",null),k(this,"state",void 0),this.manager=e,this.animation=t,this.state="stopped",this.stoppedPromise=Promise.resolve(),this.onAnimating=this.onAnimating.bind(this),this.onFinished=this.onFinished.bind(this)}start(){return"running"!==this.state&&(this.makeStoppedPromise(),this.registerAnimation(),this.state="running"),this}stop(){return this.unregisterAnimation(),null!==this.stoppedResolve&&(this.stoppedResolve(),this.stoppedResolve=null,this.emit("stopped",this)),this.animation.reset(),this.state="stopped",this}pause(){return this.unregisterAnimation(),this.state="paused",this}restore(){return this.stoppedResolve=null,this.animation.restore(),this}waitUntilStopped(){return this.stoppedPromise}registerAnimation(){this.animation.once("finished",this.onFinished),this.animation.on("animating",this.onAnimating),this.manager.registerAnimation(this.animation)}unregisterAnimation(){this.manager.unregisterAnimation(this.animation),this.animation.off("finished",this.onFinished),this.animation.off("animating",this.onAnimating)}makeStoppedPromise(){null===this.stoppedResolve&&(this.stoppedPromise=new Promise((e=>{this.stoppedResolve=e})))}onFinished(){B(this.stoppedResolve);var e=this.animation.settings,t=e.loop;"reverse"!==e.stopMethod?t||(this.unregisterAnimation(),this.stoppedResolve(),this.stoppedResolve=null,this.emit("stopped",this),this.state="stopped"):this.animation.reverse()}onAnimating(){this.emit("animating",this)}}class wt{constructor(){k(this,"ta",void 0),k(this,"tb",void 0),k(this,"tx",void 0),k(this,"tc",void 0),k(this,"td",void 0),k(this,"ty",void 0),k(this,"_floatArr",null),k(this,"mutation",void 0),this.ta=0,this.tb=0,this.tx=0,this.tc=0,this.td=0,this.ty=0,this.mutation=!0}static get temp(){return At}static multiply(e,t,r){var o=e.ta*t.ta+e.tb*t.tc,n=e.ta*t.tb+e.tb*t.td,i=e.ta*t.tx+e.tb*t.ty+e.tx,s=e.tc*t.ta+e.td*t.tc,a=e.tc*t.tb+e.td*t.td,l=e.tc*t.tx+e.td*t.ty+e.ty;return r||(r=new wt),r.ta=o,r.tb=n,r.tx=i,r.tc=s,r.td=a,r.ty=l,r.mutation=!0,r}static identity(e){return e||(e=new wt),e.ta=1,e.tb=0,e.tx=0,e.tc=0,e.td=1,e.ty=0,e.mutation=!0,e}static translate(e,t,r){return r||(r=new wt),r.ta=1,r.tb=0,r.tx=e,r.tc=0,r.td=1,r.ty=t,r.mutation=!0,r}static scale(e,t,r){return r||(r=new wt),r.ta=e,r.tb=0,r.tx=0,r.tc=0,r.td=t,r.ty=0,r.mutation=!0,r}static rotate(e,t){var r=Math.cos(e),o=Math.sin(e);return t||(t=new wt),t.ta=r,t.tb=-o,t.tx=0,t.tc=o,t.td=r,t.ty=0,t.mutation=!0,t}static copy(e,t){return t||(t=new wt),t.ta=e.ta,t.tc=e.tc,t.tb=e.tb,t.td=e.td,t.tx=e.tx,t.ty=e.ty,t.mutation=!0,t}translate(e,t){return this.tx=this.ta*e+this.tb*t+this.tx,this.ty=this.tc*e+this.td*t+this.ty,this.mutation=!0,this}scale(e,t){return this.ta=this.ta*e,this.tb=this.tb*t,this.tc=this.tc*e,this.td=this.td*t,this.mutation=!0,this}rotate(e){if(0===e||!(e%Math.PI*2))return this;var t=Math.cos(e),r=Math.sin(e),o=this.ta*t+this.tb*r,n=this.tb*t-this.ta*r,i=this.tc*t+this.td*r,s=this.td*t-this.tc*r;return this.ta=o,this.tb=n,this.tc=i,this.td=s,this.mutation=!0,this}multiply(e){return wt.multiply(this,e,this)}getFloatArr(){return this._floatArr||(this._floatArr=new Float32Array(9)),this.mutation&&(this._floatArr[0]=this.ta,this._floatArr[1]=this.tc,this._floatArr[2]=0,this._floatArr[3]=this.tb,this._floatArr[4]=this.td,this._floatArr[5]=0,this._floatArr[6]=this.tx,this._floatArr[7]=this.ty,this._floatArr[8]=1,this.mutation=!1),this._floatArr}}var St,At=new wt;class Ct{constructor(e){k(this,"data",void 0),this.data=new Float32Array(8),e&&(this.data[0]=e[0],this.data[2]=e[2],this.data[4]=e[4],this.data[6]=e[6],this.data[1]=e[1],this.data[3]=e[3],this.data[5]=e[5],this.data[7]=e[7])}static translate(e,t,r,o,n,i,s,a,l){return l||(l=new Ct),l.data[0]=e,l.data[2]=r,l.data[4]=n,l.data[6]=s,l.data[1]=t,l.data[3]=o,l.data[5]=i,l.data[7]=a,l}get x1(){return this.data[0]}get x2(){return this.data[2]}get x3(){return this.data[4]}get x4(){return this.data[6]}get y1(){return this.data[1]}get y2(){return this.data[3]}get y3(){return this.data[5]}get y4(){return this.data[7]}}!function(e){e[e.Init=0]="Init",e[e.OutOfBounds=2]="OutOfBounds",e[e.InBounds=4]="InBounds",e[e.InViewport=8]="InViewport"}(St||(St={}));var Tt,Rt=new Map;Rt.set(St.Init,"init"),Rt.set(St.OutOfBounds,"outOfBounds"),Rt.set(St.InBounds,"inBounds"),Rt.set(St.InViewport,"inViewport"),function(e){e[e.Children=1]="Children",e[e.ScaleRotate=2]="ScaleRotate",e[e.Local=4]="Local",e[e.Global=8]="Global",e[e.Clipping=16]="Clipping",e[e.CalculatedZIndex=32]="CalculatedZIndex",e[e.ZIndexSortedChildren=64]="ZIndexSortedChildren",e[e.PremultipliedColors=128]="PremultipliedColors",e[e.WorldAlpha=256]="WorldAlpha",e[e.RenderState=512]="RenderState",e[e.IsRenderable=1024]="IsRenderable",e[e.RenderTexture=2048]="RenderTexture",e[e.ParentRenderTexture=4096]="ParentRenderTexture",e[e.None=0]="None",e[e.All=8191]="All"}(Tt||(Tt={}));class kt extends F{constructor(e,t){super(),k(this,"stage",void 0),k(this,"children",[]),k(this,"props",void 0),k(this,"updateType",Tt.All),k(this,"globalTransform",void 0),k(this,"scaleRotateTransform",void 0),k(this,"localTransform",void 0),k(this,"renderCoords",void 0),k(this,"renderBound",void 0),k(this,"strictBound",void 0),k(this,"preloadBound",void 0),k(this,"clippingRect",{x:0,y:0,width:0,height:0,valid:!1}),k(this,"isRenderable",!1),k(this,"renderState",St.Init),k(this,"worldAlpha",1),k(this,"premultipliedColorTl",0),k(this,"premultipliedColorTr",0),k(this,"premultipliedColorBl",0),k(this,"premultipliedColorBr",0),k(this,"calcZIndex",0),k(this,"hasRTTupdates",!1),k(this,"parentHasRenderTexture",!1),k(this,"onTextureLoaded",((e,t)=>{var r;this.autosizeNode(t),this.stage.requestRender(),this.parentHasRenderTexture&&this.setRTTUpdates(1),this.emit("loaded",{type:"texture",dimensions:t}),"contain"===(null===(r=this.props.textureOptions)||void 0===r||null===(r=r.resizeMode)||void 0===r?void 0:r.type)&&this.setUpdateType(Tt.Local)})),k(this,"onTextureFailed",((e,t)=>{this.emit("failed",{type:"texture",error:t})})),k(this,"onTextureFreed",(e=>{this.emit("freed",{type:"texture"})})),this.stage=e,this.props=R(R({},t),{},{parent:null}),this.parent=t.parent,this.rtt=t.rtt,this.updateScaleRotateTransform()}loadTexture(e,t,r=null){this.props.texture&&this.unloadTexture();var o=this.stage.txManager.loadTexture(e,t,r);this.props.texture=o,this.props.textureOptions=r,this.setUpdateType(Tt.IsRenderable),queueMicrotask((()=>{"loaded"===o.state?this.onTextureLoaded(o,o.dimensions):"failed"===o.state?this.onTextureFailed(o,o.error):"freed"===o.state&&this.onTextureFreed(o),o.on("loaded",this.onTextureLoaded),o.on("failed",this.onTextureFailed),o.on("freed",this.onTextureFreed)}))}unloadTexture(){if(this.props.texture){var e=this.props.texture;e.off("loaded",this.onTextureLoaded),e.off("failed",this.onTextureFailed),e.off("freed",this.onTextureFreed),e.setRenderableOwner(this,!1)}this.props.texture=null,this.props.textureOptions=null,this.setUpdateType(Tt.IsRenderable)}autosizeNode(e){this.autosize&&(this.width=e.width,this.height=e.height)}loadShader(e,t){var r=this.stage.renderer.getShaderManager();B(r);var o=r.loadShader(e,t),n=o.shader,i=o.props;this.props.shader=n,this.props.shaderProps=i,this.setUpdateType(Tt.IsRenderable)}setUpdateType(e){this.updateType|=e;var t=this.props.parent;!t||t.updateType&Tt.Children||t.setUpdateType(Tt.Children),this.parentHasRenderTexture&&this.setRTTUpdates(e)}sortChildren(){this.children.sort(((e,t)=>e.calcZIndex-t.calcZIndex))}updateScaleRotateTransform(){this.scaleRotateTransform=wt.rotate(this.props.rotation,this.scaleRotateTransform).scale(this.props.scaleX,this.props.scaleY)}updateLocalTransform(){var e;B(this.scaleRotateTransform);var t=this.props.pivotX*this.props.width,r=this.props.pivotY*this.props.height,o=this.props.mountX*this.props.width,n=this.props.mountY*this.props.height;this.localTransform=wt.translate(t-o+this.props.x,r-n+this.props.y,this.localTransform).multiply(this.scaleRotateTransform).translate(-t,-r);var i=this.props,s=i.width,a=i.height,l=this.props.texture;if(l&&l.dimensions&&"contain"===(null===(e=this.props.textureOptions)||void 0===e||null===(e=e.resizeMode)||void 0===e?void 0:e.type)){var d=1,h=1,c=0,u=0,f=l.dimensions,p=f.width,v=f.height;if(p/v>s/a){var g=v*(s/p);u=(a-g)/2,h=g/a}else{var m=p*(a/v);c=(s-m)/2,d=m/s}this.localTransform.translate(c,u).scale(d,h)}this.setUpdateType(Tt.Global)}update(e,t){this.updateType&Tt.ScaleRotate&&(this.updateScaleRotateTransform(),this.setUpdateType(Tt.Local)),this.updateType&Tt.Local&&(this.updateLocalTransform(),this.setUpdateType(Tt.Global));var r,o=this.props.parent,n=Tt.None;if(this.updateType&Tt.ParentRenderTexture)for(var i=this.parent;i;)i.rtt&&(this.parentHasRenderTexture=!0),i=i.parent;(this.updateType^Tt.All&&this.updateType&Tt.RenderTexture&&this.children.forEach((e=>{e.setUpdateType(Tt.All)})),this.updateType&Tt.Global)&&(B(this.localTransform),this.globalTransform=wt.copy((null==o?void 0:o.globalTransform)||this.localTransform,this.globalTransform),this.parentHasRenderTexture&&null!==(r=this.props.parent)&&void 0!==r&&r.rtt&&(this.globalTransform=wt.identity()),o&&this.globalTransform.multiply(this.localTransform),this.calculateRenderCoords(),this.updateBoundingRect(),this.setUpdateType(Tt.Clipping|Tt.RenderState|Tt.Children),n|=Tt.Global);this.updateType&Tt.Clipping&&(this.calculateClippingRect(t),this.setUpdateType(Tt.Children),n|=Tt.Clipping),this.updateType&Tt.WorldAlpha&&(this.worldAlpha=o?o.worldAlpha*this.props.alpha:this.props.alpha,this.setUpdateType(Tt.Children|Tt.PremultipliedColors|Tt.IsRenderable),n|=Tt.WorldAlpha),this.updateType&Tt.PremultipliedColors&&(this.premultipliedColorTl=O(this.props.colorTl,this.worldAlpha,!0),this.props.colorTl===this.props.colorTr&&this.props.colorBl===this.props.colorBr&&this.props.colorTl===this.props.colorBl?this.premultipliedColorTr=this.premultipliedColorBl=this.premultipliedColorBr=this.premultipliedColorTl:(this.premultipliedColorTr=O(this.props.colorTr,this.worldAlpha,!0),this.premultipliedColorBl=O(this.props.colorBl,this.worldAlpha,!0),this.premultipliedColorBr=O(this.props.colorBr,this.worldAlpha,!0))),this.updateType&Tt.RenderState&&(this.updateRenderState(t),this.setUpdateType(Tt.IsRenderable)),this.updateType&Tt.IsRenderable&&this.updateIsRenderable(),o&&this.updateType&Tt.CalculatedZIndex&&(this.calculateZIndex(),o.setUpdateType(Tt.ZIndexSortedChildren)),this.updateType&Tt.Children&&this.children.length&&!this.rtt&&this.children.forEach((t=>{t.setUpdateType(n),0!==t.updateType&&t.update(e,this.clippingRect)})),this.updateType&Tt.ZIndexSortedChildren&&this.sortChildren(),this.updateType=0}checkRenderProps(){return!!this.props.texture||!(!this.props.width||!this.props.height)&&(!!this.props.shader||(!!this.props.clipping||(0!==this.props.color||(0!==this.props.colorTop||(0!==this.props.colorBottom||(0!==this.props.colorLeft||(0!==this.props.colorRight||(0!==this.props.colorTl||(0!==this.props.colorTr||(0!==this.props.colorBl||0!==this.props.colorBr))))))))))}checkRenderBounds(e){B(this.renderBound);var t=e.width||this.stage.root.width,r=e.height||this.stage.root.height;this.strictBound=z(e.x,e.y,e.x+t,e.y+r,this.strictBound);var o=this.stage.boundsMargin;return this.preloadBound=z(e.x-o[3],e.y-o[0],e.x+t+o[1],e.y+r+o[2],this.preloadBound),ee(this.renderBound,this.strictBound)?St.InViewport:ee(this.renderBound,this.preloadBound)?St.InBounds:St.OutOfBounds}updateRenderState(e){var t=this.checkRenderBounds(e);if(t!==this.renderState){var r=this.renderState;this.renderState=t,r===St.InViewport&&this.emit("outOfViewport",{previous:r,current:t}),(r<St.InBounds&&t===St.InViewport||r>St.InBounds&&t===St.OutOfBounds)&&(this.emit(Rt.get(St.InBounds),{previous:r,current:t}),r=St.InBounds);var o=Rt.get(t);B(o),this.emit(o,{previous:r,current:t})}}setRenderState(e){e!==this.renderState&&(this.renderState=e,this.emit(St[e]))}updateIsRenderable(){var e;e=!(0===this.worldAlpha||!this.checkRenderProps())&&this.renderState>St.OutOfBounds,this.isRenderable!==e&&(this.isRenderable=e,this.onChangeIsRenderable(e))}onChangeIsRenderable(e){var t;null===(t=this.props.texture)||void 0===t||t.setRenderableOwner(this,e)}calculateRenderCoords(){var e=this.width,t=this.height,r=this.globalTransform;B(r);var o=r.tx,n=r.ty,i=r.ta,s=r.tb,a=r.tc,l=r.td;if(0===s&&0===a){var d=o,h=o+e*i,c=n,u=n+t*l;this.renderCoords=Ct.translate(d,c,h,c,h,u,d,u,this.renderCoords)}else this.renderCoords=Ct.translate(o,n,o+e*i,n+e*a,o+e*i+t*s,n+e*a+t*l,o+t*s,n+t*l,this.renderCoords)}updateBoundingRect(){var e=this.renderCoords,t=this.globalTransform;B(t),B(e);var r=t.tb,o=t.tc,n=e.x1,i=e.y1,s=e.x3,a=e.y3;if(0===r||0===o)this.renderBound=z(n,i,s,a,this.renderBound);else{var l=e.x2,d=e.x4,h=e.y2,c=e.y4;this.renderBound=z(Math.min(n,l,s,d),Math.min(i,h,a,c),Math.max(n,l,s,d),Math.max(i,h,a,c),this.renderBound)}}calculateClippingRect(e){B(this.globalTransform);var t=this.clippingRect,r=this.props,o=this.globalTransform,n=r.clipping,i=0!==o.tb||0!==o.tc;n&&!i?(t.x=o.tx,t.y=o.ty,t.width=this.width*o.ta,t.height=this.height*o.td,t.valid=!0):t.valid=!1,e.valid&&t.valid?D(e,t,t):e.valid&&($(e,t),t.valid=!0)}calculateZIndex(){var e,t,r=this.props,o=r.zIndex||0,n=(null===(e=r.parent)||void 0===e?void 0:e.zIndex)||0,i=o;null!==(t=r.parent)&&void 0!==t&&t.zIndexLocked&&(i=o<n?o:n),this.calcZIndex=i}destroy(){this.unloadTexture(),this.clippingRect.valid=!1,this.isRenderable=!1,delete this.renderCoords,delete this.renderBound,delete this.strictBound,delete this.preloadBound,delete this.globalTransform,delete this.scaleRotateTransform,delete this.localTransform,this.props.texture=null,this.props.shader=null,this.rtt&&this.stage.renderer.removeRTTNode(this),this.removeAllListeners(),this.parent=null}renderQuads(e){var t=this.props,r=t.width,o=t.height,n=t.texture,i=t.textureOptions,s=t.shader,a=t.shaderProps,l=t.rtt;if(this.parentHasRenderTexture){if(!e.renderToTextureActive)return;if(this.parentRenderTexture!==e.activeRttNode)return}var d=this.premultipliedColorTl,h=this.premultipliedColorTr,c=this.premultipliedColorBl,u=this.premultipliedColorBr,f=this.zIndex,p=this.worldAlpha,v=this.globalTransform,g=this.clippingRect;B(v),e.addQuad({width:r,height:o,colorTl:d,colorTr:h,colorBl:c,colorBr:u,texture:n,textureOptions:i,zIndex:f,shader:s,shaderProps:a,alpha:p,clippingRect:g,tx:v.tx,ty:v.ty,ta:v.ta,tb:v.tb,tc:v.tc,td:v.td,rtt:l,parentHasRenderTexture:this.parentHasRenderTexture,framebufferDimensions:this.framebufferDimensions})}get id(){return this.props.id}get x(){return this.props.x}set x(e){this.props.x!==e&&(this.props.x=e,this.setUpdateType(Tt.Local))}get absX(){var e,t;return this.props.x+((null===(e=this.props.parent)||void 0===e?void 0:e.absX)||(null===(t=this.props.parent)||void 0===t||null===(t=t.globalTransform)||void 0===t?void 0:t.tx)||0)}get absY(){var e,t;return this.props.y+(null!==(e=null===(t=this.props.parent)||void 0===t?void 0:t.absY)&&void 0!==e?e:0)}get y(){return this.props.y}set y(e){this.props.y!==e&&(this.props.y=e,this.setUpdateType(Tt.Local))}get width(){return this.props.width}set width(e){this.props.width!==e&&(this.props.width=e,this.setUpdateType(Tt.Local),this.props.rtt&&this.setUpdateType(Tt.RenderTexture))}get height(){return this.props.height}set height(e){this.props.height!==e&&(this.props.height=e,this.setUpdateType(Tt.Local),this.props.rtt&&this.setUpdateType(Tt.RenderTexture))}get scale(){return this.scaleX}set scale(e){this.scaleX=e,this.scaleY=e}get scaleX(){return this.props.scaleX}set scaleX(e){this.props.scaleX!==e&&(this.props.scaleX=e,this.setUpdateType(Tt.ScaleRotate))}get scaleY(){return this.props.scaleY}set scaleY(e){this.props.scaleY!==e&&(this.props.scaleY=e,this.setUpdateType(Tt.ScaleRotate))}get mount(){return this.props.mount}set mount(e){this.props.mountX===e&&this.props.mountY===e||(this.props.mountX=e,this.props.mountY=e,this.props.mount=e,this.setUpdateType(Tt.Local))}get mountX(){return this.props.mountX}set mountX(e){this.props.mountX!==e&&(this.props.mountX=e,this.setUpdateType(Tt.Local))}get mountY(){return this.props.mountY}set mountY(e){this.props.mountY!==e&&(this.props.mountY=e,this.setUpdateType(Tt.Local))}get pivot(){return this.props.pivot}set pivot(e){this.props.pivotX===e&&this.props.pivotY===e||(this.props.pivotX=e,this.props.pivotY=e,this.props.pivot=e,this.setUpdateType(Tt.Local))}get pivotX(){return this.props.pivotX}set pivotX(e){this.props.pivotX!==e&&(this.props.pivotX=e,this.setUpdateType(Tt.Local))}get pivotY(){return this.props.pivotY}set pivotY(e){this.props.pivotY!==e&&(this.props.pivotY=e,this.setUpdateType(Tt.Local))}get rotation(){return this.props.rotation}set rotation(e){this.props.rotation!==e&&(this.props.rotation=e,this.setUpdateType(Tt.ScaleRotate))}get alpha(){return this.props.alpha}set alpha(e){this.props.alpha=e,this.setUpdateType(Tt.PremultipliedColors|Tt.WorldAlpha)}get autosize(){return this.props.autosize}set autosize(e){this.props.autosize=e}get clipping(){return this.props.clipping}set clipping(e){this.props.clipping=e,this.setUpdateType(Tt.Clipping)}get color(){return this.props.color}set color(e){this.props.colorTl===e&&this.props.colorTr===e&&this.props.colorBl===e&&this.props.colorBr===e||(this.colorTl=e,this.colorTr=e,this.colorBl=e,this.colorBr=e),this.props.color=e,this.setUpdateType(Tt.PremultipliedColors)}get colorTop(){return this.props.colorTop}set colorTop(e){this.props.colorTl===e&&this.props.colorTr===e||(this.colorTl=e,this.colorTr=e),this.props.colorTop=e,this.setUpdateType(Tt.PremultipliedColors)}get colorBottom(){return this.props.colorBottom}set colorBottom(e){this.props.colorBl===e&&this.props.colorBr===e||(this.colorBl=e,this.colorBr=e),this.props.colorBottom=e,this.setUpdateType(Tt.PremultipliedColors)}get colorLeft(){return this.props.colorLeft}set colorLeft(e){this.props.colorTl===e&&this.props.colorBl===e||(this.colorTl=e,this.colorBl=e),this.props.colorLeft=e,this.setUpdateType(Tt.PremultipliedColors)}get colorRight(){return this.props.colorRight}set colorRight(e){this.props.colorTr===e&&this.props.colorBr===e||(this.colorTr=e,this.colorBr=e),this.props.colorRight=e,this.setUpdateType(Tt.PremultipliedColors)}get colorTl(){return this.props.colorTl}set colorTl(e){this.props.colorTl=e,this.setUpdateType(Tt.PremultipliedColors)}get colorTr(){return this.props.colorTr}set colorTr(e){this.props.colorTr=e,this.setUpdateType(Tt.PremultipliedColors)}get colorBl(){return this.props.colorBl}set colorBl(e){this.props.colorBl=e,this.setUpdateType(Tt.PremultipliedColors)}get colorBr(){return this.props.colorBr}set colorBr(e){this.props.colorBr=e,this.setUpdateType(Tt.PremultipliedColors)}get zIndexLocked(){return this.props.zIndexLocked||0}set zIndexLocked(e){this.props.zIndexLocked=e,this.setUpdateType(Tt.CalculatedZIndex|Tt.Children),this.children.forEach((e=>{e.setUpdateType(Tt.CalculatedZIndex)}))}get zIndex(){return this.props.zIndex}set zIndex(e){this.props.zIndex=e,this.setUpdateType(Tt.CalculatedZIndex|Tt.Children),this.children.forEach((e=>{e.setUpdateType(Tt.CalculatedZIndex)}))}get parent(){return this.props.parent}set parent(e){var t=this.props.parent;if(t!==e){if(this.props.parent=e,t){var r=t.children.indexOf(this);B(-1!==r,"CoreNode.parent: Node not found in old parent's children!"),t.children.splice(r,1),t.setUpdateType(Tt.Children|Tt.ZIndexSortedChildren)}e&&(e.children.push(this),this.setUpdateType(Tt.All),e.setUpdateType(Tt.Children|Tt.ZIndexSortedChildren),(e.rtt||e.parentHasRenderTexture)&&this.setRTTUpdates(Tt.All)),this.updateScaleRotateTransform()}}get rtt(){return this.props.rtt}set rtt(e){var t,r;e?(this.props.rtt=!0,this.hasRTTupdates=!0,this.setUpdateType(Tt.All),this.children.forEach((e=>{e.setUpdateType(Tt.All)})),null===(t=this.stage.renderer)||void 0===t||t.renderToTexture(this)):this.props.rtt&&(this.props.rtt=!1,this.unloadTexture(),this.setUpdateType(Tt.All),this.children.forEach((e=>{e.parentHasRenderTexture=!1})),null===(r=this.stage.renderer)||void 0===r||r.removeRTTNode(this))}get framebufferDimensions(){return this.parentHasRenderTexture&&!this.rtt&&this.parent?this.parent.framebufferDimensions:{width:this.width,height:this.height}}get parentRenderTexture(){for(var e=this.parent;e;){if(e.rtt)return e;e=e.parent}return null}get texture(){return this.props.texture}setRTTUpdates(e){var t;this.hasRTTupdates=!0,null===(t=this.parent)||void 0===t||t.setRTTUpdates(e)}}var _t=1;function Bt(){return _t++}class It extends F{constructor(e,t,r,o){var n;super(),k(this,"rendererMain",void 0),k(this,"stage",void 0),k(this,"id",void 0),k(this,"coreNode",void 0),k(this,"_children",[]),k(this,"_src",""),k(this,"_parent",null),k(this,"_texture",null),k(this,"_shader",null),k(this,"_data",{}),k(this,"onTextureLoaded",((e,t)=>{this.emit("loaded",t)})),k(this,"onTextureFailed",((e,t)=>{this.emit("failed",t)})),k(this,"onTextureFreed",((e,t)=>{this.emit("freed",t)})),k(this,"onOutOfBounds",((e,t)=>{this.emit("outOfBounds",t)})),k(this,"onInBounds",((e,t)=>{this.emit("inBounds",t)})),k(this,"onOutOfViewport",((e,t)=>{this.emit("outOfViewport",t)})),k(this,"onInViewport",((e,t)=>{this.emit("inViewport",t)})),this.rendererMain=t,this.stage=r,this.id=null!==(n=null==o?void 0:o.id)&&void 0!==n?n:Bt(),this.coreNode=o||new kt(this.stage,{id:this.id,x:e.x,y:e.y,width:e.width,height:e.height,alpha:e.alpha,autosize:e.autosize,clipping:e.clipping,color:e.color,colorTop:e.colorTop,colorBottom:e.colorBottom,colorLeft:e.colorLeft,colorRight:e.colorRight,colorTl:e.colorTl,colorTr:e.colorTr,colorBl:e.colorBl,colorBr:e.colorBr,zIndex:e.zIndex,zIndexLocked:e.zIndexLocked,scaleX:e.scaleX,scaleY:e.scaleY,mountX:e.mountX,mountY:e.mountY,mount:e.mount,pivot:e.pivot,pivotX:e.pivotX,pivotY:e.pivotY,rotation:e.rotation,parent:null,shader:null,shaderProps:null,texture:null,textureOptions:null,rtt:e.rtt}),this.coreNode.on("loaded",this.onTextureLoaded),this.coreNode.on("failed",this.onTextureFailed),this.coreNode.on("freed",this.onTextureFreed),this.coreNode.on("outOfBounds",this.onOutOfBounds),this.coreNode.on("inBounds",this.onInBounds),this.coreNode.on("outOfViewport",this.onOutOfViewport),this.coreNode.on("inViewport",this.onInViewport),this.parent=e.parent,this.shader=e.shader,this.texture=e.texture,this.src=e.src,this.rtt=e.rtt,this._data=e.data}get x(){return this.coreNode.x}set x(e){this.coreNode.x=e}get y(){return this.coreNode.y}set y(e){this.coreNode.y=e}get width(){return this.coreNode.width}set width(e){e!==this.coreNode.width&&this.coreNode.rtt&&(this.texture=this.rendererMain.createTexture("RenderTexture",{width:this.width,height:this.height},{preload:!0,flipY:!0})),this.coreNode.width=e}get height(){return this.coreNode.height}set height(e){e!==this.coreNode.height&&this.coreNode.rtt&&(this.texture=this.rendererMain.createTexture("RenderTexture",{width:this.width,height:this.height},{preload:!0,flipY:!0})),this.coreNode.height=e}get alpha(){return this.coreNode.alpha}set alpha(e){this.coreNode.alpha=e}get autosize(){return this.coreNode.autosize}set autosize(e){this.coreNode.autosize=e}get clipping(){return this.coreNode.clipping}set clipping(e){this.coreNode.clipping=e}get color(){return this.coreNode.color}set color(e){this.coreNode.color=e}get colorTop(){return this.coreNode.colorTop}set colorTop(e){this.coreNode.colorTop=e}get colorBottom(){return this.coreNode.colorBottom}set colorBottom(e){this.coreNode.colorBottom=e}get colorLeft(){return this.coreNode.colorLeft}set colorLeft(e){this.coreNode.colorLeft=e}get colorRight(){return this.coreNode.colorRight}set colorRight(e){this.coreNode.colorRight=e}get colorTl(){return this.coreNode.colorTl}set colorTl(e){this.coreNode.colorTl=e}get colorTr(){return this.coreNode.colorTr}set colorTr(e){this.coreNode.colorTr=e}get colorBl(){return this.coreNode.colorBl}set colorBl(e){this.coreNode.colorBl=e}get colorBr(){return this.coreNode.colorBr}set colorBr(e){this.coreNode.colorBr=e}get scale(){return this.scaleX!==this.scaleY?null:this.coreNode.scaleX}set scale(e){null!==e&&(this.coreNode.scaleX=e,this.coreNode.scaleY=e)}get scaleX(){return this.coreNode.scaleX}set scaleX(e){this.coreNode.scaleX=e}get scaleY(){return this.coreNode.scaleY}set scaleY(e){this.coreNode.scaleY=e}get mount(){return this.coreNode.mount}set mount(e){this.coreNode.mount=e}get mountX(){return this.coreNode.mountX}set mountX(e){this.coreNode.mountX=e}get mountY(){return this.coreNode.mountY}set mountY(e){this.coreNode.mountY=e}get pivot(){return this.coreNode.pivot}set pivot(e){this.coreNode.pivot=e}get pivotX(){return this.coreNode.pivotX}set pivotX(e){this.coreNode.pivotX=e}get pivotY(){return this.coreNode.pivotY}set pivotY(e){this.coreNode.pivotY=e}get rotation(){return this.coreNode.rotation}set rotation(e){this.coreNode.rotation=e}get parent(){return this._parent}set parent(e){var t,r=this._parent;if(this._parent=e,this.coreNode.parent=null!==(t=null==e?void 0:e.coreNode)&&void 0!==t?t:null,r){var o=r.children.indexOf(this);B(-1!==o,"MainOnlyNode.parent: Node not found in old parent's children!"),r.children.splice(o,1)}e&&e.children.push(this)}get children(){return this._children}get zIndex(){return this.coreNode.zIndex}set zIndex(e){this.coreNode.zIndex=e}get zIndexLocked(){return this.coreNode.zIndexLocked}set zIndexLocked(e){this.coreNode.zIndexLocked=e}get src(){return this._src}set src(e){this._src!==e&&(this._src=e,this.texture=e?this.rendererMain.createTexture("ImageTexture",{src:e}):null)}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this.rendererMain.textureTracker.decrementTextureRefCount(this._texture),e&&this.rendererMain.textureTracker.incrementTextureRefCount(e),this._texture=e,e?this.coreNode.loadTexture(e.txType,e.props,e.options):this.coreNode.unloadTexture())}get rtt(){return this.coreNode.rtt}set rtt(e){e&&(this.texture=this.rendererMain.createTexture("RenderTexture",{width:this.width,height:this.height},{preload:!0,flipY:!0})),this.coreNode.rtt=e}get parentHasRenderTexture(){return this.coreNode.parentHasRenderTexture}get shader(){return this._shader}set shader(e){this._shader!==e&&(this._shader=e,e&&this.coreNode.loadShader(e.shType,e.props))}get data(){return this._data}set data(e){this._data=mt(e)}destroy(){this.emit("beforeDestroy",{});for(var e=this.children[0];e;)e.destroy(),e=this.children[0];this.coreNode.destroy(),this.parent=null,this.texture=null,this.emit("afterDestroy",{}),this.removeAllListeners()}flush(){}animate(e,t){var r=new yt(this.coreNode,e,t);return new bt(this.stage.animationManager,r)}}class Nt{constructor(){k(this,"activeAnimations",new Set)}registerAnimation(e){this.activeAnimations.add(e)}unregisterAnimation(e){this.activeAnimations.delete(e)}update(e){this.activeAnimations.forEach((t=>{t.update(e)}))}}class Et{constructor(e){k(this,"imageWorkersEnabled",!0),k(this,"messageManager",{}),k(this,"workers",[]),k(this,"workerIndex",0),k(this,"nextId",0),this.workers=this.createWorkers(e),this.workers.forEach((e=>{e.onmessage=this.handleMessage.bind(this)}))}handleMessage(e){var t=e.data,r=t.id,o=t.data,n=t.error,i=this.messageManager[r];if(i){var s=w(i,2),a=s[0],l=s[1];delete this.messageManager[r],n?l(new Error(n)):a(o)}}createWorkers(e=1){for(var t=new Blob(["\n      function hasAlphaChannel(mimeType) {\n          return (mimeType.indexOf(\"image/png\") !== -1);\n      }\n\n      function getImage(src, premultiplyAlpha) {\n        return new Promise(function(resolve, reject) {\n          var xhr = new XMLHttpRequest();\n          xhr.open('GET', src, true);\n          xhr.responseType = 'blob';\n\n          xhr.onload = function() {\n            if (xhr.status === 200) {\n              var blob = xhr.response;\n              var hasAlphaChannel = premultiplyAlpha !== undefined ? premultiplyAlpha : hasAlphaChannel(blob.type);\n\n              createImageBitmap(blob, {\n                premultiplyAlpha: hasAlphaChannel ? 'premultiply' : 'none',\n                colorSpaceConversion: 'none',\n                imageOrientation: 'none'\n              }).then(function(data) {\n                resolve({ data: data, premultiplyAlpha: premultiplyAlpha });\n              }).catch(function(error) {\n                reject(error);\n              });\n            } else {\n              reject(new Error('Failed to load image: ' + xhr.statusText));\n            }\n          };\n\n          xhr.onerror = function() {\n            reject(new Error('Network error occurred while trying to fetch the image.'));\n          };\n\n          xhr.send();\n        });\n      }\n\n      self.onmessage = (event) => {\n        var id = event.data.id;\n        var src = event.data.src;\n        var premultiplyAlpha = event.data.premultiplyAlpha;\n\n        getImage(src, premultiplyAlpha)\n          .then(function(data) {\n              self.postMessage({ id: id, data: data }, [data.data]);\n          })\n          .catch(function(error) {\n              self.postMessage({ id: id, error: error.message });\n          });\n      };\n    ".replace('"use strict";',"")],{type:"application/javascript"}),r=(self.URL?URL:webkitURL).createObjectURL(t),o=[],n=0;n<e;n++)o.push(new Worker(r));return o}getNextWorker(){var e=this.workers[this.workerIndex];return this.workerIndex=(this.workerIndex+1)%this.workers.length,e}getImage(e,t){return new Promise(((r,o)=>{try{if(this.workers){var n=this.nextId++;this.messageManager[n]=[r,o];var i=this.getNextWorker();i&&i.postMessage({id:n,src:e,premultiplyAlpha:t})}}catch(s){o(s)}}))}}class Ft extends te{constructor(e,t){super(e),k(this,"props",void 0),this.props=Ft.resolveDefaults(t)}getTextureData(){var e=this;return A(C().mark((function t(){var r,o,n,i,s,a,l;return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(r=e.props,o=r.width,n=r.height,i=o*n*4,s=new Uint8ClampedArray(i),a=0;a<i;a+=4)l=Math.floor(256*Math.random()),s[a]=l,s[a+1]=l,s[a+2]=l,s[a+3]=255;return t.abrupt("return",{data:new ImageData(s,o,n)});case 5:case"end":return t.stop()}}),t)})))()}static makeCacheKey(e){var t=Ft.resolveDefaults(e);return`NoiseTexture,${t.width},${t.height},${t.cacheId}`}static resolveDefaults(e){var t,r,o;return{width:null!==(t=e.width)&&void 0!==t?t:128,height:null!==(r=e.height)&&void 0!==r?r:128,cacheId:null!==(o=e.cacheId)&&void 0!==o?o:0}}}k(Ft,"z$__type__Props",void 0);class Lt{constructor(e){k(this,"usedMemory",0),k(this,"txConstructors",{}),k(this,"textureKeyCache",new Map),k(this,"textureIdCache",new Map),k(this,"ctxTextureCache",new WeakMap),k(this,"textureRefCountMap",new WeakMap),k(this,"imageWorkerManager",null),k(this,"hasCreateImageBitmap",!!self.createImageBitmap),k(this,"hasWorker",!!self.Worker),k(this,"renderer",void 0),this.hasCreateImageBitmap&&this.hasWorker&&e>0&&(this.imageWorkerManager=new Et(e)),this.hasCreateImageBitmap||console.warn("[Lightning] createImageBitmap is not supported on this browser. ImageTexture will be slower."),this.registerTextureType("ImageTexture",re),this.registerTextureType("ColorTexture",oe),this.registerTextureType("NoiseTexture",Ft),this.registerTextureType("SubTexture",ne),this.registerTextureType("RenderTexture",ie)}registerTextureType(e,t){this.txConstructors[e]=t}loadTexture(e,t,r=null){var o,n=this.txConstructors[e];if(!n)throw new Error(`Texture type "${e}" is not registered`);if(void 0!==(null==r?void 0:r.id)&&this.textureIdCache.has(r.id)&&(o=this.textureIdCache.get(r.id)),!o){var i,s=null==r?void 0:r.id,a=null!==(i=null==r?void 0:r.cacheKey)&&void 0!==i?i:n.makeCacheKey(t);o=a&&this.textureKeyCache.has(a)?this.textureKeyCache.get(a):new n(this,t),s&&this.addTextureIdToCache(s,a,o)}null!=r&&r.preload&&this.getCtxTexture(o).load();return o}addTextureIdToCache(e,t,r){var o=this.textureIdCache,n=this.textureRefCountMap;o.set(e,r),n.has(r)?n.get(r).count++:(n.set(r,{cacheKey:t,count:1}),t&&this.textureKeyCache.set(t,r))}removeTextureIdFromCache(e){var t,r=this.textureIdCache,o=this.textureRefCountMap,n=r.get(e);if(n){if(r.delete(e),o.has(n)){var i=o.get(n);B(i),i.count--,0===i.count&&(o.delete(n),i.cacheKey&&this.textureKeyCache.delete(i.cacheKey))}null===(t=this.ctxTextureCache.get(n))||void 0===t||t.free()}}getDebugInfo(){return{keyCacheSize:this.textureKeyCache.size,idCacheSize:this.textureIdCache.size}}getCtxTexture(e){if(this.ctxTextureCache.has(e))return this.ctxTextureCache.get(e);var t=this.renderer.createCtxTexture(e);return this.ctxTextureCache.set(e,t),t}}class zt{constructor(){k(this,"data",{})}reset(){this.data={}}increment(e){this.data[e]||(this.data[e]=0),this.data[e]++}getData(){return R({},this.data)}}class Mt{constructor(e){k(this,"memUsed",0),k(this,"textures",new Map),k(this,"threshold",void 0),k(this,"gcRequested",!1),this.threshold=e,0===e&&(this.setTextureMemUse=()=>{})}setTextureMemUse(e,t){this.textures.has(e)&&(this.memUsed-=this.textures.get(e)),0!==t?(this.memUsed+=t,this.textures.set(e,t),this.memUsed>this.threshold&&(this.gcRequested=!0)):this.textures.delete(e)}gc(){this.gcRequested=!1,this.textures.forEach(((e,t)=>{t.renderable||t.free()}))}}var Dt={isWhite:!0,a:1,r:255,g:255,b:255};function Pt(e){return 4294967295===e?Dt:{isWhite:!1,a:(e>>>24&255)/255,r:255&e,g:255&e>>>8,b:255&e>>>16}}function Ot({a:e,r:t,g:r,b:o}){return`rgba(${t},${r},${o},${e})`}class Ut extends se{constructor(...e){super(...e),k(this,"image",void 0),k(this,"tintCache",void 0)}load(){"freed"===this.textureSource.state&&(this.textureSource.setState("loading"),this.onLoadRequest().then((e=>{this.textureSource.setState("loaded",e),this.updateMemSize()})).catch((e=>{this.textureSource.setState("failed",e)})))}free(){this.image=void 0,this.tintCache=void 0,this.textureSource.setState("freed"),this.memManager.setTextureMemUse(this,0)}updateMemSize(){var e=this.tintCache?8:4;if(this.textureSource.dimensions){var t=this.textureSource.dimensions,r=t.width,o=t.height;this.memManager.setTextureMemUse(this,r*o*e)}}hasImage(){return void 0!==this.image}getImage(e){var t,r=this.image;if(B(r,"Attempt to get unloaded image texture"),e.isWhite)return this.tintCache&&(this.tintCache=void 0,this.updateMemSize()),r;var o=Ot(e);if((null===(t=this.tintCache)||void 0===t?void 0:t.key)===o)return this.tintCache.image;var n=this.tintTexture(r,o);return this.tintCache={key:o,image:n},this.updateMemSize(),n}tintTexture(e,t){var r=e.width,o=e.height,n=document.createElement("canvas");n.width=r,n.height=o;var i=n.getContext("2d");return i&&(i.fillStyle=t,i.globalCompositeOperation="copy",i.fillRect(0,0,r,o),i.globalCompositeOperation="multiply",i.drawImage(e,0,0,r,o,0,0,r,o),i.globalCompositeOperation="destination-in",i.drawImage(e,0,0,r,o,0,0,r,o)),n}get renderable(){return this.textureSource.renderable}onLoadRequest(){var e=this;return A(C().mark((function t(){var r,o,n,i;return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.textureSource.getTextureData();case 2:if(r=t.sent,!((o=r.data)instanceof ImageData)){t.next=14;break}return(n=document.createElement("canvas")).width=o.width,n.height=o.height,(i=n.getContext("2d"))&&i.putImageData(o,0,0),e.image=n,t.abrupt("return",{width:o.width,height:o.height});case 14:if(!(o instanceof ImageBitmap)){t.next=17;break}return e.image=o,t.abrupt("return",{width:o.width,height:o.height});case 17:return t.abrupt("return",{width:0,height:0});case 18:case"end":return t.stop()}}),t)})))()}}class Wt extends ae{constructor(e){super(e),k(this,"context",void 0),k(this,"canvas",void 0),k(this,"pixelRatio",void 0),k(this,"clearColor",void 0),k(this,"renderToTextureActive",!1),k(this,"activeRttNode",null),this.mode="canvas",this.shManager.renderer=this;var t=e.canvas,r=e.pixelRatio,o=e.clearColor;this.canvas=t,this.context=t.getContext("2d"),this.pixelRatio=r,this.clearColor=o?le(o):void 0}reset(){this.canvas.width=this.canvas.width;var e=this.context;if(this.clearColor){var t=w(this.clearColor,4),r=t[0],o=t[1],n=t[2],i=t[3];e.fillStyle=`rgba(${r}, ${o}, ${n}, ${i/255})`,e.fillRect(0,0,this.canvas.width,this.canvas.height)}e.scale(this.pixelRatio,this.pixelRatio)}render(){}addQuad(e){var t,r=this.context,o=e.tx,n=e.ty,i=e.width,s=e.height,a=e.alpha,l=e.colorTl,d=e.colorTr,h=e.colorBr,c=e.ta,u=e.tb,f=e.tc,p=e.td,v=e.clippingRect,g=e.texture,m=void 0;if(g){if(g instanceof ne&&(t=g.props,g=g.parentTexture),m=this.txManager.getCtxTexture(g),"freed"===g.state)return void m.load();if("loaded"!==g.state||!m.hasImage())return}var x=Pt(l),y=1!==c,b=0!==v.width&&0!==v.height,w=l!==d||l!==h,S=e.shader?function(e){var t,r;return e.shader instanceof at&&e.shader.shType===st&&null!==(t=null===(r=e.shaderProps)||void 0===r?void 0:r.radius)&&void 0!==t?t:0}(e):0;if((y||b||S)&&r.save(),b){var A=new Path2D,C=v.x,T=v.y,R=v.width,k=v.height;A.rect(C,T,R,k),r.clip(A)}if(y){var _=this.pixelRatio;r.setTransform(c,f,u,p,o*_,n*_),r.scale(_,_),r.translate(-o,-n)}if(S){var B=new Path2D;B.roundRect(o,n,i,s,S),r.clip(B)}if(m){var I=m.getImage(x);r.globalAlpha=a,t?r.drawImage(I,t.x,t.y,t.width,t.height,o,n,i,s):r.drawImage(I,o,n,i,s),r.globalAlpha=1}else if(w){var N,E=o,F=n;l===d?(E=o,F=n+s,N=Pt(h)):(E=o+i,F=n,N=Pt(d));var L=r.createLinearGradient(o,n,E,F);L.addColorStop(0,Ot(x)),L.addColorStop(1,Ot(N)),r.fillStyle=L,r.fillRect(o,n,i,s)}else r.fillStyle=Ot(x),r.fillRect(o,n,i,s);(y||b||S)&&r.restore()}createCtxTexture(e){return new Ut(this.txMemManager,e)}getShaderManager(){return this.shManager}renderRTTNodes(){}removeRTTNode(e){}renderToTexture(e){}}var Yt,Ht;class jt extends F{constructor(e){super(),k(this,"options",void 0),k(this,"animationManager",void 0),k(this,"txManager",void 0),k(this,"txMemManager",void 0),k(this,"fontManager",void 0),k(this,"textRenderers",void 0),k(this,"shManager",void 0),k(this,"renderer",void 0),k(this,"root",void 0),k(this,"boundsMargin",void 0),k(this,"deltaTime",0),k(this,"lastFrameTime",0),k(this,"currentFrameTime",0),k(this,"fpsNumFrames",0),k(this,"fpsElapsedTime",0),k(this,"renderRequested",!1),k(this,"contextSpy",null),this.options=e;var t=e.canvas,r=e.clearColor,o=e.rootId,n=e.debug,i=e.appWidth,s=e.appHeight,a=e.boundsMargin,l=e.enableContextSpy,d=e.numImageWorkers,h=e.txMemByteThreshold,c=e.renderMode;this.txManager=new Lt(d),this.txMemManager=new Mt(h),this.shManager=new lt,this.animationManager=new Nt,this.contextSpy=l?new zt:null;var u=[0,0,0,0];a&&(u=Array.isArray(a)?a:[a,a,a,a]),this.boundsMargin=u,null!=n&&n.monitorTextureCache&&setInterval((()=>{B(this.txManager);var e=this.txManager.getDebugInfo();console.log("Texture ID Cache Size: ",e.idCacheSize),console.log("Texture Key Cache Size: ",e.keyCacheSize)}),1e3);var f={stage:this,canvas:t,pixelRatio:e.devicePhysicalPixelRatio*e.deviceLogicalPixelRatio,clearColor:null!=r?r:4278190080,bufferMemory:2e6,txManager:this.txManager,txMemManager:this.txMemManager,shManager:this.shManager,contextSpy:this.contextSpy};this.renderer="canvas"===c?new Wt(f):new Q(f),de(c),this.txManager.renderer=this.renderer,this.textRenderers="webgl"===c?{canvas:new Pe(this),sdf:new pt(this)}:{canvas:new Pe(this)},this.fontManager=new Ie(this.textRenderers);var p,v,g,m=new kt(this,{id:o,x:0,y:0,width:i,height:s,alpha:1,autosize:!1,clipping:!1,color:0,colorTop:0,colorBottom:0,colorLeft:0,colorRight:0,colorTl:0,colorTr:0,colorBl:0,colorBr:0,zIndex:0,zIndexLocked:0,scaleX:1,scaleY:1,mountX:0,mountY:0,mount:0,pivot:.5,pivotX:.5,pivotY:.5,rotation:0,parent:null,texture:null,textureOptions:null,shader:null,shaderProps:null,rtt:!1});this.root=m,p=this,v=!1,g=()=>{if(p.updateAnimations(),!p.hasSceneUpdates())return p.calculateFps(),setTimeout(g,16.666666666666668),void(v||(p.emit("idle"),v=!0));v=!1,p.drawFrame(),requestAnimationFrame(g)},requestAnimationFrame(g)}updateAnimations(){var e=this.animationManager;this.root&&(this.lastFrameTime=this.currentFrameTime,this.currentFrameTime=performance?performance.now():Date.now(),this.deltaTime=this.lastFrameTime?this.currentFrameTime-this.lastFrameTime:100/6,this.emit("frameTick",{time:this.currentFrameTime,delta:this.deltaTime}),e.update(this.deltaTime))}hasSceneUpdates(){return!!this.root.updateType||this.renderRequested}drawFrame(){var e=this.renderer,t=this.renderRequested;B(e),0!==this.root.updateType&&this.root.update(this.deltaTime,this.root.clippingRect),e.reset(),e.txMemManager.gcRequested&&e.txMemManager.gc(),e.rttNodes.length>0&&e.renderRTTNodes(),this.addQuads(this.root),null==e||e.render(),this.calculateFps(),t&&(this.renderRequested=!1)}calculateFps(){var e=this.options.fpsUpdateInterval;if(e&&(this.fpsNumFrames++,this.fpsElapsedTime+=this.deltaTime,this.fpsElapsedTime>=e)){var t,r,o,n=Math.round(1e3*this.fpsNumFrames/this.fpsElapsedTime);this.fpsNumFrames=0,this.fpsElapsedTime=0,this.emit("fpsUpdate",{fps:n,contextSpyData:null!==(t=null===(r=this.contextSpy)||void 0===r?void 0:r.getData())&&void 0!==t?t:null}),null===(o=this.contextSpy)||void 0===o||o.reset()}}addQuads(e){B(this.renderer&&e.globalTransform),e.isRenderable&&e.renderQuads(this.renderer);for(var t=0;t<e.children.length;t++){var r=e.children[t];r&&(0!==(null==r?void 0:r.worldAlpha)&&this.addQuads(r))}}requestRender(){this.renderRequested=!0}resolveTextRenderer(e,t=null){var r=t,o=!1;if(r){var n=this.textRenderers[r];n?n.canRenderFont(e)||(console.warn(`Cannot use override text renderer '${r}' for font`,e),r=null,o=!0):(console.warn(`Text renderer override '${r}' not found.`),r=null,o=!0)}if(!r){for(var i=0,s=Object.entries(this.textRenderers);i<s.length;i++){var a=w(s[i],2),l=a[0],d=a[1];if("canvas"!==l&&d.canRenderFont(e)){r=l;break}}r||(r="canvas")}o&&console.warn(`Falling back to text renderer ${String(r)}`);var h=this.textRenderers[r];return B(h,"resolvedTextRenderer undefined"),h}}class Qt extends kt{constructor(e,t){super(e,t),k(this,"textRenderer",void 0),k(this,"trState",void 0),k(this,"_textRendererOverride",null),k(this,"onTextLoaded",(()=>{var e=this.contain,t=this.trState.props.width,r=this.trState.props.height,o=this.trState.textW||0,n=this.trState.textH||0;"both"===e?(this.props.width=t,this.props.height=r):"width"===e?(this.props.width=t,this.props.height=n):"none"===e&&(this.props.width=o,this.props.height=n),this.updateLocalTransform(),this.stage.requestRender(),this.emit("loaded",{type:"text",dimensions:{width:this.trState.textW||0,height:this.trState.textH||0}})})),k(this,"onTextFailed",((e,t)=>{this.emit("failed",{type:"text",error:t})})),this._textRendererOverride=t.textRendererOverride;var r=this.resolveTextRendererAndState({x:this.absX,y:this.absY,width:t.width,height:t.height,textAlign:t.textAlign,color:t.color,zIndex:t.zIndex,contain:t.contain,scrollable:t.scrollable,scrollY:t.scrollY,offsetY:t.offsetY,letterSpacing:t.letterSpacing,debug:t.debug,fontFamily:t.fontFamily,fontSize:t.fontSize,fontStretch:t.fontStretch,fontStyle:t.fontStyle,fontWeight:t.fontWeight,text:t.text,lineHeight:t.lineHeight,maxLines:t.maxLines,textBaseline:t.textBaseline,verticalAlign:t.verticalAlign,overflowSuffix:t.overflowSuffix}),o=r.resolvedTextRenderer,n=r.textRendererState;this.textRenderer=o,this.trState=n}get width(){return this.props.width}set width(e){this.props.width=e,this.textRenderer.set.width(this.trState,e),"none"===this.contain&&this.setUpdateType(Tt.Local)}get height(){return this.props.height}set height(e){this.props.height=e,this.textRenderer.set.height(this.trState,e),"both"!==this.contain&&this.setUpdateType(Tt.Local)}get color(){return this.trState.props.color}set color(e){this.textRenderer.set.color(this.trState,e)}get text(){return this.trState.props.text}set text(e){this.textRenderer.set.text(this.trState,e)}get textRendererOverride(){return this._textRendererOverride}set textRendererOverride(e){this._textRendererOverride=e,this.textRenderer.destroyState(this.trState);var t=this.resolveTextRendererAndState(this.trState.props),r=t.resolvedTextRenderer,o=t.textRendererState;this.textRenderer=r,this.trState=o}get fontSize(){return this.trState.props.fontSize}set fontSize(e){this.textRenderer.set.fontSize(this.trState,e)}get fontFamily(){return this.trState.props.fontFamily}set fontFamily(e){this.textRenderer.set.fontFamily(this.trState,e)}get fontStretch(){return this.trState.props.fontStretch}set fontStretch(e){this.textRenderer.set.fontStretch(this.trState,e)}get fontStyle(){return this.trState.props.fontStyle}set fontStyle(e){this.textRenderer.set.fontStyle(this.trState,e)}get fontWeight(){return this.trState.props.fontWeight}set fontWeight(e){this.textRenderer.set.fontWeight(this.trState,e)}get textAlign(){return this.trState.props.textAlign}set textAlign(e){this.textRenderer.set.textAlign(this.trState,e)}get contain(){return this.trState.props.contain}set contain(e){this.textRenderer.set.contain(this.trState,e)}get scrollable(){return this.trState.props.scrollable}set scrollable(e){this.textRenderer.set.scrollable(this.trState,e)}get scrollY(){return this.trState.props.scrollY}set scrollY(e){this.textRenderer.set.scrollY(this.trState,e)}get offsetY(){return this.trState.props.offsetY}set offsetY(e){this.textRenderer.set.offsetY(this.trState,e)}get letterSpacing(){return this.trState.props.letterSpacing}set letterSpacing(e){this.textRenderer.set.letterSpacing(this.trState,e)}get lineHeight(){return this.trState.props.lineHeight}set lineHeight(e){this.textRenderer.set.lineHeight&&this.textRenderer.set.lineHeight(this.trState,e)}get maxLines(){return this.trState.props.maxLines}set maxLines(e){this.textRenderer.set.maxLines&&this.textRenderer.set.maxLines(this.trState,e)}get textBaseline(){return this.trState.props.textBaseline}set textBaseline(e){this.textRenderer.set.textBaseline&&this.textRenderer.set.textBaseline(this.trState,e)}get verticalAlign(){return this.trState.props.verticalAlign}set verticalAlign(e){this.textRenderer.set.verticalAlign&&this.textRenderer.set.verticalAlign(this.trState,e)}get overflowSuffix(){return this.trState.props.overflowSuffix}set overflowSuffix(e){this.textRenderer.set.overflowSuffix&&this.textRenderer.set.overflowSuffix(this.trState,e)}get debug(){return this.trState.props.debug}set debug(e){this.textRenderer.set.debug(this.trState,e)}update(e,t){super.update(e,t),B(this.globalTransform),this.textRenderer.set.x(this.trState,this.globalTransform.tx),this.textRenderer.set.y(this.trState,this.globalTransform.ty)}checkRenderProps(){return""!==this.trState.props.text||super.checkRenderProps()}onChangeIsRenderable(e){super.onChangeIsRenderable(e),this.textRenderer.setIsRenderable(this.trState,e)}renderQuads(e){var t;if(B(this.globalTransform),this.parentHasRenderTexture){if(!e.renderToTextureActive)return;if(this.parentRenderTexture!==e.activeRttNode)return}this.parentHasRenderTexture&&null!==(t=this.props.parent)&&void 0!==t&&t.rtt&&(this.globalTransform=wt.identity(),this.localTransform&&this.globalTransform.multiply(this.localTransform)),B(this.globalTransform),this.textRenderer.renderQuads(this.trState,this.globalTransform,this.clippingRect,this.worldAlpha,this.parentHasRenderTexture,this.framebufferDimensions)}destroy(){super.destroy(),this.textRenderer.destroyState(this.trState)}resolveTextRendererAndState(e){var t=this.stage.resolveTextRenderer(e,this._textRendererOverride),r=t.createState(e);return r.emitter.on("loaded",this.onTextLoaded),r.emitter.on("failed",this.onTextFailed),t.scheduleUpdateState(r),{resolvedTextRenderer:t,textRendererState:r}}}class Kt extends It{constructor(e,t,r){super(e,t,r,new Qt(r,{id:Bt(),x:e.x,y:e.y,width:e.width,height:e.height,alpha:e.alpha,autosize:e.autosize,clipping:e.clipping,color:e.color,colorTop:e.colorTop,colorBottom:e.colorBottom,colorLeft:e.colorLeft,colorRight:e.colorRight,colorTl:e.colorTl,colorTr:e.colorTr,colorBl:e.colorBl,colorBr:e.colorBr,zIndex:e.zIndex,zIndexLocked:e.zIndexLocked,scaleX:e.scaleX,scaleY:e.scaleY,mountX:e.mountX,mountY:e.mountY,mount:e.mount,pivot:e.pivot,pivotX:e.pivotX,pivotY:e.pivotY,rotation:e.rotation,text:e.text,fontSize:e.fontSize,fontFamily:e.fontFamily,fontWeight:e.fontWeight,fontStretch:e.fontStretch,fontStyle:e.fontStyle,contain:e.contain,scrollable:e.scrollable,letterSpacing:e.letterSpacing,textAlign:e.textAlign,scrollY:e.scrollY,offsetY:e.offsetY,textRendererOverride:e.textRendererOverride,lineHeight:e.lineHeight,maxLines:e.maxLines,textBaseline:e.textBaseline,verticalAlign:e.verticalAlign,overflowSuffix:e.overflowSuffix,debug:e.debug,parent:null,texture:null,textureOptions:null,shader:null,shaderProps:null,rtt:!1}))}get text(){return this.coreNode.text}set text(e){this.coreNode.text=e}get textRendererOverride(){return this.coreNode.textRendererOverride}set textRendererOverride(e){this.coreNode.textRendererOverride=e}get fontSize(){return this.coreNode.fontSize}set fontSize(e){this.coreNode.fontSize=e}get fontFamily(){return this.coreNode.fontFamily}set fontFamily(e){this.coreNode.fontFamily=e}get fontWeight(){return this.coreNode.fontWeight}set fontWeight(e){this.coreNode.fontWeight=e}get fontStretch(){return this.coreNode.fontStretch}set fontStretch(e){this.coreNode.fontStretch=e}get fontStyle(){return this.coreNode.fontStyle}set fontStyle(e){this.coreNode.fontStyle=e}get textAlign(){return this.coreNode.textAlign}set textAlign(e){this.coreNode.textAlign=e}get contain(){return this.coreNode.contain}set contain(e){this.coreNode.contain=e}get scrollable(){return this.coreNode.scrollable}set scrollable(e){this.coreNode.scrollable=e}get scrollY(){return this.coreNode.scrollY}set scrollY(e){this.coreNode.scrollY=e}get offsetY(){return this.coreNode.offsetY}set offsetY(e){this.coreNode.offsetY=e}get letterSpacing(){return this.coreNode.letterSpacing}set letterSpacing(e){this.coreNode.letterSpacing=e}get lineHeight(){return this.coreNode.lineHeight}set lineHeight(e){this.coreNode.lineHeight=e}get maxLines(){return this.coreNode.maxLines}set maxLines(e){e&&(this.coreNode.maxLines=e)}get textBaseline(){return this.coreNode.textBaseline}set textBaseline(e){e&&(this.coreNode.textBaseline=e)}get verticalAlign(){return this.coreNode.verticalAlign}set verticalAlign(e){e&&(this.coreNode.verticalAlign=e)}get overflowSuffix(){return this.coreNode.overflowSuffix}set overflowSuffix(e){e&&(this.coreNode.overflowSuffix=e)}get debug(){return this.coreNode.debug}set debug(e){this.coreNode.debug=e}}class Xt{constructor(){k(this,"root",null),k(this,"stage",null),k(this,"rendererMain",null)}init(e,t,r){var o=this;return A(C().mark((function n(){var i;return C().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o.stage=new jt({rootId:Bt(),appWidth:t.appWidth,appHeight:t.appHeight,txMemByteThreshold:t.txMemByteThreshold,boundsMargin:t.boundsMargin,deviceLogicalPixelRatio:t.deviceLogicalPixelRatio,devicePhysicalPixelRatio:t.devicePhysicalPixelRatio,clearColor:t.clearColor,canvas:r,fpsUpdateInterval:t.fpsUpdateInterval,enableContextSpy:t.enableContextSpy,numImageWorkers:t.numImageWorkers,renderMode:t.renderMode,debug:{monitorTextureCache:!1}}),o.rendererMain=e,B(o.stage.root),i=new It(e.resolveNodeDefaults({}),o.rendererMain,o.stage,o.stage.root),o.root=i,i.once("beforeDestroy",o.onBeforeDestroyNode.bind(o,i)),o.onCreateNode(i),!t.coreExtensionModule){n.next=10;break}return n.next=10,vt(t.coreExtensionModule,o.stage);case 10:o.stage.on("fpsUpdate",((e,t)=>{o.onFpsUpdate(t)})),o.stage.on("frameTick",((e,t)=>{o.onFrameTick(t)})),o.stage.on("idle",(()=>{o.onIdle()}));case 13:case"end":return n.stop()}}),n)})))()}createNode(e){B(this.rendererMain),B(this.stage);var t=new It(e,this.rendererMain,this.stage);return t.once("beforeDestroy",this.onBeforeDestroyNode.bind(this,t)),this.onCreateNode(t),t}createTextNode(e){B(this.rendererMain),B(this.stage);var t=new Kt(e,this.rendererMain,this.stage);return t.once("beforeDestroy",this.onBeforeDestroyNode.bind(this,t)),this.onCreateNode(t),t}destroyNode(e){e.destroy()}releaseTexture(e){var t=this.stage;B(t),t.txManager.removeTextureIdFromCache(e)}getRootNode(){return B(this.root),this.root}onCreateNode(e){throw new Error("Method not implemented.")}onBeforeDestroyNode(e){throw new Error("Method not implemented.")}onFpsUpdate(e){throw new Error("Method not implemented.")}onFrameTick(e){throw new Error("Method not implemented.")}onIdle(){throw new Error("Method not implemented.")}}function $t(e={},t="app"){var r=new Xt;return Yt=new xt(e,t,r),Ht=Yt.createShader.bind(Yt),Yt}class Gt extends Array{constructor(e){super(),this._parent=e}get selected(){return this[this._parent.selected||0]}get firstChild(){return this[0]}insert(e,t){if(t){var r=this.indexOf(t);this.splice(r,0,e)}else this.push(e);e.parent=this._parent}remove(e){var t=this.indexOf(e);t>=0&&this.splice(t,1)}}var Vt={debug:!1,animationsEnabled:!0,animationSettings:{duration:250,easing:"ease-in-out"},fontSettings:{fontFamily:"Ubuntu",fontSize:100},setActiveElement:()=>{}};function qt(e,t,...r){false}var Zt=e=>e instanceof Function;function Jt(e){return Array.isArray(e)}function er(e){return e instanceof hr}function tr(e,t={}){if(Jt(e))e.forEach((e=>{tr(e,t)}));else if(e)for(var r in e)void 0===t[r]&&(t[r]=e[r]);return t}class rr extends Array{constructor(e,t={}){return Jt(t)?super(...t):"string"==typeof t?super(t):super(...Object.entries(t).filter((([e,t])=>t)).map((([e])=>e))),this.onChange=e,this}has(e){return this.indexOf(e)>=0}is(e){return this.indexOf(e)>=0}add(e){this.push(e),this.onChange()}toggle(e){this.has(e)?this.remove(e):this.add(e)}remove(e){var t=this.indexOf(e);t>=0&&(this.splice(t,1),this.onChange())}}var or="element",nr="textNode",ir="text";var sr=new Set,ar=!0;function lr(e){for(var t=[],r=0,o=Object.entries(e);r<o.length;r++){var n=w(o[r],2),i=n[0],s=n[1];t.push({type:i,props:s})}return Ht("DynamicShader",{effects:t})}function dr(e=""){return{set(t){"number"==typeof t&&(t={width:t,color:255}),this.effects=this.effects?R(R({},this.effects||{}),{[`border${e}`]:t}):{[`border${e}`]:t}},get(){var t;return null===(t=this.effects)||void 0===t?void 0:t[`border${e}`]}}}class hr extends Object{constructor(e){super(),this.type="text"===e?nr:or,this.rendered=!1,this.lng={},this.children=new Gt(this)}get effects(){return this._effects}set effects(e){this._effects=e,this.rendered&&(this.shader=lr(e))}get parent(){return this._parent}set parent(e){var t;(this._parent=e,this.rendered)&&(this.lng.parent=null!==(t=null==e?void 0:e.lng)&&void 0!==t?t:null)}set shader(e){Jt(e)&&(e=Ht(...e)),this.lng.shader=e}_sendToLightningAnimatable(e,t){if(this.transition&&this.rendered&&Vt.animationsEnabled&&(!0===this.transition||this.transition[e])){var r=!0===this.transition||!0===this.transition[e]?void 0:this.transition[e];return this.animate({[e]:t},r).start()}this.lng[e]=t}animate(e,t){return B(this.rendered,"Node must be rendered before animating"),this.lng.animate(e,t||this.animationSettings)}chain(e,t){return this._animationRunning&&(this._animationQueue=[],this._animationRunning=!1),t?this._animationQueueSettings=t:this._animationQueueSettings||(this._animationQueueSettings=t||this.animationSettings),t=t||this._animationQueueSettings,this._animationQueue=this._animationQueue||[],this._animationQueue.push({props:e,animationSettings:t}),this}start(){var e=this;return A(C().mark((function t(){var r;return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e._animationQueue.shift();case 1:if(!r){t.next=8;break}return e._animationRunning=!0,t.next=5,e.animate(r.props,r.animationSettings).start().waitUntilStopped();case 5:r=e._animationQueue.shift(),t.next=1;break;case 8:e._animationRunning=!1,e._animationQueueSettings=void 0;case 10:case"end":return t.stop()}}),t)})))()}setFocus(){if(this.rendered){if(void 0!==this.forwardFocus)if(Zt(this.forwardFocus)){if(!1!==this.forwardFocus.call(this,this))return}else{var e="number"==typeof this.forwardFocus?this.forwardFocus:null;if(null!==e&&e<this.children.length){var t=this.children[e];return void(er(t)&&t.setFocus())}}queueMicrotask((()=>Vt.setActiveElement(this)))}else this.autofocus=!0}isTextNode(){return this.type===nr}_layoutOnLoad(){this.lng.on("loaded",((e,t)=>{var r=t.dimensions;this.parent.updateLayout(this,r)}))}getText(){for(var e="",t=0;t<this.children.length;t++)e+=this.children[t].text;return e}destroy(){var e;this._queueDelete&&("destroy"in(e=this.lng)&&"function"==typeof e.destroy)&&this.lng.destroy()}set onEvents(e){this._events=e}get onEvents(){return this._events}set style(e){for(var t in Jt(e)?this._style=tr(e):this._style=e,this._style)void 0===this[t]&&(this[t]=this._style[t])}get style(){return this._style}get hasChildren(){return this.children.length>0}getChildById(e){return this.children.find((t=>t.id===e))}searchChildrenById(e){for(var t=0;t<this.children.length;t++){var r=this.children[t];if(er(r)){if(r.id===e)return r;var o=r.searchChildrenById(e);if(o)return o}}}set states(e){this._states=new rr(this._stateChanged.bind(this),e),this.rendered&&this._stateChanged()}get states(){return this._states=this._states||new rr(this._stateChanged.bind(this)),this._states}get animationSettings(){return this._animationSettings||Vt.animationSettings}set animationSettings(e){this._animationSettings=e}requiresLayout(){return"flex"===this.display||this.onBeforeLayout}updateLayout(e,t){if(this.hasChildren){qt();var r,o=!1;if(Zt(this.onBeforeLayout)&&(o=this.onBeforeLayout.call(this,this,e,t)||!1),"flex"===this.display){if(function(e){for(var t=[],r=!1,o=0,n=0;n<e.children.length;n++){var i=e.children[n];if(i.type!==ir&&!1!==i.flexItem){if(i.type===nr&&i.text&&!i.width&&!i.height)return!1;void 0!==i.flexOrder&&(r=!0),void 0!==i.flexGrow&&(o+=i.flexGrow),t.push(i)}}r&&t.sort(((e,t)=>(e.flexOrder||0)-(t.flexOrder||0)));var s=t.length,a="row"===(e.flexDirection||"row"),l=a?"width":"height",d=a?"height":"width",h=a?"marginLeft":"marginTop",c=a?"marginRight":"marginBottom",u=a?"x":"y",f=a?"y":"x",p=e[l]||0,v=e[d]||0,g=e.gap||0,m=e.justifyContent||"flexStart",x=e.alignItems;if(o)for(var y=t.reduce(((e,t)=>e+(t.flexGrow?0:t[l]||0)+(t[h]||0)+(t[c]||0)),0),b=(p-y-g*(s-1))/o,w=0;w<t.length;w++){var S=t[w];void 0!==S.flexGrow&&S.flexGrow>0&&(S[l]=S.flexGrow*b)}var A=0;["center","spaceBetween","spaceEvenly"].includes(m)&&(A=t.reduce(((e,t)=>e+(t[l]||0)+(t[h]||0)+(t[c]||0)),0));var C=v&&x?e=>{"flexStart"===x?e[f]=0:"center"===x?e[f]=(v-(e[d]||0))/2:"flexEnd"===x&&(e[f]=v-(e[d]||0))}:e=>e;if("flexStart"===m){for(var T=0,R=0;R<t.length;R++){var k=t[R];k[u]=T+(k[h]||0),T+=(k[l]||0)+g+(k[h]||0)+(k[c]||0),C(k)}if("fixed"!==e.flexBoundary){var _=T-g;if(_!==e[l])return e[l]=_,!0}}else if("flexEnd"===m){for(var B=p,I=s-1;I>=0;I--){var N=t[I];N[u]=B-(N[l]||0)-(N[c]||0),B-=(N[l]||0)+g+(N[h]||0)+(N[c]||0),C(N)}if("fixed"!==e.flexBoundary){var E=B-g;if(E!==e[l])return e[l]=E,!0}}else if("center"===m)for(var F=(p-(A+g*(s-1)))/2,L=0;L<t.length;L++){var z=t[L];z[u]=F+(z[h]||0),F+=(z[l]||0)+g+(z[h]||0)+(z[c]||0),C(z)}else if("spaceBetween"===m)for(var M=(p-A)/(s-1),D=0,P=0;P<t.length;P++){var O=t[P];O[u]=D+(O[h]||0),D+=(O[l]||0)+M+(O[h]||0)+(O[c]||0),C(O)}else if("spaceEvenly"===m)for(var U=(p-A)/(s+1),W=U,Y=0;Y<t.length;Y++){var H=t[Y];H[u]=W+(H[h]||0),W+=(H[l]||0)+U+(H[h]||0)+(H[c]||0),C(H)}return!1}(this)||o)null===(r=this.parent)||void 0===r||r.updateLayout()}else if(o){var n;null===(n=this.parent)||void 0===n||n.updateLayout()}Zt(this.onLayout)&&this.onLayout.call(this,this,e,t)}}_stateChanged(){if(qt(0,0,this.states),this.forwardStates){var e=this.states.slice();this.children.forEach((t=>{t.states=e}))}var t=this.states;if(this._undoStyles||this.style&&function(e,t){var r,o=_(t);try{for(o.s();!(r=o.n()).done;)if(r.value in e)return!0}catch(n){o.e(n)}finally{o.f()}return!1}(this.style,t)){this._undoStyles=this._undoStyles||[];var r={};this._undoStyles.forEach((e=>{r[e]=this.style[e]}));var o=t.reduce(((e,t)=>{var r=this.style[t];return r&&(e=R(R({},e),r)),e}),{});this._undoStyles=Object.keys(o),void 0!==o.transition&&(this.transition=o.transition),Object.assign(this,r,o)}}render(){var e,t=this,r=this.parent;if(r)if(r.rendered)if(this.rendered)console.warn("Node already rendered: ",this);else{r.requiresLayout()&&!sr.has(r)&&(sr.add(r),ar&&(ar=!1,queueMicrotask((()=>{ar=!0;var e=[...sr];sr.clear();for(var t=e.length-1;t>=0;t--)e[t].updateLayout()})))),this._states&&this._stateChanged();var o=t.lng;if(o.x=o.x||0,o.y=o.y||0,r.rendered&&(o.parent=r.lng),t._effects&&(o.shader=lr(t._effects)),t.isTextNode()){var n=o;if(Vt.fontSettings)for(var i in Vt.fontSettings)void 0===n[i]&&(n[i]=Vt.fontSettings[i]);n.text=t.getText(),n.textAlign&&!n.contain&&console.warn("Text align requires contain: ",t.getText()),n.contain&&(n.width||(n.width=(r.width||0)-n.x-(n.marginRight||0)),"both"!==n.contain||n.height||n.maxLines?1===n.maxLines&&(n.height=n.height||n.lineHeight||n.fontSize):n.height=(r.height||0)-n.y-(n.marginBottom||0)),qt(0,0),t.lng=Yt.createTextNode(o),!r.requiresLayout()||o.width&&o.height||t._layoutOnLoad()}else o.texture||(isNaN(o.width)&&(o.width=(r.width||0)-o.x),isNaN(o.height)&&(o.height=(r.height||0)-o.y),o.rtt&&!o.color&&(o.color=4294967295),o.color||o.src||(o.color=0)),qt(0,0),t.lng=Yt.createNode(o);if(t.rendered=!0,t.autosize&&r.requiresLayout()&&t._layoutOnLoad(),t.onFail&&t.lng.on("failed",t.onFail),t.onLoad&&t.lng.on("loaded",t.onLoad),Zt(this.onCreate)&&this.onCreate.call(this,t),t.onEvents&&t.onEvents.forEach((([e,r])=>{t.lng.on(e,((e,o)=>r(t,o)))})),null!==(e=t.lng)&&void 0!==e&&e.div&&(t.lng.div.element=t),t.type===or)for(var s=0;s<t.children.length;s++){var a=t.children[s];B(a,"Child is undefined"),er(a)?a.render():a.text&&a.type===ir&&console.warn("TextNode outside of <Text>: ",a)}t.autofocus&&t.setFocus()}else console.warn("Parent not rendered yet: ",this);else console.warn("Parent not set - no node created for: ",this)}}for(var cr=function(){var e=fr[ur];Object.defineProperty(hr.prototype,e,{get(){return this.lng[e]},set(t){this._sendToLightningAnimatable(e,t)}})},ur=0,fr=["alpha","color","colorTop","colorRight","colorLeft","colorBottom","colorTl","colorTr","colorBl","colorBr","height","fontSize","lineHeight","mount","mountX","mountY","pivot","pivotX","pivotY","rotation","scale","width","worldX","worldY","x","y","zIndex","zIndexLocked"];ur<fr.length;ur++)cr();for(var pr=function(){var e=gr[vr];Object.defineProperty(hr.prototype,e,{get(){return this.lng[e]},set(t){this.lng[e]=t}})},vr=0,gr=["absX","absY","autosize","clipping","contain","fontFamily","fontStretch","fontStyle","fontWeight","letterSpacing","maxLines","offsetY","overflowSuffix","rtt","scrollable","scrollY","src","text","textAlign","textBaseline","textOverflow","texture","verticalAlign","wordWrap"];vr<gr.length;vr++)pr();Object.defineProperties(hr.prototype,{borderRadius:{set(e){this.effects=this.effects?R(R({},this.effects),{radius:{radius:e}}):{radius:{radius:e}}},get(){var e;return null===(e=this.effects)||void 0===e||null===(e=e.radius)||void 0===e?void 0:e.radius}},border:dr(),borderLeft:dr("Left"),borderRight:dr("Right"),borderTop:dr("Top"),borderBottom:dr("Bottom"),linearGradient:{set(e={}){this.effects=this.effects?R(R({},this.effects),{linearGradient:e}):{linearGradient:e}},get(){var e;return null===(e=this.effects)||void 0===e?void 0:e.linearGradient}}});var mr={context:void 0,registry:void 0};function xr(e){mr.context=e}var yr,br=(e,t)=>e===t,wr=Symbol("solid-proxy"),Sr=Symbol("solid-track"),Ar={equals:br},Cr=so,Tr=1,Rr=2,kr={owned:null,cleanups:null,context:null,owner:null},_r={},Br=null,Ir=null,Nr=null,Er=null,Fr=null,Lr=0;function zr(e,t){var r=Nr,o=Br,n=0===e.length,i=void 0===t?o:t,s=n?kr:{owned:null,cleanups:null,context:i?i.context:null,owner:i},a=n?e:()=>e((()=>jr((()=>co(s)))));Br=s,Nr=null;try{return io(a,!0)}finally{Nr=r,Br=o}}function Mr(e,t){var r={value:e,observers:null,observerSlots:null,comparator:(t=t?Object.assign({},Ar,t):Ar).equals||void 0};return[eo.bind(r),e=>("function"==typeof e&&(e=e(r.value)),to(r,e))]}function Dr(e,t,r){ro(oo(e,t,!0,Tr))}function Pr(e,t,r){ro(oo(e,t,!1,Tr))}function Or(e,t,r){Cr=ao;var o=oo(e,t,!1,Tr);o.user=!0,Fr?Fr.push(o):ro(o)}function Ur(e,t,r){r=r?Object.assign({},Ar,r):Ar;var o=oo(e,t,!0,0);return o.observers=null,o.observerSlots=null,o.comparator=r.equals||void 0,ro(o),eo.bind(o)}function Wr(e,t,r){var o,n,i;2===arguments.length&&"object"==typeof t||1===arguments.length?(o=!0,n=e,i=t||{}):(o=e,n=t,i={});var s,a=null,l=_r,d=null,h=!1,c="initialValue"in i,u="function"==typeof o&&Ur(o),f=new Set,p=w((i.storage||Mr)(i.initialValue),2),v=p[0],g=p[1],m=w(Mr(void 0),2),x=m[0],y=m[1],b=w(Mr(void 0,{equals:!1}),2),S=b[0],A=b[1],C=w(Mr(c?"ready":"unresolved"),2),T=C[0],R=C[1];mr.context&&(d=`${mr.context.id}${mr.context.count++}`,"initial"===i.ssrLoadFrom?l=i.initialValue:mr.load&&(s=mr.load(d))&&(l=s));function k(e,t,r,o){return a===e&&(a=null,void 0!==o&&(c=!0),e!==l&&t!==l||!i.onHydrated||queueMicrotask((()=>i.onHydrated(o,{value:t}))),l=_r,function(e,t){io((()=>{void 0===t&&g((()=>e)),R(void 0!==t?"errored":c?"ready":"unresolved"),y(t);var r,o=_(f.keys());try{for(o.s();!(r=o.n()).done;){r.value.decrement()}}catch(t){o.e(t)}finally{o.f()}f.clear()}),!1)}(t,r)),t}function B(){var e=yr,t=v(),r=x();if(void 0!==r&&!a)throw r;return Nr&&!Nr.user&&e&&Dr((()=>{S(),a&&(e.resolved||f.has(e)||(e.increment(),f.add(e)))})),t}function I(e=!0){if(!1===e||!h){h=!1;var t=u?u():o;if(null!=t&&!1!==t){var r=l!==_r?l:jr((()=>n(t,{value:v(),refetching:e})));return function(e){return e&&"object"==typeof e&&"then"in e}(r)?(a=r,"value"in r?("success"===r.status?k(a,r.value,void 0,t):k(a,void 0,void 0,t),r):(h=!0,queueMicrotask((()=>h=!1)),io((()=>{R(c?"refreshing":"pending"),A()}),!1),r.then((e=>k(r,e,void 0,t)),(e=>k(r,void 0,uo(e),t))))):(k(a,r,void 0,t),r)}k(a,jr(v))}}return Object.defineProperties(B,{state:{get:()=>T()},error:{get:()=>x()},loading:{get(){var e=T();return"pending"===e||"refreshing"===e}},latest:{get(){if(!c)return B();var e=x();if(e&&!a)throw e;return v()}}}),u?Dr((()=>I(!1))):I(!1),[B,{refetch:I,mutate:g}]}function Yr(e,t=br,r){var o=new Map,n=oo((r=>{var n,i=e(),s=_(o.entries());try{for(s.s();!(n=s.n()).done;){var a=w(n.value,2),l=a[0],d=a[1];if(t(l,i)!==t(l,r)){var h,c=_(d.values());try{for(c.s();!(h=c.n()).done;){var u=h.value;u.state=Tr,u.pure?Er.push(u):Fr.push(u)}}catch(f){c.e(f)}finally{c.f()}}}}catch(f){s.e(f)}finally{s.f()}return i}),void 0,!0,Tr);return ro(n),e=>{var r,i=Nr;i&&((r=o.get(e))?r.add(i):o.set(e,r=new Set([i])),Kr((()=>{r.delete(i),!r.size&&o.delete(e)})));return t(e,n.value)}}function Hr(e){return io(e,!1)}function jr(e){if(null===Nr)return e();var t=Nr;Nr=null;try{return e()}finally{Nr=t}}function Qr(e,t,r){var o,n=Array.isArray(e),i=r&&r.defer;return r=>{var s;if(n){s=Array(e.length);for(var a=0;a<e.length;a++)s[a]=e[a]()}else s=e();if(i)return i=!1,r;var l=jr((()=>t(s,o,r)));return o=s,l}}function Kr(e){return null===Br||(null===Br.cleanups?Br.cleanups=[e]:Br.cleanups.push(e)),e}function Xr(){return Nr}function $r(){return Br}function Gr(e,t){var r=Br,o=Nr;Br=e,Nr=null;try{return io(t,!0)}catch(n){fo(n)}finally{Br=r,Nr=o}}function Vr(e){var t=Nr,r=Br;return Promise.resolve().then((()=>{Nr=t,Br=r,io(e,!1),Nr=Br=null}))}function qr(e,t){var r=Symbol("context");return{id:r,Provider:vo(r),defaultValue:e}}function Zr(e){return Br&&Br.context&&void 0!==Br.context[e.id]?Br.context[e.id]:e.defaultValue}function Jr(e){var t=Ur(e),r=Ur((()=>po(t())));return r.toArray=()=>{var e=r();return Array.isArray(e)?e:null!=e?[e]:[]},r}function eo(){if(this.sources&&this.state)if(this.state===Tr)ro(this);else{var e=Er;Er=null,io((()=>lo(this)),!1),Er=e}if(Nr){var t=this.observers?this.observers.length:0;Nr.sources?(Nr.sources.push(this),Nr.sourceSlots.push(t)):(Nr.sources=[this],Nr.sourceSlots=[t]),this.observers?(this.observers.push(Nr),this.observerSlots.push(Nr.sources.length-1)):(this.observers=[Nr],this.observerSlots=[Nr.sources.length-1])}return this.value}function to(e,t,r){var o=e.value;return e.comparator&&e.comparator(o,t)||(e.value=t,e.observers&&e.observers.length&&io((()=>{for(var t=0;t<e.observers.length;t+=1){var r=e.observers[t],o=Ir&&Ir.running;o&&Ir.disposed.has(r),(o?r.tState:r.state)||(r.pure?Er.push(r):Fr.push(r),r.observers&&ho(r)),o||(r.state=Tr)}if(Er.length>1e6)throw Er=[],new Error}),!1)),t}function ro(e){if(e.fn){co(e);var t=Lr;!function(e,t,r){var o,n=Br,i=Nr;Nr=Br=e;try{o=e.fn(t)}catch(s){return e.pure&&(e.state=Tr,e.owned&&e.owned.forEach(co),e.owned=null),e.updatedAt=r+1,fo(s)}finally{Nr=i,Br=n}(!e.updatedAt||e.updatedAt<=r)&&(null!=e.updatedAt&&"observers"in e?to(e,o):e.value=o,e.updatedAt=r)}(e,e.value,t)}}function oo(e,t,r,o=Tr,n){var i={fn:e,state:o,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:Br,context:Br?Br.context:null,pure:r};return null===Br||Br!==kr&&(Br.owned?Br.owned.push(i):Br.owned=[i]),i}function no(e){if(0!==e.state){if(e.state===Rr)return lo(e);if(e.suspense&&jr(e.suspense.inFallback))return e.suspense.effects.push(e);for(var t=[e];(e=e.owner)&&(!e.updatedAt||e.updatedAt<Lr);)e.state&&t.push(e);for(var r=t.length-1;r>=0;r--)if((e=t[r]).state===Tr)ro(e);else if(e.state===Rr){var o=Er;Er=null,io((()=>lo(e,t[0])),!1),Er=o}}}function io(e,t){if(Er)return e();var r=!1;t||(Er=[]),Fr?r=!0:Fr=[],Lr++;try{var o=e();return function(e){Er&&(so(Er),Er=null);if(e)return;var t=Fr;Fr=null,t.length&&io((()=>Cr(t)),!1)}(r),o}catch(n){r||(Fr=null),Er=null,fo(n)}}function so(e){for(var t=0;t<e.length;t++)no(e[t])}function ao(e){var t,r=0;for(t=0;t<e.length;t++){var o=e[t];o.user?e[r++]=o:no(o)}if(mr.context){if(mr.count)return mr.effects||(mr.effects=[]),void mr.effects.push(...e.slice(0,r));mr.effects&&(e=[...mr.effects,...e],r+=mr.effects.length,delete mr.effects),xr()}for(t=0;t<r;t++)no(e[t])}function lo(e,t){e.state=0;for(var r=0;r<e.sources.length;r+=1){var o=e.sources[r];if(o.sources){var n=o.state;n===Tr?o!==t&&(!o.updatedAt||o.updatedAt<Lr)&&no(o):n===Rr&&lo(o,t)}}}function ho(e){for(var t=0;t<e.observers.length;t+=1){var r=e.observers[t];r.state||(r.state=Rr,r.pure?Er.push(r):Fr.push(r),r.observers&&ho(r))}}function co(e){var t;if(e.sources)for(;e.sources.length;){var r=e.sources.pop(),o=e.sourceSlots.pop(),n=r.observers;if(n&&n.length){var i=n.pop(),s=r.observerSlots.pop();o<n.length&&(i.sourceSlots[s]=o,n[o]=i,r.observerSlots[o]=s)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)co(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function uo(e){return e instanceof Error?e:new Error("string"==typeof e?e:"Unknown error",{cause:e})}function fo(e,t=Br){throw uo(e)}function po(e){if("function"==typeof e&&!e.length)return po(e());if(Array.isArray(e)){for(var t=[],r=0;r<e.length;r++){var o=po(e[r]);Array.isArray(o)?t.push.apply(t,o):t.push(o)}return t}return e}function vo(e,t){return function(t){var r;return Pr((()=>r=jr((()=>(Br.context=R(R({},Br.context),{},{[e]:t.value}),Jr((()=>t.children)))))),void 0),r}}var go=Symbol("fallback");function mo(e){for(var t=0;t<e.length;t++)e[t]()}function xo(e,t){return jr((()=>e(t||{})))}function yo(){return!0}var bo={get:(e,t,r)=>t===wr?r:e.get(t),has:(e,t)=>t===wr||e.has(t),set:yo,deleteProperty:yo,getOwnPropertyDescriptor:(e,t)=>({configurable:!0,enumerable:!0,get:()=>e.get(t),set:yo,deleteProperty:yo}),ownKeys:e=>e.keys()};function wo(e){return(e="function"==typeof e?e():e)?e:{}}function So(){for(var e=0,t=this.length;e<t;++e){var r=this[e]();if(void 0!==r)return r}}function Ao(...e){for(var t=!1,r=0;r<e.length;r++){var o=e[r];t=t||!!o&&wr in o,e[r]="function"==typeof o?(t=!0,Ur(o)):o}if(t)return new Proxy({get(t){for(var r=e.length-1;r>=0;r--){var o=wo(e[r])[t];if(void 0!==o)return o}},has(t){for(var r=e.length-1;r>=0;r--)if(t in wo(e[r]))return!0;return!1},keys(){for(var t=[],r=0;r<e.length;r++)t.push(...Object.keys(wo(e[r])));return[...new Set(t)]}},bo);for(var n={},i=Object.create(null),s=e.length-1;s>=0;s--){var a=e[s];if(a)for(var l=Object.getOwnPropertyNames(a),d=function(){var e=l[h];if("__proto__"===e||"constructor"===e)return 1;var t=Object.getOwnPropertyDescriptor(a,e);if(i[e]){var r=n[e];r&&(t.get?r.push(t.get.bind(a)):void 0!==t.value&&r.push((()=>t.value)))}else i[e]=t.get?{enumerable:!0,configurable:!0,get:So.bind(n[e]=[t.get.bind(a)])}:void 0!==t.value?t:void 0},h=l.length-1;h>=0;h--)d()}for(var c={},u=Object.keys(i),f=u.length-1;f>=0;f--){var p=u[f],v=i[p];v&&v.get?Object.defineProperty(c,p,v):c[p]=v?v.value:void 0}return c}function Co(e){var t,r,o=o=>{var n,i=mr.context;if(i){var s=w(Mr(),2),a=s[0],l=s[1];mr.count||(mr.count=0),mr.count++,(r||(r=e())).then((e=>{xr(i),mr.count--,l((()=>e.default)),xr()})),t=a}else if(!t){var d=w(Wr((()=>(r||(r=e())).then((e=>e.default)))),1)[0];t=d}return Ur((()=>(n=t())&&jr((()=>{if(!i)return n(o);var e=mr.context;xr(i);var t=n(o);return xr(e),t}))))};return o.preload=()=>r||((r=e()).then((e=>t=()=>e.default)),r),o}var To=e=>`Stale read from <${e}>.`;function Ro(e){var t="fallback"in e&&{fallback:()=>e.fallback};return Ur(function(e,t,r={}){var o=[],n=[],i=[],s=0,a=t.length>1?[]:null;return Kr((()=>mo(i))),()=>{var l,d,h=e()||[];return h[Sr],jr((()=>{var e,t,u,f,p,v,g,m,x,y=h.length;if(0===y)0!==s&&(mo(i),i=[],o=[],n=[],s=0,a&&(a=[])),r.fallback&&(o=[go],n[0]=zr((e=>(i[0]=e,r.fallback()))),s=1);else if(0===s){for(n=new Array(y),d=0;d<y;d++)o[d]=h[d],n[d]=zr(c);s=y}else{for(u=new Array(y),f=new Array(y),a&&(p=new Array(y)),v=0,g=Math.min(s,y);v<g&&o[v]===h[v];v++);for(g=s-1,m=y-1;g>=v&&m>=v&&o[g]===h[m];g--,m--)u[m]=n[g],f[m]=i[g],a&&(p[m]=a[g]);for(e=new Map,t=new Array(m+1),d=m;d>=v;d--)x=h[d],l=e.get(x),t[d]=void 0===l?-1:l,e.set(x,d);for(l=v;l<=g;l++)x=o[l],void 0!==(d=e.get(x))&&-1!==d?(u[d]=n[l],f[d]=i[l],a&&(p[d]=a[l]),d=t[d],e.set(x,d)):i[l]();for(d=v;d<y;d++)d in u?(n[d]=u[d],i[d]=f[d],a&&(a[d]=p[d],a[d](d))):n[d]=zr(c);n=n.slice(0,s=y),o=h.slice(0)}return n}));function c(e){if(i[d]=e,a){var r=w(Mr(d),2),o=r[0],n=r[1];return a[d]=n,t(h[d],o)}return t(h[d])}}}((()=>e.each),e.children,t||void 0))}function ko(e){var t=e.keyed,r=Ur((()=>e.when),void 0,{equals:(e,r)=>t?e===r:!e==!r});return Ur((()=>{var o=r();if(o){var n=e.children;return"function"==typeof n&&n.length>0?jr((()=>n(t?o:()=>{if(!jr(r))throw To("Show");return e.when}))):n}return e.fallback}),void 0,void 0)}var _o=w(Mr(void 0),2),Bo=_o[0],Io=_o[1];function No(e=""){return t=e,Number.isInteger(t)?e:"string"==typeof e?e.startsWith("#")?Number(e.replace("#","0x")+(7===e.length?"ff":"")):e.startsWith("0x")?Number(e):Number("0x"+(6===e.length?e+"ff":e)):0;var t}function Eo({createElement:e,createTextNode:t,isTextNode:r,replaceText:o,insertNode:n,removeNode:i,setProperty:s,getParentNode:a,getFirstChild:l,getNextSibling:d}){function h(e,t,r,o){if(void 0===r||o||(o=[]),"function"!=typeof t)return c(e,t,o,r);Pr((o=>c(e,t(),o,r)),o)}function c(e,i,s,a,d){for(;"function"==typeof s;)s=s();if(i===s)return s;var h=typeof i,m=void 0!==a;if("string"===h||"number"===h)if("number"===h&&(i=i.toString()),m){var x=s[0];x&&r(x)?o(x,i):x=t(i),s=p(e,s,a,x)}else""!==s&&"string"==typeof s?o(l(e),s=i):(p(e,s,a,t(i)),s=i);else if(null==i||"boolean"===h)s=p(e,s,a);else{if("function"===h)return Pr((()=>{for(var t=i();"function"==typeof t;)t=t();s=c(e,t,s,a)})),()=>s;if(Array.isArray(i)){var y=[];if(u(y,i,d))return Pr((()=>s=c(e,y,s,a,!0))),()=>s;if(0===y.length){var b=p(e,s,a);if(m)return s=b}else Array.isArray(s)?0===s.length?v(e,y,a):f(e,s,y):null==s||""===s?v(e,y):f(e,m&&s||[l(e)],y);s=y}else{if(Array.isArray(s)){if(m)return s=p(e,s,a,i);p(e,s,null,i)}else null!=s&&""!==s&&l(e)?g(e,i,l(e)):n(e,i);s=i}}return s}function u(e,r,o){for(var n=!1,i=0,s=r.length;i<s;i++){var a=r[i],l=void 0;if(null==a||!0===a||!1===a);else if(Array.isArray(a))n=u(e,a)||n;else if("string"==(l=typeof a)||"number"===l)e.push(t(a));else if("function"===l)if(o){for(;"function"==typeof a;)a=a();n=u(e,Array.isArray(a)?a:[a])||n}else e.push(a),n=!0;else e.push(a)}return n}function f(e,t,r){for(var o=r.length,s=t.length,a=o,l=0,h=0,c=d(t[s-1]),u=null;l<s||h<a;)if(t[l]!==r[h]){for(;t[s-1]===r[a-1];)s--,a--;if(s===l)for(var f=a<o?h?d(r[h-1]):r[a-h]:c;h<a;)n(e,r[h++],f);else if(a===h)for(;l<s;)u&&u.has(t[l])||i(e,t[l]),l++;else if(t[l]===r[a-1]&&r[h]===t[s-1]){var p=d(t[--s]);n(e,r[h++],d(t[l++])),n(e,r[--a],p),t[s]=r[a]}else{if(!u){u=new Map;for(var v=h;v<a;)u.set(r[v],v++)}var m=u.get(t[l]);if(null!=m)if(h<m&&m<a){for(var x=l,y=1,b=void 0;++x<s&&x<a&&null!=(b=u.get(t[x]))&&b===m+y;)y++;if(y>m-h)for(var w=t[l];h<m;)n(e,r[h++],w);else g(e,r[h++],t[l++])}else l++;else i(e,t[l++])}}else l++,h++}function p(e,r,o,s){if(void 0===o){for(var d;d=l(e);)i(e,d);return s&&n(e,s),""}var h=s||t("");if(r.length)for(var c=!1,u=r.length-1;u>=0;u--){var f=r[u];if(h!==f){var p=a(f)===e;c||u?p&&i(e,f):p?g(e,h,f):n(e,h,o)}else c=!0}else n(e,h,o);return[h]}function v(e,t,r){for(var o=0,i=t.length;o<i;o++)n(e,t[o],r)}function g(e,t,r){n(e,t,r),i(e,r)}function m(e,t,r={},o){return t||(t={}),o||Pr((()=>r.children=c(e,t.children,r.children))),Pr((()=>t.ref&&t.ref(e))),Pr((()=>{for(var o in t)if("children"!==o&&"ref"!==o){var n=t[o];n!==r[o]&&(s(e,o,n,r[o]),r[o]=n)}})),r}return{render(e,t){var r;return zr((o=>{r=o,h(t,e())})),r},insert:h,spread(e,t,r){"function"==typeof t?Pr((o=>m(e,t(),o,r))):m(e,t,void 0,r)},createElement:e,createTextNode:t,insertNode:n,setProp:(e,t,r,o)=>(s(e,t,r,o),r),mergeProps:Ao,effect:Pr,memo:Ur,createComponent:xo,use:(e,t,r)=>jr((()=>e(t,r)))}}S("K",Io),Vt.setActiveElement=Io;var Fo,Lo={createElement:e=>new hr(e),createTextNode:e=>({type:ir,text:e,parent:void 0}),replaceText(e,t){qt(0,0),e.text=t;var r=e.parent;B(r),r.text=r.getText()},setProperty(e,t,r=!0){e[t]=r},insertNode(e,t,r){qt(0,0),e.children.insert(t,r),t._queueDelete=!1,t instanceof hr?e.rendered&&t.render():e.isTextNode()&&(e.text=e.getText())},isTextNode:e=>e.isTextNode(),removeNode(e,t){qt(0,0),e.children.remove(t),t._queueDelete=!0,t instanceof hr&&queueMicrotask((()=>t.destroy()))},getParentNode:e=>e.parent,getFirstChild:e=>e.children[0],getNextSibling(e){var t=e.parent.children||[],r=t.indexOf(e)+1;if(r<t.length)return t[r]}},zo=function(e){var t=Eo(e);return t.mergeProps=Ao,t}(Lo),Mo=Lo.createElement("App");function Do(e,t){return Po.apply(this,arguments)}function Po(){return(Po=A(C().mark((function e(t,r){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fo=$t(Vt.rendererOptions,"app"),e.next=3,Fo.init();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Oo=function(){var e=A(C().mark((function e(t,r){var o;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Do();case 2:return Mo.lng=Fo.root,Mo.rendered=!0,o=zo.render(t,Mo),e.abrupt("return",{dispose:o,rootNode:Mo,renderer:Fo});case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Uo=(zo.effect,zo.memo),Wo=zo.createComponent,Yo=zo.createElement,Ho=(zo.createTextNode,zo.insertNode,zo.insert),jo=zo.spread,Qo=zo.setProp,Ko=zo.mergeProps,Xo=zo.use;S({k:Uo,i:Wo,q:Yo,x:Ho,v:jo,m:Ko,r:Xo});var $o=S("V",(e=>{var t=Yo("node");return jo(t,e,!1),t})),Go=S("T",(e=>{var t=Yo("text");return jo(t,e,!1),t})),Vo="_$DX_DELEGATE";function qo(e){var t=`$$${e.type}`,r=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==r&&Object.defineProperty(e,"target",{configurable:!0,value:r}),Object.defineProperty(e,"currentTarget",{configurable:!0,get:()=>r||document}),mr.registry&&!mr.done&&(mr.done=_$HY.done=!0);r;){var o=r[t];if(o&&!r.disabled){var n=r[`${t}Data`];if(void 0!==n?o.call(r,n,e):o.call(r,e),e.cancelBubble)return}r=r._$host||r.parentNode||r.host}}var Zo;function Jo(){var e=new Set;var t=!1;return{subscribe:function(t){return e.add(t),()=>e.delete(t)},confirm:function(r,o){if(t)return!(t=!1);var n,i={to:r,options:o,defaultPrevented:!1,preventDefault:()=>i.defaultPrevented=!0},s=_(e);try{var a=function(){var e=n.value;e.listener(R(R({},i),{},{from:e.location,retry:n=>{n&&(t=!0),e.navigate(r,R(R({},o),{},{resolve:!1}))}}))};for(s.s();!(n=s.n()).done;)a()}catch(l){s.e(l)}finally{s.f()}return!i.defaultPrevented}}}function en(){window.history.state&&null!=window.history.state._depth||window.history.replaceState(R(R({},window.history.state),{},{_depth:window.history.length-1}),""),Zo=window.history.state._depth}en();var tn=/^(?:[a-z0-9]+:)?\/\//i,rn=/^\/+|(\/)\/+$/g,on="http://sr";function nn(e,t=!1){var r=e.replace(rn,"$1");return r?t||/^[?#]/.test(r)?r:"/"+r:""}function sn(e,t,r){if(!tn.test(t)){var o=nn(e),n=r&&nn(r),i="";return((i=!n||t.startsWith("/")?o:0!==n.toLowerCase().indexOf(o.toLowerCase())?o+n:n)||"/")+nn(t,!i)}}function an(e){var t={};return e.searchParams.forEach(((e,r)=>{t[r]=e})),t}function ln(e,t,r){var o=w(e.split("/*",2),2),n=o[0],i=o[1],s=n.split("/").filter(Boolean),a=s.length;return e=>{var o=e.split("/").filter(Boolean),n=o.length-a;if(n<0||n>0&&void 0===i&&!t)return null;for(var l={path:a?"":"/",params:{}},d=e=>void 0===r?void 0:r[e],h=0;h<a;h++){var c=s[h],u=o[h],f=":"===c[0],p=f?c.slice(1):c;if(f&&dn(u,d(p)))l.params[p]=u;else if(f||!dn(u,c))return null;l.path+=`/${u}`}if(i){var v=n?o.slice(-n).join("/"):"";if(!dn(v,d(i)))return null;l.params[i]=v}return l}}function dn(e,t){var r=t=>0===t.localeCompare(e,void 0,{sensitivity:"base"});return void 0===t||("string"==typeof t?r(t):"function"==typeof t?t(e):Array.isArray(t)?t.some(r):t instanceof RegExp&&t.test(e))}function hn(e){var t=new Map,r=$r();return new Proxy({},{get:(o,n)=>(t.has(n)||Gr(r,(()=>t.set(n,Ur((()=>e()[n]))))),t.get(n)()),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),ownKeys:()=>Reflect.ownKeys(e())})}function cn(e){var t=/(\/?\:[^\/]+)\?/.exec(e);if(!t)return[e];for(var r=e.slice(0,t.index),o=e.slice(t.index+t[0].length),n=[r,r+=t[1]];t=/^(\/\:[^\/]+)\?/.exec(o);)n.push(r+=t[1]),o=o.slice(t[0].length);return cn(o).reduce(((e,t)=>[...e,...n.map((e=>e+t))]),[])}var un,fn=qr(),pn=qr(),vn=()=>function(e,t){if(null==e)throw new Error(t);return e}(Zr(fn),"<A> and 'use' router primitives can be only used inside a Route."),gn=S("u",(()=>vn().navigatorFactory())),mn=()=>vn().location,xn=S("D",(()=>vn().params));function yn(e,t=""){var r=e.component,o=e.load,n=e.children,i=e.info,s=!n||Array.isArray(n)&&!n.length,a={key:e,component:r,load:o,info:i};return wn(e.path).reduce(((r,o)=>{var n,i,l=_(cn(o));try{for(l.s();!(n=l.n()).done;){var d=n.value,h=(i=d,nn(t).replace(/\/*(\*.*)?$/g,"")+nn(i)),c=s?h:h.split("/*",1)[0];c=c.split("/").map((e=>e.startsWith(":")||e.startsWith("*")?e:encodeURIComponent(e))).join("/"),r.push(R(R({},a),{},{originalPath:o,pattern:c,matcher:ln(c,!s,e.matchFilters)}))}}catch(u){l.e(u)}finally{l.f()}return r}),[])}function bn(e,t=0){return{routes:e,score:1e4*(r=e[e.length-1],o=w(r.pattern.split("/*",2),2),n=o[0],i=o[1],s=n.split("/").filter(Boolean),s.reduce(((e,t)=>e+(t.startsWith(":")?2:3)),s.length-(void 0===i?0:1)))-t,matcher(t){for(var r=[],o=e.length-1;o>=0;o--){var n=e[o],i=n.matcher(t);if(!i)return null;r.unshift(R(R({},i),{},{route:n}))}return r}};var r,o,n,i,s}function wn(e){return Array.isArray(e)?e:[e]}function Sn(e,t="",r=[],o=[]){for(var n=wn(e),i=0,s=n.length;i<s;i++){var a=n[i];if(a&&"object"==typeof a){a.hasOwnProperty("path")||(a.path="");var l,d=_(yn(a,t));try{for(d.s();!(l=d.n()).done;){var h=l.value;r.push(h);var c=Array.isArray(a.children)&&0===a.children.length;if(a.children&&!c)Sn(a.children,h.pattern,r,o);else{var u=bn([...r],o.length);o.push(u)}r.pop()}}catch(f){d.e(f)}finally{d.f()}}}return r.length?o:o.sort(((e,t)=>t.score-e.score))}function An(e,t){for(var r=0,o=e.length;r<o;r++){var n=e[r].matcher(t);if(n)return n}return[]}function Cn(e,t,r,o={}){var n=w(e.signal,2),i=n[0],s=n[1],a=e.utils,l=void 0===a?{}:a,d=l.parsePath||(e=>e),h=l.renderPath||(e=>e),c=l.beforeLeave||Jo(),u=sn("",o.base||"");if(void 0===u)throw new Error(`${u} is not a valid base path`);u&&!i().value&&s({value:u,replace:!0,scroll:!1});var f=w(Mr(!1),2),p=f[0],v=f[1],g=function(){var e=A(C().mark((function e(t){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.prev=1,e.next=4,Vr(t);case 4:return e.prev=4,v(!1),e.finish(4);case 7:case"end":return e.stop()}}),e,null,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}(),m=w(Mr(i().value),2),x=m[0],y=m[1],b=w(Mr(i().state),2),S=b[0],T=b[1],k=function(e,t){var r=new URL(on),o=Ur((t=>{var o=e();try{return new URL(o,r)}catch(n){return console.error(`Invalid path ${o}`),t}}),r,{equals:(e,t)=>e.href===t.href}),n=Ur((()=>o().pathname)),i=Ur((()=>o().search),!0),s=Ur((()=>o().hash));return{get pathname(){return n()},get search(){return i()},get hash(){return s()},get state(){return t()},get key(){return""},query:hn(Qr(i,(()=>an(o()))))}}(x,S),_=[],B=Mr([]),I=Ur((()=>"function"==typeof o.transformUrl?An(t(),o.transformUrl(k.pathname)):An(t(),k.pathname))),N=hn((()=>{for(var e=I(),t={},r=0;r<e.length;r++)Object.assign(t,e[r].params);return t})),E={pattern:u,path:()=>u,outlet:()=>null,resolvePath:e=>sn(u,e)};return Pr((()=>{var e=i(),t=e.value,r=e.state;jr((()=>{g((()=>{un="native",t!==x()&&y(t),T(r),B[1]([])})).then((()=>{un=void 0}))}))})),{base:E,location:k,params:N,isRouting:p,renderPath:h,parsePath:d,navigatorFactory:function(e){return e=e||Zr(pn)||E,(t,r)=>function(e,t,r){jr((()=>{if("number"!=typeof t){var o=R({replace:!1,resolve:!0,scroll:!0},r),n=o.replace,i=o.resolve,a=o.scroll,d=o.state,h=i?e.resolvePath(t):sn("",t);if(void 0===h)throw new Error(`Path '${t}' is not a routable path`);if(_.length>=100)throw new Error("Too many redirects");var u=x();if((h!==u||d!==S())&&c.confirm(h,r)){var f=_.push({value:u,replace:n,scroll:a,state:S()});g((()=>{un="navigate",y(h),T(d),B[1]([])})).then((()=>{var e,t;_.length===f&&(un=void 0,e={value:h,state:d},(t=_[0])&&(e.value===t.value&&e.state===t.state||s(R(R({},e),{},{replace:t.replace,scroll:t.scroll})),_.length=0))}))}}else t&&(l.go?l.go(t):console.warn("Router integration does not support relative routing"))}))}(e,t,r)},matches:I,beforeLeave:c,preloadRoute:function(e,o){var n=An(t(),e.pathname),i=un;un="preload";var s=function(){var t=n[a],i=t.route,s=t.params;i.component&&i.component.preload&&i.component.preload();var l=i.load;o&&l&&Gr(r(),(()=>l({params:s,location:{pathname:e.pathname,search:e.search,hash:e.hash,query:an(e),state:null,key:""},intent:"preload"})))};for(var a in n)s();un=i},singleFlight:void 0===o.singleFlight||o.singleFlight,submissions:B}}var Tn=e=>t=>{var r,o=t.base,n=Jr((()=>t.children)),i=Ur((()=>Sn(n(),t.base||""))),s=Cn(e,i,(()=>r),{base:o,singleFlight:t.singleFlight,transformUrl:t.transformUrl});return e.create&&e.create(s),Wo(fn.Provider,{value:s,get children(){return Wo(Rn,{routerState:s,get root(){return t.root},get load(){return t.rootLoad},get children(){return[Uo((()=>(r=$r())&&null)),Wo(kn,{routerState:s,get branches(){return i()}})]}})}})};function Rn(e){var t=e.routerState.location,r=e.routerState.params,o=Ur((()=>e.load&&jr((()=>{e.load({params:r,location:t,intent:un||"initial"})}))));return Wo(ko,{get when(){return e.root},keyed:!0,get fallback(){return e.children},children:n=>Wo(n,{params:r,location:t,get data(){return o()},get children(){return e.children}})})}function kn(e){var t,r=[],o=Ur(Qr(e.routerState.matches,((n,i,s)=>{for(var a=i&&n.length===i.length,l=[],d=function(t){var d=i&&i[t],h=n[t];s&&d&&h.route.key===d.route.key?l[t]=s[t]:(a=!1,r[t]&&r[t](),zr((n=>{r[t]=n,l[t]=function(e,t,r,o){var n=e.base,i=e.location,s=e.params,a=o().route,l=a.pattern,d=a.component,h=a.load,c=Ur((()=>o().path));d&&d.preload&&d.preload();var u=h?h({params:s,location:i,intent:un||"initial"}):void 0;return{parent:t,pattern:l,path:c,outlet:()=>d?xo(d,{params:s,location:i,data:u,get children(){return r()}}):r(),resolvePath:e=>sn(n.path(),e,c())}}(e.routerState,l[t-1]||e.routerState.base,_n((()=>o()[t+1])),(()=>e.routerState.matches()[t]))})))},h=0,c=n.length;h<c;h++)d(h);return r.splice(n.length).forEach((e=>e())),s&&a?s:(t=l[0],l)})));return _n((()=>o()&&t))()}var _n=e=>()=>Wo(ko,{get when(){return e()},keyed:!0,children:e=>Wo(pn.Provider,{value:e,get children(){return e.outlet()}})}),Bn=e=>{var t=Jr((()=>e.children));return Ao(e,{get children(){return t()}})};function In(e,t){var r=function(e){if("#"===e)return null;try{return document.querySelector(e)}catch(t){return null}}(`#${e}`);r?r.scrollIntoView():t&&window.scrollTo(0,0)}var Nn=new Map;function En(e=!0,t=!1,r="/_server",o){return o=>{var n=o.base.path(),i=o.navigatorFactory(o.base),s={};function a(e){if(!(e.defaultPrevented||0!==e.button||e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)){var r=e.composedPath().find((e=>e instanceof Node&&"A"===e.nodeName.toUpperCase()));if(r&&(!t||r.hasAttribute("link"))){var o="http://www.w3.org/2000/svg"===r.namespaceURI,i=o?r.href.baseVal:r.href;if(!(o?r.target.baseVal:r.target)&&(i||r.hasAttribute("state"))){var s=(r.getAttribute("rel")||"").split(/\s+/);if(!(r.hasAttribute("download")||s&&s.includes("external"))){var a=o?new URL(i,document.baseURI):new URL(i);if(!(a.origin!==window.location.origin||n&&a.pathname&&!a.pathname.toLowerCase().startsWith(n.toLowerCase())))return[r,a]}}}}}function l(e){var t=a(e);if(t){var r=w(t,2),n=r[0],s=r[1],l=o.parsePath(s.pathname+s.search+s.hash),d=n.getAttribute("state");e.preventDefault(),i(l,{resolve:!1,replace:n.hasAttribute("replace"),scroll:!n.hasAttribute("noscroll"),state:d&&JSON.parse(d)})}}function d(e){var t=a(e);if(t){var r=w(t,2),n=r[0],i=r[1];s[i.pathname]||o.preloadRoute(i,"false"!==n.getAttribute("preload"))}}function h(e){var t=a(e);if(t){var r=w(t,2),n=r[0],i=r[1];s[i.pathname]||(s[i.pathname]=setTimeout((()=>{o.preloadRoute(i,"false"!==n.getAttribute("preload")),delete s[i.pathname]}),200))}}function c(e){var t=a(e);if(t){var r=w(t,2)[1];s[r.pathname]&&(clearTimeout(s[r.pathname]),delete s[r.pathname])}}function u(e){if(!e.defaultPrevented){var t=e.submitter&&e.submitter.hasAttribute("formaction")?e.submitter.getAttribute("formaction"):e.target.getAttribute("action");if(t){if(!t.startsWith("https://action/")){var n=new URL(t,on);if(!(t=o.parsePath(n.pathname+n.search)).startsWith(r))return}if("POST"!==e.target.method.toUpperCase())throw new Error("Only POST forms are supported for Actions");var i=Nn.get(t);if(i){e.preventDefault();var s=new FormData(e.target);e.submitter&&e.submitter.name&&s.append(e.submitter.name,e.submitter.value),i.call({r:o,f:e.target},s)}}}}!function(e,t=window.document){for(var r=t[Vo]||(t[Vo]=new Set),o=0,n=e.length;o<n;o++){var i=e[o];r.has(i)||(r.add(i),t.addEventListener(i,qo))}}(["click","submit"]),document.addEventListener("click",l),e&&(document.addEventListener("mouseover",h),document.addEventListener("mouseout",c),document.addEventListener("focusin",d),document.addEventListener("touchstart",d)),document.addEventListener("submit",u),Kr((()=>{document.removeEventListener("click",l),e&&(document.removeEventListener("mouseover",h),document.removeEventListener("mouseout",c),document.removeEventListener("focusin",d),document.removeEventListener("touchstart",d)),document.removeEventListener("submit",u)}))}}function Fn(e){var t=e.replace(/^.*?#/,"");if(!t.startsWith("/")){var r=w(window.location.hash.split("#",2),2)[1];return`${void 0===r?"/":r}#${t}`}return t}function Ln(e){var t,r,o,n,i=()=>window.location.hash.slice(1),s=Jo();return(t={get:i,set({value:e,replace:t,scroll:r,state:o}){t?window.history.replaceState(function(e){return R(R({},e),{},{_depth:window.history.state&&window.history.state._depth})}(o),"","#"+e):window.history.pushState(o,"","#"+e);var n=e.indexOf("#");In(n>=0?e.slice(n+1):"",r),en()},init:e=>{return t=window,r="hashchange",o=function(e,t){var r=!1;return()=>{var o=Zo;en();var n=null==o?null:Zo-o;r?r=!1:n&&t(n)?(r=!0,window.history.go(-n)):e()}}(e,(e=>!s.confirm(e&&e<0?e:i()))),t.addEventListener(r,o),()=>t.removeEventListener(r,o);var t,r,o},create:En(e.preload,e.explicitLinks,e.actionBase),utils:{go:e=>window.history.go(e),renderPath:e=>`#${e}`,parsePath:Fn,beforeLeave:s}},r=!1,n=function([e,t],r,o){return[e,o?e=>t(o(e)):t]}(Mr((o=e=>"string"==typeof e?{value:e}:e)(t.get()),{equals:(e,t)=>e.value===t.value&&e.state===t.state}),0,(e=>(!r&&t.set(e),e))),t.init&&Kr(t.init(((e=t.get())=>{r=!0,n[1](o(e)),r=!1}))),Tn({signal:n,create:t.create,utils:t.utils}))(e)}function zn(e,...t){return"function"==typeof e?e(...t):e}var Mn=Kr,Dn=()=>{var e=[],t=()=>e=[];return{push:(...t)=>e.push(...t),execute(r,o,n,i){e.forEach((e=>e(r,o,n,i))),t()},clear:t}};function Pn(e,t,r,o){return e.addEventListener(t,r,o),Mn(e.removeEventListener.bind(e,t,r,o))}function On(e,t){var r=Dn(),o=r.push;return[(r,n,i)=>{var s=Pn(e,r,n,null!=i?i:t);return o(s),s},Kr(r.execute)]}function Un(e,t=$r()){var r,o,n=0;return()=>(n++,Kr((()=>{n--,queueMicrotask((()=>{!n&&o&&(o(),o=r=void 0)}))})),o||zr((t=>r=e(o=t)),t),r)}function Wn(e){var t=$r(),r=Un(e,t);return()=>mr.context?zr(e,t):r()}var Yn,Hn=Un((()=>{var e=w(Mr(null),2),t=e[0],r=e[1];return Pn(window,"keydown",(e=>{r(e),setTimeout((()=>r(null)))})),t})),jn={ArrowLeft:"Left",ArrowRight:"Right",ArrowUp:"Up",ArrowDown:"Down",Enter:"Enter",l:"Last"," ":"Space",Backspace:"Back",Escape:"Escape"},Qn=w(Mr([]),2),Kn=Qn[0],Xn=Qn[1];function $n(e){return new Promise((t=>{setTimeout(t,e)}))}function Gn(e,t,r="en-US"){var o=window.speechSynthesis;return new Promise(((n,i)=>{var s=new SpeechSynthesisUtterance(e);s.lang=r,s.onend=()=>{n()},s.onerror=e=>{i(e)},t.push(s),o.speak(s)}))}function Vn(e,t,r=!0){var o=window.speechSynthesis,n=function(e=[]){var t,r=[];for(t=0;t<e.length;t++){var o=e[t];if("string"!=typeof o||o.includes("PAUSE-"))break;r.push(e[t])}return[r.join(",\b ")].concat(e.slice(t))}(Array.isArray(e)?e:[e]),i=[],s=[],a=!0;return{series:A(C().mark((function e(){var r,o,l,d,h,c;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;case 1:if(!a||!n.length){e.next=62;break}return e.next=4,Promise.resolve(n.shift());case 4:if(r=e.sent,a){e.next=9;break}return e.abrupt("break",62);case 9:if("string"!=typeof r||!r.includes("PAUSE-")){e.next=16;break}return o=1e3*Number(r.split("PAUSE-")[1]),isNaN(o)&&(o=0),e.next=14,$n(o);case 14:e.next=60;break;case 16:if("string"!=typeof r||!r.length){e.next=48;break}d=l=3;case 19:if(!(a&&d>0)){e.next=46;break}return e.prev=20,e.next=23,Gn(r,s,t);case 23:d=0,e.next=44;break;case 26:if(e.prev=26,e.t0=e.catch(20),!(e.t0 instanceof SpeechSynthesisErrorEvent)){e.next=43;break}if("network"!==e.t0.error){e.next=36;break}return d--,console.warn(`Speech synthesis network error. Retries left: ${d}`),e.next=34,$n(500*(l-d));case 34:e.next=41;break;case 36:if("canceled"!==e.t0.error&&"interrupted"!==e.t0.error){e.next=40;break}d=0,e.next=41;break;case 40:throw new Error(`SpeechSynthesisErrorEvent: ${e.t0.error}`);case 41:e.next=44;break;case 43:throw e.t0;case 44:e.next=19;break;case 46:e.next=60;break;case 48:if("function"!=typeof r){e.next=55;break}return h=Vn(r(),t,!1),i.push(h),e.next=53,h.series;case 53:e.next=60;break;case 55:if(!Array.isArray(r)){e.next=60;break}return c=Vn(r,t,!1),i.push(c),e.next=60,c.series;case 60:e.next=1;break;case 62:return e.prev=62,a=!1,e.finish(62);case 65:case"end":return e.stop()}}),e,null,[[0,,62,65],[20,26]])})))(),get active(){return a},append:e=>{n.push(e)},cancel:()=>{a&&(r&&o.cancel(),i.forEach((e=>{e.cancel()})),a=!1)}}}function qn(e,t="en-US"){return Yn&&Yn.cancel(),Yn=Vn(e,t)}var Zn,Jn=(e,t)=>{var r,o=()=>clearTimeout(r);$r()&&Kr(o);return Object.assign(((...n)=>{void 0!==r&&o(),r=setTimeout((()=>e(...n)),t)}),{clear:o})},ei=(e,t)=>{var r,o,n=!1,i=()=>{clearTimeout(r),n=!1};return $r()&&Kr(i),Object.assign(((...i)=>{o=i,n||(n=!0,r=setTimeout((()=>{e(...o),n=!1}),t))}),{clear:i})};var ti,ri=[],oi=!1;function ni(e,t){var r,o=Jn(e,t),n=e=>{r=e,o(e)};return n.flush=()=>{o.clear(),e(r)},n.clear=o.clear,n}function ii(e){return e.id||e.name}function si(e=[]){if(ai.onFocusChange&&ai.enabled){var t=e.every((e=>!e.loading)),r=e.filter((e=>!ri.includes(e)));if(Zn(),t||!ai.onFocusChange){ri=e.slice(0);var o=[],n=r.reduce(((e,t)=>(t.announce?(e.push([ii(t),"Announce",t.announce]),o.push(t.announce)):t.title?(e.push([ii(t),"Title",t.title]),o.push(t.title)):e.push([ii(t),"No Announce",""]),e)),[]);return r.reverse().reduce(((e,t)=>(t.announceContext?(e.push([ii(t),"Context",t.announceContext]),o.push(t.announceContext)):e.push([ii(t),"No Context",""]),e)),n),ai.debug&&console.table(n),o.length?ai.speak(o.reduce(((e,t)=>e.concat(t)),[])):void 0}ai.onFocusChange([])}}var ai={debug:!1,enabled:!0,cancel:function(){ti&&ti.cancel()},clearPrevFocus:function(e=0){ri=ri.slice(0,e),Zn()},speak:function(e,{append:t=!1,notification:r=!1}={}){var o;ai.onFocusChange&&ai.enabled&&(ai.onFocusChange.flush(),t&&ti&&ti.active?ti.append(e):(ai.cancel(),function(e){if(!oi)ti=qn(e)}(e)),r&&(oi=!0,null===(o=ti)||void 0===o||o.series.finally((()=>{oi=!1,ai.refresh()})).catch(console.error)));return ti},refresh:function(e=0){ai.clearPrevFocus(e),ai.onFocusChange&&ai.onFocusChange(jr((()=>Kn())))},setupTimers:function({focusDebounce:e=400,focusChangeTimeout:t=3e5}={}){ai.onFocusChange=ni(si,e),Zn=ni((()=>{ri=[]}),t)}};function li(e){var t=R({},e),r=R({},e),o={},n=function(e){Object.defineProperty(r,e,{get:()=>(e=>{var r=o[e];if(!r){if(!Xr())return t[e];o[e]=r=Mr(t[e],{internal:!0}),delete t[e]}return r[0]()})(e),enumerable:!0})};for(var i in e)n(i);var s=(e,r)=>{var n=o[e];if(n)return n[1](r);e in t&&(t[e]=zn(r,[t[e]]))};return[r,(e,t)=>{if(null===(n=e)||"object"!=typeof n&&"function"!=typeof n)s(e,t);else{var o=jr((()=>Object.entries(zn(e,r))));Hr((()=>{var e,t=_(o);try{var r=function(){var t=w(e.value,2),r=t[0],o=t[1];s(r,(()=>o))};for(t.s();!(e=t.n()).done;)r()}catch(n){t.e(n)}finally{t.f()}}))}var n;return r}]}var di={passive:!0},hi={x:0,y:0,isInside:!1,sourceType:null};var ci=Wn(function(e,t={}){var r=w(li(R(R({},hi),t.initialValue)),2),o=r[0],n=r[1],i=e=>{!function(e=window,t,r={}){var o=r.touch,n=void 0===o||o,i=r.followTouch,s=void 0===i||i,a=w(On(e,di),2),l=a[0],d=a[1],h=e=>t({x:e.pageX,y:e.pageY,sourceType:"mouse"});if(l("mousemove",h),l("dragover",h),n){var c=e=>{e.touches.length&&t({x:e.touches[0].clientX,y:e.touches[0].clientY,sourceType:"touch"})};l("touchstart",c),s&&l("touchmove",c)}}(e,n,t),function(e=window,t,r={}){var o=r.touch,n=void 0===o||o,i=w(On(e,di),2),s=i[0],a=i[1],l=!1,d=!n;function h(e){"mouse"===this?l=e:d=e,t(l||d)}s("mouseover",h.bind("mouse",!0)),s("mouseout",h.bind("mouse",!1)),s("mousemove",h.bind("mouse",!0),{passive:!0,once:!0}),n&&(s("touchstart",h.bind("touch",!0)),s("touchend",h.bind("touch",!1)))}(e,n.bind(void 0,"isInside"),t)};return"function"!=typeof e?i(e):Or((()=>i(e()))),o}.bind(void 0,void 0,void 0));function ui(e,t){return new KeyboardEvent("keydown",{key:e,keyCode:t,which:t,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,bubbles:!0})}var fi=ei((e=>{var t=e.deltaY;t<0?document.dispatchEvent(ui("ArrowUp",38)):t>0&&document.dispatchEvent(ui("ArrowDown",40))}),250),pi=e=>{var t,r=Bo(),o=(null===(t=Vt.rendererOptions)||void 0===t?void 0:t.deviceLogicalPixelRatio)||1;r&&vi(e.clientX,e.clientY,r.lng.coreNode.absX*o,r.lng.coreNode.absY*o,r.width*o,r.height*o)&&document.dispatchEvent(ui("Enter",13))};function vi(e,t,r,o,n=0,i=0){return e>=r&&e<=r+n&&t>=o&&t<=o+i}function gi(e=Mo,t=100){var r,o,n,i,s,a,l,d=ci(),h=(r=e=>ei(e,t),o=0,n=!1,i=w(Mr(void 0,{equals:!1}),2),s=i[0],a=i[1],l=r((()=>{n=!0,a()})),()=>(n||(l(),s()),n?(n=!!o,!0):(Xr()&&(o++,Kr((()=>o--))),!1)));Pn(window,"wheel",fi),Pn(window,"click",pi),Or((()=>{if(h()){var t=function(e,t,r){for(var o,n=[],i=(null===(o=Vt.rendererOptions)||void 0===o?void 0:o.deviceLogicalPixelRatio)||1,s=[e];s.length>0;){var a,l=[],d=_(s);try{for(d.s();!(a=d.n()).done;){var h=a.value;0!==h.alpha&&vi(t,r,h.lng.coreNode.absX*i,h.lng.coreNode.absY*i,h.width*i,h.height*i)&&l.push(h)}}catch(f){d.e(f)}finally{d.f()}var c=l.length;if(0===c)break;c>1&&l.sort(((e,t)=>(t.zIndex||0)-(e.zIndex||0)));var u=l[0];n.push(u),s=u.isTextNode()?[]:u.children}return n}(e,d.x,d.y).filter((e=>(e.focus||e.onFocus||e.onEnter)&&!e.skipFocus));if(t.length){for(var r=t[t.length-1];null!==(o=r.parent)&&void 0!==o&&o.forwardStates;){var o;r=r.parent}var n=r.parent;void 0!==(null==n?void 0:n.selected)&&(n.selected=n.children.indexOf(r)),Io(r)}}}))}var mi=w(Mr(""),2),xi=mi[0],yi=mi[1];S("s",yi);var bi=S("t",{name:"Base Lightning TV",alpha:{primary:1,secondary:.7,tertiary:.1,inactive:.5,full:1,none:0,alpha1:.1,alpha2:.3,alpha3:.5,alpha4:.7,alpha5:.9,alpha6:.95},animation:{duration:{none:0,xfast:100,fast:250,normal:500,slow:750,xslow:900},delay:{none:0,xfast:10,fast:25,normal:50,slow:75,xslow:90},expressive:{timingFunction:"cubic-bezier(0, 0, 1, 1)",delay:0,duration:.25},expressiveEntrance:{timingFunction:"cubic-bezier(0, 0, 1, 1)",delay:0,duration:.25},expressiveExit:{timingFunction:"cubic-bezier(0, 0, 1, 1)",delay:0,duration:.25},standard:{timingFunction:"cubic-bezier(0, 0, 1, 1)",delay:0,duration:.25},standardEntrance:{timingFunction:"cubic-bezier(0, 0, 1, 1)",delay:0,duration:.25},standardExit:{timingFunction:"cubic-bezier(0, 0, 1, 1)",delay:0,duration:.25},utility:{timingFunction:"cubic-bezier(0, 0, 1, 1)",delay:0,duration:.25},utilityEntrance:{timingFunction:"cubic-bezier(0, 0, 1, 1)",delay:0,duration:.25},utilityExit:{timingFunction:"cubic-bezier(0, 0, 1, 1)",delay:0,duration:.25}},asset:{arrowLeft:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGKADAAQAAAABAAAAGAAAAADiNXWtAAAAi0lEQVRIDWNgGAWjIfD//38JID5Fk5AAGqwKxPeA+D/VLQCaaQLEr0CGgwBVLQCa5wbEn0EGwwDVLAAaGA3Ev2AGw2iqWAA0rBiI/8EMRaYptgBoWDeygehsci1gIlcjWfqArqZdEMFcBLSEdpGMZAntkimSJbTLaEiW0K6oQLKEdoUdzJJRemiHAAD4n+yzPWCs7QAAAABJRU5ErkJggg==",arrowRight:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGKADAAQAAAABAAAAGAAAAADiNXWtAAAAg0lEQVRIDWNgGAWjIYArBP7//38KiCVwyVMsDjQcBO4BsSrFhmEzAGw8hHgFpEywqaFIDMkCEPMzELtRZCC6ZjQLQNxfQByNro5sPhYLQEL/gLiYbEORNeKwACbcDVPLBGMMOhrmVDSapkFE00imaTKlaUajaVFB28Ju0CXrUQfhDAEAEgHss6NhpLQAAAAASUVORK5CYII=",backspaceOutline:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAACQCAYAAADnRuK4AAAAAXNSR0IArs4c6QAACmpJREFUeF7tnVmoZUcVhv/feY4gBEVEH/KgCCZxCK2itNo4xQQH+kUN0TjEiDGKKBqnaExwBjUaR6KY+NQgiQkOMSYhYEScIopGJOqDE2hHjfP0y4p1Oqdv33v2qr32Prv2Paug6Ye7Vu2qv75TtWvtGohMqUBAAQZ80zUVQAKUEIQUSIBC8qVzApQMhBRIgELypXMClAyEFEiAQvKlcwKUDIQUSIBC8qVzApQMhBRIgELypXMClAyEFEiAQvKlcwKUDIQUSIBC8qVzApQMhBRIgELypXMClAyEFEiAQvKlcwKUDIQUSIBC8qVzApQMhBRIgELypXMClAyEFEiAQvKlcwKUDIQUSIBC8qVzApQMhBRIgELypfPsAJJ0NYC92XRHKPB3AAfLv18BuBLAFSR/NKZWswJI0vkA3jCmILsw75sAvIfkR8eo22wAknQSgMvGEGFD8vwxgFeQvGrI+s4CIEnHAPgugHsMWfkNzevDAM4i+Z8h6t88QJLuXOB5yBAVzjxuVeBaAM8ieXNUjzkAdAmA50Yrmv5HKPATACeQ/GNEm6YBkvRyANblZhpHAXsfekpkOGsWIEmPAHA9gDuOo13mWhS4gOSZfdVoEiBJ9wFwA4D7961Y+lUpsK/v7KxVgL4K4ElOCS4l+Uyn7a41k3Q0gMcC2ANgH4CHV1T2OyStx69OzQEk6TwAZztr8lMAx5P8s9N+Y8wk2cTjfQDu66z080h+zml7yKwpgCSdCOByZyX+BuBRJH/otN84M0kWN/s0gOc4Kv8Nko922B1m0gxAkh4I4AcVwcL9JA/UVnjT7CXdHYD9yEzfVUkAjib5uxqNmgCoBAu/CeBhzsJ/kORZTtuNN5Nk70bXAZ0Hy59G8qIawVoB6LMAnu8suE3tH0/y3077NAMg6esAuoaoC0la7M2dJgdI0ssAXOgs8W8BHEvS/s9UoYCkdwN4bYfL5STto7U7TQpQZbDQehzreawHylSpgKSTAVza4XYDyeNqsp4MoB7BwteQfH9N5dL2NgWK3l0vyAdJWhDXnSYBSNLtANh3GO/KwgMk97trlYbbKiDJPpzea5U8JKuYqDIeql0kvQPAG5352ZLMR5L8q9M+zXZQYFcAJOnJAL7sbGWLMFuk2SLOmYIKzB6gEiz8HoB7O7U4meQXnLZp1qGApD8BuOcsh7AewcL3kuyadg4OjSSbhRxH0j4BjJok2Ufga0j+YdQHlcznDlBNsPAa+xpP8r/rEHbxjAKPbRuyHvKFY0Ik6QUALOprPfIT1gHRbAGSdDoA77aSX5Zg4e8nhGfx6FEgWoJn8Zy1QCTplq5vjc3NwnoEC/eQ/HYD8IwC0TbwrA2i2QHUI1h4JskLGoJnUIhWwLMWiGYFkCSLMX2t5WDhlneeLm5Dw5kDntEhkmRhEVvesWNqZgiTdC6AN3W1Svn72oOFkuxF+WcVIQUrai+IKuA5BBHJ453auc1mA1AJFn7Jsf7EKj9ZsLBHw1ZDtI5neAmaBUBzCxaO2cBj5u2FZtlO0l8A3K3ZIaxHsPB8kt5vYn00c/mM0dBj5OmqzAqjOQDUfLBwJ32HbPAh84pCM5seSNJLAHzcWeFJgoVdZRui4YfIo6ucff8uyVY03LW5IawyWPgvW5u77mChV/QIABFfb/kidk0CVKbDth3Huw35dJLeniqiV2/fniDYx1f7vlWTeoUFah6wZQhrqwcqwUKbrtsaH0+6mOQpHsOpbXpCVFPstcJjBZNkmzHv0swQJultAN7iVO375TyafzjtJzcbEaK1w9McQJXBQlvvYmtsfjE5FZUFGAGiSeBpCqDKYKFtmX0qya9Utl0z5gNCNBk8BSA7CtiODNwxjf4trEew8BySNtTNOg0A0aTwtARQTbDQeh3rfawXmn0KQDQ5PC0B9EkAL3LSkAD9X6hWALIJzJ3mNoSdS9I7U3NyuX6zQO+zKOzkEEmaHqDSFdpZM97tOfkSfRvvk0LUDEAFIgseetf85DS+AYgk/bPr1NvRZ2HLg4ektwI4xzmgZCBxYohaBMjWPeenDOcvaIvZ2oez5gAqQ5mtLbb3oa4z+Bb6nTHW1UP92vFIr54vzJ8BcGplGdYKkSRbCXGHSWdh2z1ckp1taGccroxyFt9cznG4iGuDqFmASk9kZxxakNGTckHZBBA1DVCB6BMAXuwhyA4VmGL/+05l6zlsbdt7DJmXU0uXmSQ7JvD2zQ1hiwJJsotRvlVxXO87SU5+heUYDT5Gni5KVhg1D1DphWqCjOYy6RlAYzb0mHn3gWkWABWIaoKMubHwSBpGebGWZNdc2vmUO6a1BhJXFUSSff/yLuOYamvzzwEcVfFr7tWwPXqi6uN2PXWYG0C1Qca1n8RaDlewl3kPRL3gWXo/XBwo1dXWdk/a3jEOnJoVQGUoqw0yvpLkh7oUHvLvTohC8FRANBo8pT3sxLeVJ/M2M4QtiVYTZJzkNPoOiAaBxwHRqPDMFqBS8Jog4yT3YewA0aDwrIBodHhmDVApvG0mtO3PnjTJjTxbIBoFnm0gWgs8pQ06lxY3N4QtCWZBRgPDezdnHvPr+alV2EiaL0DlF2Dbn20bdB40XtHwQ5nOHqAC0SyCjEM1Wkv57AqACkRvBvB2p7hrDzI6yzU7s90EUPNBxtnR4SjwrgGo9EK1Qca8cM4ByU4mkuz++F93ZHELyZX3iW31n+S+sKWZWfNBxkCbNeUq6ekArugo1I0kH1xT8EkBKj1R80HGGkFbtZVkZ3bb2d2r0tUkn1hTh8kBKhB9DMBLnQWfJMjoLFuTZpJsO/ONAB7UUcBLSHqvX781q1YAqg0yfoDkq5psrQYLJeldAF7nKFr1x+wmACq9kAUZLazvvTV4P8kDDlE22kTSQ4uuK9dCF5HuR/I3NYI1A1CBaB+AK50VsAMj7TJeixNl2kYBSccCsB/ZMQ6Brif5GIfdYSZNAVQg8rzsLSphl/Hapby2LDZTUaBcq/56ALb1fOVxLkuinULy4loRmwOoQGQX7T7DWZnPk3y203bXmkl6AIA91isDOBGADV3e1HsJbasA1QYZvUKl3fYKPI2knXFQnZoEqPRCNUHG6oqnwyEFLiJ5Wl89mgWoQFQTZOyrwSb7WUztcSRtu0+v1DRABaKPADijV+3SaZUCNgE5geTNEZnmAFBtkDGix6b4Xld2BNvJcaHUPEClF6oNMoZE2eXOtm3q1ZFha1mfWQBUINoL4Kqurbm7vPEj1bOAqx3udW0kk62+swGoQHQ2gPOGFGAD8roJgF0t+qkx6jorgApElwE4aQwxZp6n3YNxsPyzA7yst/4iSdvEMFqaHUCjKZEZ91IgAeolWzotFEiAkoWQAglQSL50ToCSgZACCVBIvnROgJKBkAIJUEi+dE6AkoGQAglQSL50ToCSgZACCVBIvnROgJKBkAIJUEi+dE6AkoGQAglQSL50ToCSgZACCVBIvnROgJKBkAIJUEi+dE6AkoGQAglQSL50ToCSgZACCVBIvnROgJKBkAIJUEi+dE6AkoGQAglQSL50ToCSgZACCVBIvnT+H0jPT81J3xWWAAAAAElFTkSuQmCC",check:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAOCAYAAAAi2ky3AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACtSURBVHgBvdPdDcIgEAfwoy8Nb45QN3AGF2s36Ahu4gpuIDoBfSgfpdoTlCbEWEMh6T8hFzjyg5AAkBHOcQe5UWqspRx435sDpMYj6IYQwwVSEiJ2MKVUBWuzLSLl2HL+uxmNCGFO8yaL7RHxve6qRZoAuS4hxac8735elWVx7jrtMKL1o0Gcat9jhExHSukN/kUIFZ7MpDRtzE1isDRkAUtDvrA8ZI597FUf8gWH9P0b4gko9wAAAABJRU5ErkJggg=="},color:{palette:{},white:"0xffffffff",black:"0x000000ff",grey:"0x929096ff",red:"0xe74c3cff",orange:"0xdc7633ff",yellow:"0xf7dc6fff",green:"0x2ecc71ff",blue:"0x93a9fdff",purple:"0x663399ff",overlay:"0x181819b3",material:"0x181819ff",materialNeutral:"0x181819ff",materialNeutralElevated:"0x373639ff",materialInverse:"0xf8f7faff",materialInverseElevated:"0xffffffff",materialBrand:"0x000033ff",materialBrandElevated:"0x242a65ff",textNeutral:"0xf8f7faff",textNeutralSecondary:"0xf8f7fab3",textNeutralTertiary:"0xf8f7fa1a",textNeutralDisabled:"0xf8f7fa80",textInverse:"0x181819ff",textInverseSecondary:"0x181819b3",textInverseTertiary:"0x1818191a",textInverseDisabled:"0x18181980",textBrand:"0x93a9fdff",textBrandSecondary:"0x93a9fdb3",textBrandTertiary:"0x93a9fd1a",textBrandDisabled:"0x93a9fd80",textPositive:"0x2ecc71ff",textNegative:"0xe74c3cff",textInfo:"0x93a9fdff",textCaution:"0xdc7633ff",fillTransparent:"0xffffff0",fillNeutral:"0xf8f7faff",fillNeutralSecondary:"0xf8f7fab3",fillNeutralTertiary:"0xf8f7fa1a",fillNeutralDisabled:"0xf8f7fa80",fillInverse:"0x181819ff",fillInverseSecondary:"0x181819b3",fillInverseTertiary:"0x1818191a",fillInverseDisabled:"0x18181980",fillBrand:"0x93a9fdff",fillBrandSecondary:"0x93a9fdb3",fillBrandTertiary:"0x93a9fd1a",fillBrandDisabled:"0x93a9fd80",fillPositive:"0x2ecc71ff",fillNegative:"0xe74c3cff",fillInfo:"0x93a9fdff",fillCaution:"0xdc7633ff",strokeNeutral:"0xf8f7faff",strokeNeutralSecondary:"0xf8f7fab3",strokeNeutralTertiary:"0xf8f7fa1a",strokeNeutralDisabled:"0xf8f7fa80",strokeInverse:"0x181819ff",strokeInverseSecondary:"0x181819b3",strokeInverseTertiary:"0x1818191a",strokeInverseDisabled:"0x18181980",strokeBrand:"0x93a9fdff",strokeBrandSecondary:"0x93a9fdb3",strokeBrandTertiary:"0x93a9fd1a",strokeBrandDisabled:"0x93a9fd80",strokePositive:"0x2ecc71ff",strokeNegative:"0xe74c3cff",strokeInfo:"0x93a9fdff",strokeCaution:"0xdc7633ff",interactiveNeutral:"0xffffff1a",interactiveNeutralFocus:"0xffffffff",interactiveNeutralFocusSoft:"0xffffff1a",interactiveInverse:"0x48474b1a",interactiveInverseFocus:"0x48474bff",interactiveInverseFocusSoft:"0x48474b1a",interactiveBrand:"0xbecffe1a",interactiveBrandFocus:"0xbecffeff",interactiveBrandFocusSoft:"0xbecffe1a",shadowNeutral:"0x000000b3",shadowNeutralFocus:"0x000000b3",shadowNeutralFocusSoft:"0x000000b3",shadowNeutralText:"0x000000ff",shadowInverse:"0x000000b3",shadowInverseFocus:"0x000000b3",shadowInverseFocusSoft:"0x000000b3",shadowInverseText:"0x000000ff",shadowBrand:"0x000000b3",shadowBrandFocus:"0x000000b3",shadowBrandFocusSoft:"0x000000b3",shadowBrandText:"0x000000ff"},font:[],layout:{columnCount:10,focusScale:1.2,gutterX:20,gutterY:20,marginX:150,marginY:150,safe:50,screenW:1920,screenH:1080},radius:{none:0,xs:2,sm:4,md:8,lg:16,xl:24},spacer:{none:0,xxs:2,xs:4,sm:8,md:10,lg:20,xl:30,xxl:40,xxxl:50},stroke:{none:0,sm:2,md:4,lg:6,xl:8},typography:{display1:{fontFamily:"Arial",fontSize:75,lineHeight:85,fontWeight:500,verticalAlign:"middle",textBaseline:"bottom"},display2:{fontFamily:"Arial",fontSize:50,lineHeight:60,fontWeight:500,verticalAlign:"middle",textBaseline:"bottom"},display3:{fontFamily:"Arial",fontSize:56,fontWeight:400,lineHeight:68,verticalAlign:"middle",textBaseline:"bottom"},display4:{fontFamily:"Arial",fontSize:48,fontWeight:400,lineHeight:64,verticalAlign:"middle",textBaseline:"bottom"},headline1:{fontFamily:"Arial",fontSize:35,fontWeight:500,lineHeight:48,verticalAlign:"middle",textBaseline:"bottom"},headline2:{fontFamily:"Arial",fontSize:30,fontWeight:500,lineHeight:40,verticalAlign:"middle",textBaseline:"bottom"},headline3:{fontFamily:"Arial",fontSize:25,fontWeight:500,lineHeight:36,verticalAlign:"middle",textBaseline:"bottom"},body1:{fontFamily:"Arial",fontSize:25,fontWeight:300,lineHeight:40,verticalAlign:"middle",textBaseline:"bottom"},body2:{fontFamily:"Arial",fontSize:22,fontWeight:300,lineHeight:32,verticalAlign:"middle",textBaseline:"bottom"},body3:{fontFamily:"Arial",fontSize:20,fontWeight:300,lineHeight:32,verticalAlign:"middle",textBaseline:"bottom"},button1:{fontFamily:"Arial",fontSize:25,fontWeight:500,lineHeight:32,verticalAlign:"middle",textBaseline:"bottom"},button2:{fontFamily:"Arial",fontSize:20,fontWeight:500,lineHeight:32,verticalAlign:"middle",textBaseline:"bottom"},callout1:{fontFamily:"Arial",fontSize:20,fontWeight:500,lineHeight:32,verticalAlign:"middle",textBaseline:"bottom"},caption1:{fontFamily:"Arial",fontSize:15,fontWeight:500,lineHeight:24,verticalAlign:"middle",textBaseline:"bottom"},tag1:{fontFamily:"Arial",fontSize:20,fontWeight:500,lineHeight:24,verticalAlign:"middle",textBaseline:"bottom"},footnote1:{fontFamily:"Arial",fontSize:22,fontWeight:300,lineHeight:30,verticalAlign:"middle",textBaseline:"bottom"},subtitle1:{fontFamily:"Arial",fontSize:32,fontWeight:400,lineHeight:36,verticalAlign:"middle",textBaseline:"bottom"},subtitle2:{fontFamily:"Arial",fontSize:28,fontWeight:500,lineHeight:32,verticalAlign:"middle",textBaseline:"bottom"},navigation:{fontFamily:"Arial",fontSize:28,fontWeight:400,lineHeight:32,verticalAlign:"middle",textBaseline:"bottom"}},componentConfig:{Keyboard:{base:{keyProps:{delete:{title:null,icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAACQCAYAAADnRuK4AAAAAXNSR0IArs4c6QAACmpJREFUeF7tnVmoZUcVhv/feY4gBEVEH/KgCCZxCK2itNo4xQQH+kUN0TjEiDGKKBqnaExwBjUaR6KY+NQgiQkOMSYhYEScIopGJOqDE2hHjfP0y4p1Oqdv33v2qr32Prv2Paug6Ye7Vu2qv75TtWvtGohMqUBAAQZ80zUVQAKUEIQUSIBC8qVzApQMhBRIgELypXMClAyEFEiAQvKlcwKUDIQUSIBC8qVzApQMhBRIgELypXMClAyEFEiAQvKlcwKUDIQUSIBC8qVzApQMhBRIgELypXMClAyEFEiAQvKlcwKUDIQUSIBC8qVzApQMhBRIgELypXMClAyEFEiAQvKlcwKUDIQUSIBC8qVzApQMhBRIgELypfPsAJJ0NYC92XRHKPB3AAfLv18BuBLAFSR/NKZWswJI0vkA3jCmILsw75sAvIfkR8eo22wAknQSgMvGEGFD8vwxgFeQvGrI+s4CIEnHAPgugHsMWfkNzevDAM4i+Z8h6t88QJLuXOB5yBAVzjxuVeBaAM8ieXNUjzkAdAmA50Yrmv5HKPATACeQ/GNEm6YBkvRyANblZhpHAXsfekpkOGsWIEmPAHA9gDuOo13mWhS4gOSZfdVoEiBJ9wFwA4D7961Y+lUpsK/v7KxVgL4K4ElOCS4l+Uyn7a41k3Q0gMcC2ANgH4CHV1T2OyStx69OzQEk6TwAZztr8lMAx5P8s9N+Y8wk2cTjfQDu66z080h+zml7yKwpgCSdCOByZyX+BuBRJH/otN84M0kWN/s0gOc4Kv8Nko922B1m0gxAkh4I4AcVwcL9JA/UVnjT7CXdHYD9yEzfVUkAjib5uxqNmgCoBAu/CeBhzsJ/kORZTtuNN5Nk70bXAZ0Hy59G8qIawVoB6LMAnu8suE3tH0/y3077NAMg6esAuoaoC0la7M2dJgdI0ssAXOgs8W8BHEvS/s9UoYCkdwN4bYfL5STto7U7TQpQZbDQehzreawHylSpgKSTAVza4XYDyeNqsp4MoB7BwteQfH9N5dL2NgWK3l0vyAdJWhDXnSYBSNLtANh3GO/KwgMk97trlYbbKiDJPpzea5U8JKuYqDIeql0kvQPAG5352ZLMR5L8q9M+zXZQYFcAJOnJAL7sbGWLMFuk2SLOmYIKzB6gEiz8HoB7O7U4meQXnLZp1qGApD8BuOcsh7AewcL3kuyadg4OjSSbhRxH0j4BjJok2Ufga0j+YdQHlcznDlBNsPAa+xpP8r/rEHbxjAKPbRuyHvKFY0Ik6QUALOprPfIT1gHRbAGSdDoA77aSX5Zg4e8nhGfx6FEgWoJn8Zy1QCTplq5vjc3NwnoEC/eQ/HYD8IwC0TbwrA2i2QHUI1h4JskLGoJnUIhWwLMWiGYFkCSLMX2t5WDhlneeLm5Dw5kDntEhkmRhEVvesWNqZgiTdC6AN3W1Svn72oOFkuxF+WcVIQUrai+IKuA5BBHJ453auc1mA1AJFn7Jsf7EKj9ZsLBHw1ZDtI5neAmaBUBzCxaO2cBj5u2FZtlO0l8A3K3ZIaxHsPB8kt5vYn00c/mM0dBj5OmqzAqjOQDUfLBwJ32HbPAh84pCM5seSNJLAHzcWeFJgoVdZRui4YfIo6ucff8uyVY03LW5IawyWPgvW5u77mChV/QIABFfb/kidk0CVKbDth3Huw35dJLeniqiV2/fniDYx1f7vlWTeoUFah6wZQhrqwcqwUKbrtsaH0+6mOQpHsOpbXpCVFPstcJjBZNkmzHv0swQJultAN7iVO375TyafzjtJzcbEaK1w9McQJXBQlvvYmtsfjE5FZUFGAGiSeBpCqDKYKFtmX0qya9Utl0z5gNCNBk8BSA7CtiODNwxjf4trEew8BySNtTNOg0A0aTwtARQTbDQeh3rfawXmn0KQDQ5PC0B9EkAL3LSkAD9X6hWALIJzJ3mNoSdS9I7U3NyuX6zQO+zKOzkEEmaHqDSFdpZM97tOfkSfRvvk0LUDEAFIgseetf85DS+AYgk/bPr1NvRZ2HLg4ektwI4xzmgZCBxYohaBMjWPeenDOcvaIvZ2oez5gAqQ5mtLbb3oa4z+Bb6nTHW1UP92vFIr54vzJ8BcGplGdYKkSRbCXGHSWdh2z1ckp1taGccroxyFt9cznG4iGuDqFmASk9kZxxakNGTckHZBBA1DVCB6BMAXuwhyA4VmGL/+05l6zlsbdt7DJmXU0uXmSQ7JvD2zQ1hiwJJsotRvlVxXO87SU5+heUYDT5Gni5KVhg1D1DphWqCjOYy6RlAYzb0mHn3gWkWABWIaoKMubHwSBpGebGWZNdc2vmUO6a1BhJXFUSSff/yLuOYamvzzwEcVfFr7tWwPXqi6uN2PXWYG0C1Qca1n8RaDlewl3kPRL3gWXo/XBwo1dXWdk/a3jEOnJoVQGUoqw0yvpLkh7oUHvLvTohC8FRANBo8pT3sxLeVJ/M2M4QtiVYTZJzkNPoOiAaBxwHRqPDMFqBS8Jog4yT3YewA0aDwrIBodHhmDVApvG0mtO3PnjTJjTxbIBoFnm0gWgs8pQ06lxY3N4QtCWZBRgPDezdnHvPr+alV2EiaL0DlF2Dbn20bdB40XtHwQ5nOHqAC0SyCjEM1Wkv57AqACkRvBvB2p7hrDzI6yzU7s90EUPNBxtnR4SjwrgGo9EK1Qca8cM4ByU4mkuz++F93ZHELyZX3iW31n+S+sKWZWfNBxkCbNeUq6ekArugo1I0kH1xT8EkBKj1R80HGGkFbtZVkZ3bb2d2r0tUkn1hTh8kBKhB9DMBLnQWfJMjoLFuTZpJsO/ONAB7UUcBLSHqvX781q1YAqg0yfoDkq5psrQYLJeldAF7nKFr1x+wmACq9kAUZLazvvTV4P8kDDlE22kTSQ4uuK9dCF5HuR/I3NYI1A1CBaB+AK50VsAMj7TJeixNl2kYBSccCsB/ZMQ6Brif5GIfdYSZNAVQg8rzsLSphl/Hapby2LDZTUaBcq/56ALb1fOVxLkuinULy4loRmwOoQGQX7T7DWZnPk3y203bXmkl6AIA91isDOBGADV3e1HsJbasA1QYZvUKl3fYKPI2knXFQnZoEqPRCNUHG6oqnwyEFLiJ5Wl89mgWoQFQTZOyrwSb7WUztcSRtu0+v1DRABaKPADijV+3SaZUCNgE5geTNEZnmAFBtkDGix6b4Xld2BNvJcaHUPEClF6oNMoZE2eXOtm3q1ZFha1mfWQBUINoL4Kqurbm7vPEj1bOAqx3udW0kk62+swGoQHQ2gPOGFGAD8roJgF0t+qkx6jorgApElwE4aQwxZp6n3YNxsPyzA7yst/4iSdvEMFqaHUCjKZEZ91IgAeolWzotFEiAkoWQAglQSL50ToCSgZACCVBIvnROgJKBkAIJUEi+dE6AkoGQAglQSL50ToCSgZACCVBIvnROgJKBkAIJUEi+dE6AkoGQAglQSL50ToCSgZACCVBIvnROgJKBkAIJUEi+dE6AkoGQAglQSL50ToCSgZACCVBIvnROgJKBkAIJUEi+dE6AkoGQAglQSL50ToCSgZACCVBIvnT+H0jPT81J3xWWAAAAAElFTkSuQmCC"}}}}}});function wi(){var e,t,r,o=0,n={duration:750,easing:"ease-in-out"},i={alpha:1,color:4294967295};return Or(Qr(xi,(i=>{!function(i){i.startsWith("#")?(e.color=No(i),e.src="",e.alpha=1,o=1,t.alpha=0,r.alpha=0):(e.color=4294967295,r.alpha=1,0===o?(e.src=i,o=1):1===o?(t.src=i,o=2,t.alpha=0,t.animate({alpha:1},n).start(),e.animate({alpha:0},n).start()):2===o&&(e.src=i,o=1,e.alpha=0,e.animate({alpha:1},n).start(),t.animate({alpha:0},n).start()))}(i)}),{defer:!0})),Wo($o,{width:1920,height:1080,zIndex:-5,get children(){return[Wo($o,{ref(t){"function"==typeof e?e(t):e=t},style:i}),Wo($o,{ref(e){"function"==typeof t?t(e):t=e},style:i,alpha:0}),Wo($o,{ref(e){"function"==typeof r?r(e):r=e},src:"./assets/hero-mask-inverted.png",get color(){return No(bi.color.materialBrand)},width:1920,height:1080})]}})}function Si(e){if(!e||!e[Symbol.iterator])throw new Error("objectFromEntries requires a single iterable argument");var t,r={},o=_(e);try{for(o.s();!(t=o.n()).done;){var n=w(t.value,2),i=n[0],s=n[1];r[i]=s}}catch(a){o.e(a)}finally{o.f()}return r}var Ai=["focus","disabled"],Ci=["brand","inverse","neutral"];function Ti({themeKeys:e,base:t,modes:r={},tones:o={},themeStyles:n,modeKeys:i=Ai,toneKeys:s=Ci},a=!1){var l=t=>Si(Object.entries(e).filter((([e,r])=>t[r])).map((([e,r])=>[e,t[r]])));return((e,t,r)=>{var o=(e=>{var t=Si(Object.entries(e).map((([e,t])=>{var r=l(t);return Object.entries(t).filter((([e,t])=>i.includes(e))).forEach((([e,t])=>{r[e]=l(t)})),[e,r]})));return t})(n);a&&console.log(o);var d=((e,t)=>R(R({},e),t.base))(e,o);a&&console.log(d);var h=((e,t)=>Si(i.map((r=>[r,R(R({},null==e?void 0:e[r]),null==t?void 0:t[r])]))))(t,o);a&&console.log(h);var c=((e,t,r)=>{var o=s.map((o=>{var n,s,a={};return new Set([].concat.apply([],[null!==(n=null==e?void 0:e[o])&&void 0!==n?n:{},null!==(s=null==t?void 0:t[o])&&void 0!==s?s:{}].map(Object.keys))).forEach((r=>{var n,s,l;i.includes(r)||(a[r]=null!==(n=null==t||null===(s=t[o])||void 0===s?void 0:s[r])&&void 0!==n?n:null==e||null===(l=e[o])||void 0===l?void 0:l[r])})),i.forEach((n=>{var i,s;a[n]=R(R(R({},r[n]),null==e||null===(i=e[o])||void 0===i?void 0:i[n]),null==t||null===(s=t[o])||void 0===s?void 0:s[n])})),[o,a]}));return Si(o)})(r,o,h);return a&&console.log(c),{base:R(R({},d),h),tones:c}})(t,r,o)}function Ri(e=0){return(t,r,o=0,n)=>{var i,s,a;if(0!==t.children.length){var l="row"===t.flexDirection?"width":"height",d="row"===t.flexDirection?"x":"y",h=t.gap||0,c=t.scroll||"auto",u=function(e){var t,r;if("row"===e.flexDirection){var o,n,i;t={position:null!==(o=e.children[e.children.length-1].x)&&void 0!==o?o:0,size:null!==(n=e.children[e.children.length-1].width)&&void 0!==n?n:0},r=null!==(i=e.width)&&void 0!==i?i:0}else{var s,a,l;t={position:null!==(s=e.children[e.children.length-1].y)&&void 0!==s?s:0,size:null!==(a=e.children[e.children.length-1].height)&&void 0!==a?a:0},r=null!==(l=e.height)&&void 0!==l?l:0}return[t,r]}(t),f=w(u,2),p=f[0],v=f[1],g=null!==(i=t[d])&&void 0!==i?i:0,m=null!==(s=null==r?void 0:r[d])&&void 0!==s?s:0,x=null!==(a=null==r?void 0:r[l])&&void 0!==a?a:0,y=void 0===n?"none":o>n?"positive":"negative",b=g;if("auto"===c)null!=t.scrollIndex&&t.scrollIndex>=0?t.selected>=t.scrollIndex&&(b="positive"===y?g-x-h:g+x+h):(Math.abs(g)+v<p.position+p.size||m<Math.abs(g))&&(b=-m+e);else if("always"===c||"edge"===c&&"negative"===y&&Math.abs(g)>m)b=-m+e;else if("edge"===c&&"positive"===y&&Math.abs(g)+v<m+x)b=g-x-h;else if("edge"===c&&"none"===y){for(var S=0;S<t.children.length&&Math.abs(g)+v<m+x;){var A;g-=(null!==(A=t.children[S++][l])&&void 0!==A?A:0)+h}b=g}"x"===d&&t.x!==b?t.x=b:"y"===d&&t.y!==b&&(t.y=b)}}}function ki(...e){var t=e.filter((e=>"function"==typeof e));if(0!==t.length)return 1===t.length?t[0]:function(...e){var r,o,n=_(t);try{for(n.s();!(o=n.n()).done;){if(!0===(r=o.value.apply(this,e)))return r}}catch(i){n.e(i)}finally{n.f()}return r}}function _i(){if(!this||void 0===this.selected||0===this.children.length)return!1;for(var e=this.children[this.selected];null!==(t=e)&&void 0!==t&&t.skipFocus;){var t;this.selected++,e=this.children[this.selected]}return e instanceof hr&&(e.setFocus(),!0)}function Bi(e){return function(){var t,r=this.children.length,o=this.wrap,n=this.selected||0;if(0===r)return!1;if("right"===e||"down"===e)do{var i;if(this.selected=(this.selected||0)%r+1,this.selected>=r){if(!o){this.selected=void 0;break}this.selected=0}}while(null!==(i=this.children[this.selected])&&void 0!==i&&i.skipFocus);else if("left"===e||"up"===e)do{var s;if(this.selected=(this.selected||0)%r-1,this.selected<0){if(!o){this.selected=void 0;break}this.selected=r-1}}while(null!==(s=this.children[this.selected])&&void 0!==s&&s.skipFocus);if(void 0===this.selected&&(this.selected=n,null!==(t=this.children[this.selected])&&void 0!==t&&t.states.has("focus")))return!1;var a=this.children[this.selected];if(this.onSelectedChanged&&this.onSelectedChanged.call(this,this,a,this.selected,n),this.plinko&&void 0!==n){var l=this.children[n].selected||0;a.selected=l<a.children.length?l:a.children.length-1}return a.setFocus(),!0}}function Ii(e,t){var r,o,n,i,s=t();if(Array.isArray(s))if(2===s.length)r=i=s[0],o=n=s[1];else if(3===s.length)r=s[0],o=n=s[1],i=s[2];else{var a=w(s,4);r=a[0],n=a[1],i=a[2],o=a[3]}else r=n=i=o=s;e.onBeforeLayout=(t,s)=>{if(s){e.width=e.children.reduce(((e,t)=>e+(t.width||0)),0)+o+n;var a=e.children[0];a&&(a.x=o,a.marginLeft=o);var l=0;return e.children.forEach((e=>{e.y=r,e.marginTop=r,l=Math.max(l,e.height||0)})),e.height=l+r+i,!0}}}var Ni=(null==bi?void 0:bi.componentConfig).Artwork,Ei=void 0===Ni?{themeStyles:{}}:Ni,Fi=(Ei.defaultTone,b(Ei,e));Ti({themeKeys:{fallbackSrc:"fallbackSrc",fillColor:"fillColor",scale:"imageScale",pivotX:"imageScalePivotX",pivotY:"imageScalePivotY",borderRadius:"radius"},base:{fallbackSrc:void 0,fillColor:bi.color.overlay,gradientColor:bi.color.material,pivotX:.5,pivotY:.5,scale:void 0,borderRadius:bi.radius.md},themeStyles:Fi});var Li=bi.componentConfig.Badge,zi=void 0===Li?{themeStyles:{}}:Li,Mi=(zi.defaultTone,b(zi,t)),Di={themeKeys:{color:"backgroundColor",borderRadius:"radius",gap:"contentSpacing"},base:{color:bi.color.fillInverseSecondary,borderRadius:bi.radius.sm,border:{color:bi.color.strokeInverse,width:bi.stroke.sm},gap:bi.spacer.xs,display:"flex",justifyContent:"spaceEvenly",padding:[bi.spacer.md-bi.stroke.sm,bi.spacer.xs+bi.stroke.sm,bi.spacer.md+bi.stroke.sm,bi.spacer.md+bi.stroke.sm]},tones:{inverse:{color:bi.color.fillNeutralSecondary,borderRadius:bi.radius.sm,border:{color:bi.color.strokeInverseSecondary,width:bi.stroke.sm}},brand:{color:bi.color.fillBrand,borderRadius:bi.radius.sm,border:{color:bi.color.strokeInverseSecondary,width:bi.stroke.sm}}},themeStyles:Mi},Pi={themeKeys:{color:"textColor"},base:R(R({},bi.typography.tag1),{},{color:bi.color.textNeutral}),tones:{inverse:{color:bi.color.textInverse},brand:{color:bi.color.textNeutral}},themeStyles:Mi},Oi={themeKeys:{color:"iconColor"},base:{color:bi.color.textNeutral},tones:{inverse:{color:bi.color.textInverse},brand:{color:bi.color.textNeutral}},themeStyles:Mi};Ti(Di),Ti(Oi),Ti(Pi);var Ui=(null==bi?void 0:bi.componentConfig).Button,Wi=void 0===Ui?{buttonThemeStyles:{}}:Ui,Yi=Wi.defaultTone,Hi=b(Wi,r),ji=(null==bi?void 0:bi.componentConfig).Surface,Qi=void 0===ji?{surfaceThemeStyles:{}}:ji,Ki=Qi.surfaceDefaultTone,Xi=b(Qi,o),$i=R(R({},Hi),Xi),Gi={themeKeys:{textAlign:"textAlign",borderRadius:"radius",color:"backgroundColor",justifyContent:"justify",itemSpacing:"contentSpacing"},base:{height:bi.typography.button1.lineHeight+2*bi.spacer.xl,display:"flex",padding:[bi.spacer.xxxl,bi.spacer.xl],color:bi.color.interactiveNeutral,justifyContent:"center",alignItems:"center",borderRadius:bi.radius.sm,contentColor:bi.color.fillNeutral},modes:{focus:{color:bi.color.interactiveNeutralFocus,contentColor:bi.color.fillInverse},disabled:{color:bi.color.fillNeutralDisabled}},tones:{inverse:{color:bi.color.interactiveInverse},brand:{color:bi.color.interactiveBrand,focus:{color:bi.color.fillNeutral}}},themeStyles:$i},Vi={themeKeys:{color:"contentColor"},base:{color:bi.color.textNeutral},modes:{focus:{color:bi.color.textInverse},disabled:{color:bi.color.textNeutralDisabled}},tones:{inverse:{color:bi.color.fillNeutral},brand:{color:bi.color.fillBrand,focus:{color:bi.color.fillBrand}}},themeStyles:$i},qi={themeKeys:{color:"textColor"},base:R({color:bi.color.textNeutral},bi.typography.button1),modes:{focus:{color:bi.color.textInverse},disabled:{color:bi.color.textNeutralDisabled}},tones:{inverse:{color:bi.color.fillNeutral},brand:{color:bi.color.fillBrand,focus:{color:bi.color.fillBrand}}},themeStyles:$i},Zi=Ti(Gi),Ji=Ti(Vi),es=Ti(qi),ts=(S("y",{tone:Yi||Ki||"neutral",Container:Zi,Content:Ji,Text:es}),(null==bi?void 0:bi.componentConfig).Checkbox),rs=void 0===ts?{themeStyles:{}}:ts,os=(rs.defaultTone,b(rs,n)),ns={themeKeys:{color:"backgroundColor",borderRadius:"radius",border:"border",justifyContent:"justifyContent"},base:{width:bi.spacer.xxl,height:bi.spacer.xxl,display:"flex",justifyContent:"center",color:bi.color.fillNeutral,alignItems:"center",borderRadius:bi.spacer.xxl/4,border:{color:bi.color.strokeInverse,width:bi.stroke.sm}},modes:{disabled:{alpha:bi.alpha.inactive}},tones:{brand:{borderRadius:bi.spacer.xxl/4,border:{color:bi.color.strokeNeutralSecondary,width:bi.stroke.sm},color:bi.color.fillNeutralSecondary,checked:{borderRadius:bi.spacer.xxl/4,border:{color:bi.color.strokeNeutralSecondary,width:bi.stroke.sm},color:bi.color.fillBrand}},neutral:{borderRadius:bi.spacer.xxl/4,border:{color:bi.color.strokeNeutralSecondary,width:bi.stroke.sm},color:bi.color.fillInverseSecondary,checked:{borderRadius:bi.spacer.xxl/4,border:{color:bi.color.strokeNeutralSecondary,width:bi.stroke.sm},color:bi.color.fillNeutral}},inverse:{borderRadius:bi.spacer.xxl/4,border:{color:bi.color.strokeInverseSecondary,width:bi.stroke.sm},color:bi.color.fillNeutralSecondary,checked:{borderRadius:bi.spacer.xxl/4,border:{color:bi.color.strokeInverseSecondary,width:bi.stroke.sm},color:bi.color.fillInverse}}},modeKeys:["focus","disabled","checked"],themeStyles:os},is={themeKeys:{width:"checkWidth",height:"checkHeight"},base:{width:bi.spacer.lg,height:bi.spacer.lg,src:bi.asset.check},tones:{neutral:{color:bi.color.fillInverse},inverse:{color:bi.color.fillNeutral},brand:{color:bi.color.fillInverse}},themeStyles:os};Ti(ns),Ti(is);var ss=(null==bi?void 0:bi.componentConfig).Icon,as=void 0===ss?{themeStyles:{}}:ss,ls=(as.defaultTone,b(as,i));Ti({themeKeys:{color:"color"},base:{width:100,height:100,color:bi.color.fillInverse},tones:{inverse:{color:bi.color.fillInverse},brand:{color:bi.color.fillBrand}},themeStyles:ls});var ds=(null==bi?void 0:bi.componentConfig).Column,hs=void 0===ds?{themeStyles:{}}:ds,cs=hs.defaultTone,us=b(hs,s),fs={tone:cs||"neutral",Container:Ti({themeKeys:{gap:"itemSpacing",scrollIndex:"scrollIndex",transition:"itemTransition"},base:{display:"flex",flexBoundary:"fixed",flexDirection:"column",gap:bi.layout.gutterY,transition:R(R({},bi.animation.standardEntrance),{},{duration:bi.animation.duration.fast})},themeStyles:us})},ps=e=>Wo($o,e),vs=S("C",(e=>{var t=Bi("up"),r=Bi("down");return Wo(ps,Ko(e,{get gap(){return e.itemSpacing},get transition(){return e.itemTransition},get onUp(){return ki(e.onUp,t)},get onDown(){return ki(e.onDown,r)},get selected(){return e.selected||0},forwardFocus:_i,get onCreate(){return ki((t=>{var r,o;return Ri(e.y).call(t,t,t.children[null!==(r=e.selected)&&void 0!==r?r:0],null!==(o=e.selected)&&void 0!==o?o:0,void 0)}),e.onLayout)},get onSelectedChanged(){return ki(e.onSelectedChanged,"none"!==e.scroll?Ri(e.y):void 0)},get style(){var t;return[e.style,fs.Container.tones[null!==(t=e.tone)&&void 0!==t?t:fs.tone],fs.Container.base]}}))})),gs=(null==bi?void 0:bi.componentConfig).Input,ms=void 0===gs?{themeStyles:{}}:gs,xs=(ms.defaultTone,b(ms,a)),ys={themeKeys:{justifyContent:"justify"},base:{display:"flex",justifyContent:"flexStart",flexDirection:"column",width:100,height:100,actualTitle:""},themeStyles:xs},bs={themeKeys:{borderRadius:"radius",color:"backgroundColor"},base:{width:function(e=1){var t=bi.layout.screenW,r=bi.layout.columnCount,o=bi.layout.marginX,n=bi.layout.gutterX;return(e<1||e>r)&&(console.error(`getWidthByUpCount expects an upCount between 1 & ${r}, received ${e}. Defaulting to upCount 1.`),e=1),(t-2*o-(e-1)*n)/e}(4),height:100,display:"flex",flexDirection:"column",padding:[bi.spacer.xxxl,bi.spacer.xl],color:bi.color.interactiveNeutral,contentColor:bi.color.fillInverse,borderRadius:bi.radius.sm,marginX:bi.spacer.xxxl},themeStyles:xs},ws={themeKeys:{color:"textColor"},base:R({textAlign:"left",color:bi.color.textNeutral},bi.typography.button1),themeStyles:xs};Ti(ys),Ti(bs),Ti(ws);var Ss=(null==bi?void 0:bi.componentConfig).Key,As=void 0===Ss?{themeStyles:{}}:Ss,Cs=(As.defaultTone,b(As,l)),Ts={themeKeys:{keySpacing:"keySpacing",textAlign:"textAlign",borderRadius:"borderRadius",color:"backgroundColor",justifyContent:"justify",baseWidth:"baseWidth",sizes:"sizes",contentColor:"contentColor"},base:{keySpacing:bi.spacer.md,height:9*bi.spacer.md,paddingX:bi.spacer.md,contentColor:bi.color.fillNeutral,sizes:{sm:1,md:2,lg:3,xl:4,xxl:5},padding:[bi.spacer.md],baseWidth:7*bi.spacer.md,color:bi.color.interactiveNeutral,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:bi.radius.sm},modes:{focus:{color:bi.color.interactiveNeutralFocus,contentColor:bi.color.fillInverse},disabled:{color:bi.color.fillNeutralDisabled,contentColor:bi.color.fillNeutralDisabled}},tones:{inverse:{color:bi.color.interactiveInverse,focus:{color:bi.color.interactiveInverseFocus,contentColor:bi.color.fillNeutral}},brand:{focus:{contentColor:bi.color.fillNeutral}}},themeStyles:Cs},Rs={themeKeys:{color:"textColor"},base:R({color:bi.color.textNeutral},bi.typography.headline2),modes:{focus:{color:bi.color.textInverse},disabled:{color:bi.color.textNeutralDisabled}},tones:{inverse:{focus:{color:bi.color.textNeutral}}},themeStyles:Cs};Ti(Ts),Ti(Rs);var ks=(null==bi?void 0:bi.componentConfig).Keyboard,_s=void 0===ks?{}:ks,Bs=(_s.defaultTone,b(_s,d)),Is=(null==bi?void 0:bi.componentConfig).Key,Ns=void 0===Is?{}:Is,Es=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(Ns),Ns)),Fs={themeKeys:{gap:"keySpacing",width:"screenW",marginX:"marginX",keyHeight:"keyHeight"},base:{gap:bi.spacer.md,width:bi.layout.screenW,display:"flex",marginX:bi.layout.marginX,keyHeight:100,flexBoundary:"contain"},themeStyles:Bs},Ls={themeKeys:{gap:"keySpacing",textAlign:"textAlign",borderRadius:"borderRadius",color:"backgroundColor",justifyContent:"justify",baseWidth:"baseWidth",sizes:"sizes",contentColor:"contentColor"},base:{gap:bi.spacer.md,height:9*bi.spacer.md,sizes:{sm:1,md:2,lg:3,xl:4,xxl:5},contentColor:bi.color.fillNeutral,padding:[bi.spacer.xxxl,bi.spacer.xl],baseWidth:7*bi.spacer.md,color:bi.color.interactiveNeutral,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:bi.radius.sm},modes:{focus:{color:bi.color.interactiveNeutralFocus,contentColor:bi.color.fillInverse},disabled:{color:bi.color.fillNeutralDisabled,contentColor:bi.color.fillNeutralDisabled}},tones:{inverse:{color:bi.color.interactiveInverse,focus:{color:bi.color.interactiveInverseFocus,contentColor:bi.color.fillNeutral}},brand:{focus:{contentColor:bi.color.fillNeutral}}},themeStyles:Es},zs={themeKeys:{color:"textColor"},base:R({color:bi.color.textNeutral},bi.typography.headline2),modes:{focus:{color:bi.color.textInverse},disabled:{color:bi.color.textNeutralDisabled}},tones:{inverse:{focus:{color:bi.color.textNeutral}}},themeStyles:Bs};Ti(Fs),Ti(Ls),Ti(zs);var Ms=(null==bi?void 0:bi.componentConfig).Row,Ds=void 0===Ms?{themeStyles:{}}:Ms,Ps=Ds.defaultTone,Os=b(Ds,h),Us={tone:Ps,Container:Ti({themeKeys:{gap:"itemSpacing",scrollIndex:"scrollIndex",transition:"itemTransition"},base:{display:"flex",flexBoundary:"fixed",flexDirection:"row",gap:bi.layout.gutterX,transition:R(R({},bi.animation.standardEntrance),{},{duration:bi.animation.duration.fast})},themeStyles:Os})},Ws=S("R",(e=>{var t=Bi("left"),r=Bi("right");return Wo($o,Ko(e,{get selected(){return e.selected||0},get gap(){return e.itemSpacing},get transition(){return e.itemTransition},get scrollIndex(){return e.scrollIndex},get onLeft(){return ki(e.onLeft,t)},get onRight(){return ki(e.onRight,r)},forwardFocus:_i,get onLayout(){return ki((t=>Ri(e.x).call(t,t,t.children[t.selected],t.selected,void 0)),e.onLayout)},get onSelectedChanged(){return ki(e.onSelectedChanged,"none"!==e.scroll?Ri(e.x):void 0)},get style(){var t;return[e.style,Us.Container.tones[null!==(t=e.tone)&&void 0!==t?t:Us.tone],Us.Container.base]}}))})),Ys=(null==bi?void 0:bi.componentConfig).Label,Hs=void 0===Ys?{themeStyles:{}}:Ys,js=(Hs.defaultTone,b(Hs,c)),Qs={themeKeys:{color:"backgroundColor",borderRadius:"radius"},base:{display:"flex",justifyContent:"center",color:bi.color.textNeutral,padding:[bi.spacer.md,bi.spacer.lg],borderRadius:[bi.radius.md,bi.radius.md,bi.radius.md,bi.radius.none],height:bi.typography.caption1.lineHeight+bi.spacer.md,neutral:{backgroundColor:bi.color.fillNeutral}},tones:{inverse:{color:bi.color.fillInverse},brand:{color:bi.color.fillBrand,focus:{color:bi.color.orange}}},themeStyles:js},Ks={themeKeys:{color:"textColor"},base:R(R({},bi.typography.caption1),{},{color:bi.color.textInverse}),tones:{inverse:{color:bi.color.textNeutral},brand:{color:bi.color.textNeutral}},themeStyles:js};Ti(Qs),Ti(Ks);var Xs=(null==bi?void 0:bi.componentConfig).Details,$s=void 0===Xs?{themeStyles:{}}:Xs,Gs=($s.defaultTone,b($s,u)),Vs={themeKeys:{alignItems:"alignItems",gap:"contentSpacing",badgeContentSpacing:"badgeContentSpacing",ratingContentSpacing:"ratingContentSpacing"},base:{display:"flex",flexDirection:"row",alignItems:"center",gap:bi.spacer.sm,flexBoundary:"contain",badgeContentSpacing:bi.spacer.sm,ratingContentSpacing:bi.spacer.sm},themeStyles:Gs},qs={themeKeys:{color:"textColor"},base:R(R({},bi.typography.body2),{},{marginRight:bi.spacer.lg,color:bi.color.textNeutral}),tones:{neutral:{disabled:{color:bi.color.textNeutralDisabled}},inverse:{color:bi.color.textInverse,disabled:{color:bi.color.textNeutralDisabled}},brand:{color:bi.color.textNeutral,disabled:{color:bi.color.textNeutralDisabled}}},themeStyles:Gs};Ti(Vs),Ti(qs);var Zs=(null==bi?void 0:bi.componentConfig).Rating,Js=void 0===Zs?{themeStyles:{}}:Zs,ea=(Js.defaultTone,b(Js,f)),ta={themeKeys:{justifyContent:"justifyContent",gap:"contentSpacing"},base:{display:"flex",flexDirection:"row",justifyContent:"flexStart",gap:bi.spacer.sm,alignItems:"center"},themeStyles:ea},ra={themeKeys:{color:"textColor"},base:R({color:bi.color.textNeutral},bi.typography.body2),tones:{neutral:{disabled:{color:bi.color.textNeutralDisabled}},inverse:{color:bi.color.textInverse,disabled:{color:bi.color.textNeutralDisabled}},brand:{color:bi.color.textNeutral,disabled:{color:bi.color.textNeutralDisabled}}},themeStyles:ea},oa={themeKeys:{color:"color"},base:{height:bi.typography.body2.lineHeight,width:bi.typography.body2.lineHeight,color:bi.color.fillNeutral,marginRight:bi.spacer.sm},themeStyles:ea};Ti(ta),Ti(oa),Ti(ra);var na=(null==bi?void 0:bi.componentConfig).Metadata,ia=void 0===na?{themeStyles:{}}:na,sa=(ia.defaultTone,b(ia,p)),aa={themeKeys:{justifyContent:"justifyContent",alpha:"alpha"},base:{display:"flex",flexDirection:"column",justifyContent:"flexStart",flexBoundary:"contain",alpha:bi.alpha.primary},modes:{disabled:{alpha:bi.alpha.inactive}},themeStyles:sa},la={themeKeys:{color:"textColor"},base:R(R({maxLines:1,contain:"width"},bi.typography.headline3),{},{color:bi.color.textNeutral}),tones:{neutral:{disabled:{color:bi.color.textNeutralDisabled}},inverse:{color:bi.color.textInverse,disabled:{color:bi.color.textNeutralDisabled}},brand:{color:bi.color.textNeutral,disabled:{color:bi.color.textNeutralDisabled}}},themeStyles:sa},da={themeKeys:{color:"textColor"},base:R(R({contain:"width",maxLines:2},bi.typography.body3),{},{color:bi.color.textNeutralSecondary}),tones:{neutral:{disabled:{color:bi.color.textNeutralDisabled}},inverse:{color:bi.color.textInverseSecondary,disabled:{color:bi.color.textNeutralDisabled}},brand:{color:bi.color.textNeutralSecondary,disabled:{color:bi.color.textNeutralDisabled}}},themeStyles:sa};Ti(aa),Ti(da),Ti(la);var ha=(null==bi?void 0:bi.componentConfig).ProgressBar,ca=void 0===ha?{themeStyles:{}}:ha,ua=(ca.defaultTone,b(ca,v)),fa={themeKeys:{color:"barColor",borderRadius:"radius"},base:{height:bi.spacer.md,color:bi.color.fillNeutralTertiary,borderRadius:bi.radius.xs},tones:{inverse:{color:bi.color.fillInverseTertiary}},themeStyles:ua},pa={themeKeys:{color:"progressColor",borderRadius:"radius"},base:{borderRadius:bi.radius.xs,color:bi.color.fillNeutral},tones:{inverse:{color:bi.color.fillInverse},brand:{color:bi.color.fillBrand}},themeStyles:ua};Ti(fa),Ti(pa);var va=(null==bi?void 0:bi.componentConfig).Radio,ga=void 0===va?{themeStyles:{}}:va,ma=(ga.defaultTone,b(ga,g)),xa={themeKeys:{borderRadius:"radius",color:"backgroundColor",colorChecked:"backgroundColorChecked"},base:{color:bi.color.fillNeutralSecondary,height:bi.spacer.xxl+2*bi.stroke.sm,width:bi.spacer.xxl+2*bi.stroke.sm,borderRadius:bi.spacer.xxl/2+bi.stroke.sm,border:{color:bi.color.strokeNeutralSecondary,width:bi.stroke.sm}},tones:{inverse:{border:{color:bi.color.strokeInverseSecondary,width:bi.stroke.sm}},brand:{border:{color:bi.color.fillBrand,width:bi.stroke.sm}}},modeKeys:["focus","disabled","checked"],themeStyles:ma},ya={themeKeys:{width:"knobWidth",height:"knobHeight",borderRadius:"knobRadius",color:"knobColor",colorChecked:"knobColorChecked"},base:{color:bi.color.fillInverse,colorChecked:bi.color.fillInverse,width:bi.spacer.xxl,height:bi.spacer.xxl,borderRadius:bi.spacer.xxl/2},tones:{inverse:{color:bi.color.fillNeutral}},themeStyles:ma};Ti(xa),Ti(ya);var ba=(null==bi?void 0:bi.componentConfig).Tile,wa=void 0===ba?{tileThemeStyles:{}}:ba,Sa=(wa.defaultTone,b(wa,m)),Aa=(null==bi?void 0:bi.componentConfig).Surface,Ca=void 0===Aa?{surfaceThemeStyles:{}}:Aa,Ta=(Ca.defaultSurfaceTone,b(Ca,x)),Ra={themeKeys:{alpha:"alpha",paddingYProgress:"paddingYProgress",paddingYBetweenContent:"paddingYBetweenContent",contentSpacingY:"contentSpacingY",borderRadius:"radius"},base:{width:400,height:240,padding:[40,10],paddingYProgress:bi.spacer.xl,paddingYBetweenContent:bi.spacer.md,contentSpacingY:bi.spacer.md,borderRadius:bi.radius.md,alpha:bi.alpha.primary},modes:{disabled:{alpha:bi.alpha.inactive}},themeStyles:R(R({},Ta),Sa)},ka={themeKeys:{},base:{display:"flex",flexDirection:"column",flexBoundary:"contain",mountY:1},themeStyles:Sa},_a={themeKeys:{},base:{display:"flex",flexDirection:"column",justifyContent:"flexStart"},themeStyles:Sa},Ba={themeKeys:{},base:{width:5*bi.spacer.lg,height:bi.spacer.xxl+bi.spacer.md},themeStyles:Sa};Ti(Ra),Ti(ka),Ti(_a),Ti(Ba);var Ia=(null==bi?void 0:bi.componentConfig).Toggle,Na=void 0===Ia?{themeStyles:{}}:Ia,Ea=(Na.defaultTone,b(Na,y)),Fa=bi.spacer.xl,La=bi.spacer.xs,za=bi.stroke.sm,Ma={themeKeys:{borderRadius:"strokeRadius",color:"backgroundColor",colorChecked:"backgroundColorChecked"},base:{color:bi.color.fillInverseTertiary,colorChecked:bi.color.fillNeutral,height:Fa+2*(La+za),width:2*(za+2*La+Fa),borderRadius:Fa/2+La+za,border:{color:bi.color.fillNeutral,width:za}},modes:{focus:{},disabled:{borderRadius:Fa/2+La+za,border:{color:bi.color.fillNeutralDisabled,width:za},color:bi.color.fillInverseDisabled,colorChecked:bi.color.fillNeutralDisabled}},tones:{inverse:{borderRadius:Fa/2+La+za,border:{color:bi.color.fillInverse,width:za},color:bi.color.fillNeutralTertiary,colorChecked:bi.color.fillInverse,disabled:{borderRadius:Fa/2+La+za,border:{color:bi.color.fillInverseDisabled,width:za},color:bi.color.fillNeutralDisabled,colorChecked:bi.color.fillInverseDisabled}},brand:{borderRadius:Fa/2+La+za,border:{color:bi.color.fillBrand,width:za},color:bi.color.fillBrandTertiary,colorChecked:bi.color.fillBrand,disabled:{borderRadius:Fa/2+La+za,border:{color:bi.color.fillNeutralDisabled,width:za},color:bi.color.fillInverseDisabled,colorChecked:bi.color.fillNeutralDisabled}}},themeStyles:Ea},Da={themeKeys:{width:"knobWidth",height:"knobHeight",padding:"knobPadding",borderRadius:"knobRadius",color:"knobColor",colorChecked:"knobColorChecked"},base:{color:bi.color.fillNeutral,colorChecked:bi.color.fillInverse,width:Fa,height:Fa,borderRadius:Fa/2,padding:La},modes:{focus:{},disabled:{color:bi.color.fillNeutralDisabled,colorChecked:bi.color.fillInverseDisabled}},tones:{inverse:{color:bi.color.fillInverse,colorChecked:bi.color.fillNeutral,disabled:{color:bi.color.fillInverseDisabled,colorChecked:bi.color.fillNeutralDisabled}},brand:{color:bi.color.fillBrand,colorChecked:bi.color.fillInverse,disabled:{color:bi.color.fillNeutralDisabled,colorChecked:bi.color.fillInverseDisabled}}},themeStyles:Ea};Ti(Ma),Ti(Da);var Pa={color:255,height:150,width:330,x:1910,y:10,mountX:1,alpha:.8,zIndex:100},Oa={x:10,fontSize:22,textColor:No("#f6f6f6")},Ua={fontSize:22,textColor:No("#f6f6f6")},Wa=w(Mr(0),2),Ya=Wa[0],Ha=Wa[1],ja=w(Mr(0),2),Qa=ja[0],Ka=ja[1],Xa=w(Mr(99),2),$a=Xa[0],Ga=Xa[1],Va=w(Mr(0),2),qa=Va[0],Za=Va[1],Ja=w(Mr(0),2),el=Ja[0],tl=Ja[1],rl=w(Mr(0),2),ol=rl[0],nl=rl[1],il=w(Mr(0),2),sl=il[0],al=il[1],ll=0,dl=0;function hl(e){e.renderer.on("fpsUpdate",((e,t)=>{var r,o,n,i,s="number"==typeof t?t:t.fps;s>5&&((e=>{e&&(Ha(e),Ga((t=>Math.min(e,t))),Za((t=>Math.max(e,t))),dl+=e,ll++,Ka(Math.round(dl/ll)))})(s),r=e.root.stage,o=0,n=0,i=0,r.txManager.textureIdCache.forEach((e=>{"loaded"===e.state&&o++,"loading"===e.state&&n++,"failed"===e.state&&i++})),tl(o),nl(n),al(i))}))}var cl=e=>Wo($o,Ko(e,{style:Pa,get children(){return[Wo($o,{get children(){return[Wo(Go,{style:Oa,children:"FPS:"}),Wo(Go,{style:Ua,x:90,get children(){return Ya().toString()}})]}}),Wo($o,{x:160,get children(){return[Wo(Go,{style:Oa,children:"AVG:"}),Wo(Go,{style:Ua,x:100,get children(){return Qa().toString()}})]}}),Wo($o,{x:0,y:20,get children(){return[Wo(Go,{style:Oa,children:"MIN:"}),Wo(Go,{style:Ua,x:90,get children(){return $a().toString()}})]}}),Wo($o,{x:160,y:20,get children(){return[Wo(Go,{style:Oa,children:"MAX:"}),Wo(Go,{style:Ua,x:100,get children(){return qa().toString()}})]}}),Wo($o,{x:0,y:50,get children(){return[Wo(Go,{style:Oa,children:"Loaded Textures Cnt:"}),Wo(Go,{style:Oa,x:270,get children(){return el().toString()}})]}}),Wo($o,{x:0,y:80,get children(){return[Wo(Go,{style:Oa,children:"Loading Textures Cnt:"}),Wo(Go,{style:Oa,x:270,get children(){return ol().toString()}})]}}),Wo($o,{x:0,y:110,get children(){return[Wo(Go,{style:Oa,children:"Failed Textures Cnt:"}),Wo(Go,{style:Oa,x:270,get children(){return sl().toString()}})]}})]}})),ul={Column:{flexDirection:"column",display:"flex",width:140,height:600,y:360,gap:20,zIndex:101,transition:{x:{duration:250,easing:"ease-in-out"}},x:8,focus:{width:500,x:bi.layout.marginX}},Gradient:{zIndex:99,color:No("#000000"),src:"./assets/sidenav.png",alpha:0,width:1200,height:1080,focus:{alpha:1},transition:{alpha:!0}},NavButton:{zIndex:102,height:70,width:100,borderRadius:8,focus:{color:No("#424242")},active:{width:328,height:70}}},fl="/solid-demo-app/",pl=[{name:"experiment",width:81,height:100,x:0,y:0},{name:"trending",width:100,height:56,x:81,y:0},{name:"tv",width:100,height:68,x:181,y:0},{name:"movie",width:94,height:100,x:282,y:0}];function vl(e){var t,r,o,n=(t=fl+"assets/icons_white.png",r=pl,o=Yt.createTexture("ImageTexture",{src:t}),r.reduce(((e,t)=>{var r=t.x,n=t.y,i=t.width,s=t.height;return e[t.name]=Yt.createTexture("SubTexture",{texture:o,x:r,y:n,width:i,height:s}),e}),{}));return Wo($o,Ko(e,{get texture(){return n[e.name]},get width(){return n[e.name].props.width},get height(){return n[e.name].props.height},get x(){return(100-(n[e.name].props.width||0))/2},get y(){return(100-(n[e.name].props.height||0))/2}}))}function gl(e){return Wo($o,Ko(e,{forwardStates:!0,get style(){return ul.NavButton},get children(){return[Wo($o,{y:-16,get children(){return Wo(vl,{scale:.5,get name(){return e.icon}})}}),Wo(Go,{style:{fontSize:38,x:116,y:18,height:50,alpha:0,active:{alpha:1}},get children(){return e.children}})]}}))}function ml(e){var t,r=gn();function o(t){var o,n,i,s;if((o=()=>t,i=mn(),s=Ur((()=>cn(o()).map((e=>ln(e,void 0,n))))),Ur((()=>{var e,t=_(s());try{for(t.s();!(e=t.n()).done;){var r=(0,e.value)(i.pathname);if(r)return r}}catch(o){t.e(o)}finally{t.f()}})))())return e.focusPage();r(t)}return[Wo($o,{flexItem:!1,width:300,height:150,x:30,y:15,zIndex:105,get alpha(){return e.showWidgets?1:0},get children(){return[Wo(Go,{x:80,fontSize:28,color:4143380036,children:"Built With:"}),Wo($o,{y:22,src:"./assets/solidWord.png",width:280,height:52}),Wo($o,{x:0,y:110,src:"./assets/tmdb.png",width:80,height:41}),Wo(Go,{x:90,y:110,contain:"width",width:160,fontSize:12,color:4143380036,children:"This product uses the TMDB API but is not endorsed or certified by TMDB."})]}}),Wo(vs,Ko(e,{onFocus:function(){t.states.add("focus"),this.children.forEach((e=>e.states.add("active"))),this.children.selected.setFocus()},onBlur:function(){t.states.remove("focus"),this.selected=0,this.children.forEach((e=>e.states.remove("active")))},get style(){return ul.Column},scroll:"none",get children(){return[Wo(gl,{onEnter:()=>o("/browse/all"),icon:"trending",children:"Trending"}),Wo(gl,{icon:"movie",onEnter:()=>o("/browse/movie"),children:"Movies"}),Wo(gl,{icon:"tv",onEnter:()=>o("/browse/tv"),children:"TV"}),Wo(gl,{icon:"experiment",onEnter:()=>o("/examples"),children:"Examples"})]}})),Wo($o,{skipFocus:!0,ref(e){"function"==typeof t?t(e):t=e},get style(){return ul.Gradient}})]}var xl=e=>{(e=>{var t=Hn();if(e)for(var r=function(){var e=w(n[o],2),t=e[0],r=e[1];Jt(r)?r.forEach((e=>{jn[e]=t})):jn[r]=t},o=0,n=Object.entries(e);o<n.length;o++)r();Or(Qr(Bo,((e,t,r=[])=>{for(var o=e,n=[];o;)o.states.has("focus")||(o.states.add("focus"),Zt(o.onFocus)&&o.onFocus.call(o,e,t)),n.push(o),o=o.parent;return r.forEach((r=>{n.includes(r)||(r.states.remove("focus"),Zt(r.onBlur)&&r.onBlur.call(r,e,t))})),Xn(n),n}),{defer:!0})),Or((()=>{var e=t();if(e){var r=jn[e.key]||jn[e.keyCode];jr((()=>{var t,o=void 0,n=_(Kn());try{for(n.s();!(t=n.n()).done;){var i=t.value;if(o=o||i,r){var s=i[`on${r}`];if(Zt(s)&&!0===s.call(i,e,i,o))break}else console.log(`Unhandled key event: ${e.key||e.keyCode}`);if(Zt(i.onKeyPress)&&!0===i.onKeyPress.call(i,e,r,i,o))break}}catch(a){n.e(a)}finally{n.f()}return!1}))}}))})({Announcer:["a"],Menu:["m"],Escape:["Escape",27],Backspace:["Backspace",8],Left:["ArrowLeft",37],Right:["ArrowRight",39],Up:["ArrowUp",38],Down:["ArrowDown",40],Enter:["Enter",13]}),gi();var t=(ai.setupTimers(),Or(Qr(Kn,ai.onFocusChange,{defer:!0})),ai);t.enabled=!1;var r,o,n=gn();function i(){return!r.states.has("focus")&&(o=Bo(),r.setFocus())}hl({renderer:Yt});var s=w(Mr(!0),2),a=s[0],l=s[1],d=mn(),h=["/browse","/entity"];return Or((()=>{var e=d.pathname,t=h.some((t=>e.startsWith(t)));"/"===e&&(t=!0),l(t)})),Wo($o,{ref(e){var t=window.APP;"function"==typeof t?t(e):window.APP=e},onAnnouncer:()=>t.enabled=!t.enabled,onLast:()=>history.back(),onMenu:()=>n("/"),style:{width:1920,height:1080},onBackspace:i,onLeft:i,onRight:()=>r.states.has("focus")&&o.setFocus(),get children(){return[Wo(wi,{}),Wo(cl,{mountX:1,x:1910,y:10,get alpha(){return a()?1:0}}),Uo((()=>e.children)),Wo(ml,{ref(e){"function"==typeof r?r(e):r=e},focusPage:()=>o.setFocus(),get showWidgets(){return a()}})]}})},yl=S("j",{Page:{width:1920,height:1080},headlineText:{width:1200,height:240,x:360,y:455,contain:"both",fontSize:66,textAlign:"center"},headlineSubText:{width:960,height:170,x:530,y:655,contain:"both",fontSize:48,textAlign:"center"},itemsContainer:{width:bi.layout.screenW,height:800,y:560,x:0,zIndex:2},Thumbnail:{borderRadius:16,width:185,height:278,scale:1,zIndex:2,transition:{scale:{duration:250,easing:"ease-in-out"}},border:{width:0,color:0},focus:{scale:1.1,border:{color:4294967142,width:8}}},FocusRing:{borderRadius:16,width:194,height:286,y:-5,x:-5,zIndex:-1},FPS:{color:255,height:42,width:140,x:20,y:20,zIndex:100},FPSLabel:{x:10,y:0,fontSize:36,textColor:No("#ffffff")},FPSValue:{x:90,y:0,fontSize:36,textColor:No("#ffffff")},showHeadline:{x:70,y:20},headlineBlur:{width:1920,height:150,x:0,y:0,zIndex:14,alpha:.9,color:No("#000000")},RowTitle:{height:60,width:300,marginBottom:-40,fontSize:36,color:No("#f0f0f0"),zIndex:2},Row:{display:"flex",justifyContent:"spaceBetween",height:300},Column:{display:"flex",flexDirection:"column",justifyContent:"flexStart",flexBoundary:"contain",gap:64,width:bi.layout.screenW-2*bi.layout.marginX,x:bi.layout.marginX+bi.layout.gutterX,y:48,transition:{y:{duration:250,easing:"ease-in-out"}},zIndex:2},Rect:{width:250,height:100,y:10,x:300,color:No("#0000ff")},peopleBio:R(R({},bi.typography.body1),{},{fontFamily:"Roboto",fontWeight:"normal",contain:"both",width:780,height:340})}),bl={width:120,height:40,mount:.5,color:179,borderRadius:8,borderBottom:{width:2,color:4278254335},border:{width:2,color:4210752051},focus:{color:4210752255,borderRadius:20,borderBottom:{width:0,color:0}}},wl={color:No("#00A699"),height:8,y:2,x:-4,width:bl.width+8},Sl={fontSize:12,y:12,contain:"width",textAlign:"center",color:No("#F6F6F9"),height:bl.height,width:bl.width},Al=(S("p",{container:bl,topBar:wl,text:Sl}),386),Cl=136;No("#715cab"),No("#5a39a2"),No("#291d43"),S("M",{fontSize:32,contain:"width",textAlign:"center",mountY:-.35,color:No("#FFFFFF"),height:Cl,width:Al,focus:{fontSize:40},disabled:{color:No("#909090")}});function Tl(e){return Wo($o,Ko(e,{color:16711935,onLoad:function(e){e.color=4294967295},onFail:e=>e.src="failback.png",get style(){return yl.Thumbnail}}))}function Rl(e){var t=function(e,...t){if(wr in e){var r=new Set(t.length>1?t.flat():t[0]),o=t.map((t=>new Proxy({get:r=>t.includes(r)?e[r]:void 0,has:r=>t.includes(r)&&r in e,keys:()=>t.filter((t=>t in e))},bo)));return o.push(new Proxy({get:t=>r.has(t)?void 0:e[t],has:t=>!r.has(t)&&t in e,keys:()=>Object.keys(e).filter((e=>!r.has(e)))},bo)),o}var n,i={},s=t.map((()=>({}))),a=_(Object.getOwnPropertyNames(e));try{for(a.s();!(n=a.n()).done;){var l,d=n.value,h=Object.getOwnPropertyDescriptor(e,d),c=!h.get&&!h.set&&h.enumerable&&h.writable&&h.configurable,u=!1,f=0,p=_(t);try{for(p.s();!(l=p.n()).done;)l.value.includes(d)&&(u=!0,c?s[f][d]=h.value:Object.defineProperty(s[f],d,h)),++f}catch(v){p.e(v)}finally{p.f()}u||(c?i[d]=h.value:Object.defineProperty(i,d,h))}}catch(v){a.e(v)}finally{a.f()}return[...s,i]}(e,["items"]),r=w(t,2),o=r[0],n=r[1];return Wo(Ws,Ko(n,{get style(){return yl.Row},get children(){return Wo(Ro,{get each(){return o.items},children:e=>Wo(Tl,e)})}}))}var kl,_l,Bl="https://api.themoviedb.org/3",Il="w185",Nl={headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIyZDE4YjEwMTA0YjdiZTlkNjFiMWYwYjVlMGEwNzM2OCIsInN1YiI6IjYwZTVjMTdlNGNhNjc2MDA3NTA4Njc3MSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.D_nqH9kd-bhhWzeVsTDPYhHnsUaNAuyAa6YATmKHqsA"}};function El(e,t=Il){return _l+t+e}function Fl(e,t={}){return fetch(Bl+e,R(R({},Nl),t)).then((e=>e.json()))}function Ll(){return Fl("/configuration").then((e=>{var t;return kl=e,_l=null===(t=e.images)||void 0===t?void 0:t.secure_base_url,e}))}var zl=S("z",{get:function(e,t={}){return kl?Fl(e,t):Ll().then((()=>Fl(e,t)))},loadConfig:Ll});function Ml(e=[]){return e.map((e=>{return{src:El(e.poster_path||e.profile_path),tileSrc:El(e.backdrop_path||e.profile_path,"w300"),backdrop:El(e.backdrop_path,"w1280"),href:`/entity/${e.media_type||"people"}/${e.id}`,shortTitle:(t=e.title||e.name,r=30,t.length>r?t.substring(0,r-3)+"...":t),title:e.title||e.name,data:e,entityInfo:{type:e.media_type||"people",id:e.id},heroContent:{title:e.title||e.name,description:e.overview}};var t,r}))}var Dl=new Map,Pl=new Map;var Ol=900,Ul={display:"flex",flexDirection:"column",flexBoundary:"fixed",width:Ol,height:220,gap:16},Wl=R(R({},bi.typography.display2),{},{fontFamily:"Roboto",fontWeight:700,maxLines:1,width:Ol,contain:"width"}),Yl=e=>Wo(Go,Ko(e,{style:Wl})),Hl=R(R({},bi.typography.body1),{},{fontFamily:"Roboto",fontWeight:400,lineHeight:32,width:Ol,maxLines:3,contain:"width"}),jl={fontSize:16,lineHeight:20},Ql=e=>Wo(Go,Ko(e,{style:Hl,get children(){return e.children}})),Kl=e=>{return t=Yo("node"),Xo(Ii,t,(()=>[8,13,11,13])),jo(t,Ko(e,{style:{color:"0x00000099",borderRadius:8,border:{width:2,color:"0xffffffff"}}}),!0),Ho(t,Wo(Go,{style:jl,get children(){return e.children}})),t;var t},Xl=R(R({},bi.typography.body2),{},{fontFamily:"Roboto",fontWeight:400}),$l=e=>Wo($o,{style:{display:"flex",flexDirection:"row",gap:18,width:Ol,height:48},get children(){return[Wo($o,{y:-4,src:"./assets/stars.png",width:188,height:31}),Wo($o,{y:-4,flexItem:!1,clipping:!0,get width(){return 188*e.voteAverage/10},height:31,get children(){return Wo($o,{src:"./assets/stars-full.png",width:188,height:31})}}),Wo(Go,{style:Xl,get children(){return[Uo((()=>e.voteCount))," reviews"]}}),Wo(Go,{style:Xl,get children(){return e.metaText}}),Wo(Ro,{get each(){return e.badges},children:e=>Wo(Kl,{y:-5,children:e})})]}}),Gl=S("E",(e=>Wo($o,Ko({id:"contentBlock",style:Ul},e,{get children(){return[Wo(Yl,{get children(){return e.content.title}}),Wo(Ql,{get children(){return e.content.description}}),Wo(ko,{get when(){return e.content.voteCount},get children(){return Wo($l,{get metaText(){return e.content.metaText},get badges(){return e.content.badges},get voteCount(){return e.content.voteCount},get voteAverage(){return e.content.voteAverage}})}})]}})))),Vl=()=>{var e=xn(),t=w(Mr(0),2),r=t[0],o=t[1],n=w(Mr({}),2),i=n[0],s=n[1],a=gn(),l=Yr((()=>0)),d=Ur((()=>{return u=e.filter||"all",t=e=>{var t=`/trending/${u}/week?page=${e}`;if(Dl.has(t))return Dl.get(t);var r=zl.get(t).then((e=>{var t=e.results.filter((e=>!e.adult)),r=function(e,t=7){for(var r=[],o=0,n=e.length;o<n;o+=t)r.push(e.slice(o,o+t));return r}((Pl.has(u)?Pl.get(u):[]).concat(Ml(t)));return r[r.length-1].length<7?Pl.set(u,r.pop()):Pl.delete(u),r}));return Dl.set(t,r),r},r=w(Mr([]),2),o=r[0],n=r[1],i=w(Mr(1),2),s=i[0],a=i[1],l=w(Mr(!1),2),d=l[0],h=l[1],c=w(Wr(s,t),1)[0],Dr((()=>{var e=c();e&&Hr((()=>{0===e.length&&h(!0),n((t=>[...t,...e]))}))})),{pages:o,page:s,setPage:a,setPages:n,end:d,setEnd:h};var t,r,o,n,i,s,a,l,d,h,c,u})),h=Jn((e=>yi(e)),400),c=Jn((e=>s(e||{})),200);function u(){var e;null===(e=this.children.selected)||void 0===e||e.setFocus(),o(-1*(this.y||0)+24);var t=d().pages().length;this.parent.selected=this.parent.children.indexOf(this),(0===t||this.parent.selected&&this.parent.selected>=t-2)&&d().setPage((e=>e+1))}function f(){var e=this.children.find((e=>e.states.has("focus")));return B(e&&e.href),a(e.href),!0}return Or(Qr(Bo,(e=>{e.backdrop&&h(e.backdrop),e.heroContent&&c(e.heroContent)}),{defer:!0})),Wo(ko,{get when(){return d().pages().length},get children(){return[Wo(Gl,{y:360,x:162,get content(){return i()}}),Wo($o,{clipping:!0,get style(){return yl.itemsContainer},get children(){return Wo(vs,{id:"BrowseColumn",plinko:!0,announce:"All Trending - Week",get y(){return r()},scroll:"none",get style(){return yl.Column},get children(){return Wo(Ro,{get each(){return d().pages()},children:(e,t)=>Wo(Rl,{get autofocus(){return l(t())},items:e,width:1620,onFocus:u,onEnter:f})})}})}})]}})},ql=()=>{return e=Yo("node"),Qo(e,"style",{width:1920,height:1080,color:868483072}),e;var e},Zl=new URL("AppCoreExtensions-legacy-DXn5FIys.js",T.meta.url).href,Jl=Co((()=>ve((()=>T.import("./Grid-legacy-DUSUSj2u.js"))))),ed=Co((()=>ve((()=>T.import("./Portal-legacy-DBAj7-Ua.js"))))),td=Co((()=>ve((()=>T.import("./Text-legacy-UTkpL-QT.js"))))),rd=Co((()=>ve((()=>T.import("./Create-legacy-D-NWU_5F.js"))))),od=Co((()=>ve((()=>T.import("./Viewport-legacy-BYHDKSW-.js"))))),nd=Co((()=>ve((()=>T.import("./Buttons-legacy-D3Zy6Q_Y.js"))))),id=Co((()=>ve((()=>T.import("./Flex-legacy-CmPNcCS2.js"))))),sd=Co((()=>ve((()=>T.import("./FlexSize-legacy-D7e19atG.js"))))),ad=Co((()=>ve((()=>T.import("./FlexColumnSize-legacy-BdhQ7-Mf.js"))))),ld=Co((()=>ve((()=>T.import("./FlexColumn-legacy-C_hGHUzH.js"))))),dd=Co((()=>ve((()=>T.import("./ButtonsMaterial-legacy-DanyPA2-.js"))))),hd=Co((()=>ve((()=>T.import("./SuperFlex-legacy-S5o-YKyB.js"))))),cd=Co((()=>ve((()=>T.import("./Entity-legacy-D1YhYM49.js"))))),ud=Co((()=>ve((()=>T.import("./People-legacy-q0HzZ021.js")))));Vt.debug=!1,Vt.animationsEnabled=!0,Vt.fontSettings.fontFamily="Roboto",Vt.fontSettings.color=No("#f6f6f6"),Vt.fontSettings.fontSize=32,Vt.rendererOptions={coreExtensionModule:Zl,fpsUpdateInterval:200,enableInspector:!0,deviceLogicalPixelRatio:window.innerHeight/1080},Oo((()=>Wo(Ln,{root:e=>Wo(xl,e),get children(){return[Wo(Bn,{path:"",component:Vl}),Wo(Bn,{path:"examples",component:ed}),Wo(Bn,{path:"browse/:filter",component:Vl}),Wo(Bn,{path:"grid",component:Jl}),Wo(Bn,{path:"text",component:td}),Wo(Bn,{path:"buttons",component:nd}),Wo(Bn,{path:"flex",component:id}),Wo(Bn,{path:"create",component:rd}),Wo(Bn,{path:"viewport",component:od}),Wo(Bn,{path:"flexsize",component:sd}),Wo(Bn,{path:"flexcolumnsize",component:ad}),Wo(Bn,{path:"flexcolumn",component:ld}),Wo(Bn,{path:"superflex",component:hd}),Wo(Bn,{path:"buttonsmaterial",component:dd}),Wo(Bn,{path:"entity/people/:id",component:ud}),Wo(Bn,{path:"entity/:type/:id",component:cd}),Wo(Bn,{path:"*all",component:ql})]}})))}}}))}();
//# sourceMappingURL=index-legacy-ZOb7PFi4.js.map
