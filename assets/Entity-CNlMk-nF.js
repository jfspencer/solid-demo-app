import{i as r,m as b,T as y,y as c,V as h,z as d,A as w,B as S,D as j,u as D,a as f,c as M,f as V,o as z,s as H,h as k,S as x,E as P,R as G,C as N,j as m,k as U,G as R,H as Y,J,K}from"./index-DO-9_7NC.js";import{a as q}from"./CoreExtension-DblYS8Cq.js";const T=e=>r(L,b(e,{forwardStates:!0,get children(){return r(y,{get textAlign(){return e.textAlign},get color(){return e.textColor},get style(){var n;return[c.Text.tones[(n=e.tone)!=null?n:c.tone],c.Text.base]},get children(){return e.children}})}})),L=e=>r(h,b(e,{get color(){return e.backgroundColor},get contentColor(){return e.contentColor},get justifyContent(){return e.justify},get itemSpacing(){return e.contentSpacing},get style(){var n,o;return[e.style,(o=c.Container.tones)==null?void 0:o[(n=e.tone)!=null?n:c.tone],c.Container.base]},forwardStates:!0}));function O(e){const n=Math.floor(e/60),o=e%60;return n+"h "+(o<10?"0":"")+o+"min"}function Q(e){const n=e.split("-");return n[1]+"/"+n[2]+"/"+n[0]}function F(e){return e.split("-")[0]}function W({type:e,id:n}){return d.get("/".concat(e,"/").concat(n,"/recommendations")).then(({results:o})=>o.length?w(o.slice(0,7)):d.get("/trending/".concat(e,"/week?page=1")).then(({results:s})=>w(s.slice(0,7))))}function X({type:e,id:n}){return d.get("/".concat(e,"/").concat(n,"/credits")).then(({cast:o})=>w(o.slice(0,7)))}function Z({type:e,id:n}){let o=e==="movie"?{rtCrit:86,rtFan:92}:{};return d.get("/".concat(e,"/").concat(n)).then(s=>({backgroundImage:S(s.backdrop_path,"w1280"),heroContent:{title:s.title||s.name,description:s.overview,badges:["HD","CC"],voteAverage:s.vote_average,voteCount:s.vote_count,metaText:e==="movie"?O(s.runtime)+"   "+Q(s.release_date):"".concat(F(s.first_air_date)," - ").concat(F(s.last_air_date)),reviews:o},...s}))}const ne=()=>{const e=j(),n=D(),[o]=f(()=>({...e}),Z),[s]=f(()=>({...e}),X),[C]=f(()=>({...e}),W),[_,v]=M(0);V(z(o,t=>{H(t.backgroundImage)},{defer:!0}));const l=640,$={color:k("#000000"),alpha:0,width:1900,height:890,x:-160,y:l,borderRadius:30};function A(){var t;(t=this.children.selected)==null||t.setFocus(),u.y=l,i.y=l,i.alpha=0}function E(){var t;(t=this.children.selected)==null||t.setFocus(),u.y=200,i.y=160,i.alpha=.9}function p(){let t=this.children.find(a=>a.states.has("focus"));q(t&&t.href),n(t.href)}function B(){Y(),document.getElementsByTagName("canvas")[0].focus(),g.setFocus(),v(0)}function I(){const t=J();K(t),v(.9)}let u,i,g;return r(x,{get when(){return o()},keyed:!0,get children(){return[r(h,{x:170,onUp:()=>g.setFocus(),onEscape:B,get children(){return[r(P,{y:260,get content(){return o().heroContent}}),r(G,{ref(t){var a=g;typeof a=="function"?a(t):g=t},y:500,scroll:"none",height:90,width:640,gap:40,onDown:()=>u.setFocus(),onEnter:I,get children(){return[r(T,{width:300,autofocus:!0,children:"Play"}),r(T,{width:300,children:"Resume"})]}}),r(N,{ref(t){var a=u;typeof a=="function"?a(t):u=t},x:0,y:l,get style(){return m.Column},height:880,scroll:"none",zIndex:5,get children(){return r(x,{get when(){return U(()=>!!C())()&&s()},get children(){return[r(y,{skipFocus:!0,get style(){return m.RowTitle},children:"Recommendations"}),r(R,{onFocus:A,onEnter:p,get items(){return C()},width:1620}),r(y,{skipFocus:!0,get style(){return m.RowTitle},children:"Cast and Crew"}),r(R,{onFocus:E,onEnter:p,get items(){return s()},width:1620})]}})}}),r(h,{ref(t){var a=i;typeof a=="function"?a(t):i=t},style:$,transition:{alpha:!0,y:!0}})]}}),r(h,{get alpha(){return _()},get color(){return k("#000000")},skipFocus:!0,zIndex:200,transition:{alpha:!0}})]}})};export{ne as default};
//# sourceMappingURL=Entity-CNlMk-nF.js.map
