!function(){var e=["defaultTone"],t=["defaultTone"],n=["defaultTone"],r=["surfaceDefaultTone"],o=["defaultTone"],i=["defaultTone"],a=["defaultTone"],s=["defaultTone"],l=["defaultTone"],u=["defaultTone"],c=["defaultTone"],d=["defaultTone"],f=["defaultTone"],h=["defaultTone"],p=["defaultTone"],v=["defaultTone"],g=["defaultSurfaceTone"];function y(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function m(e){var t="function"==typeof Map?new Map:void 0;return m=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(T())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var o=new(e.bind.apply(e,r));return n&&I(o,n.prototype),o}(e,arguments,_(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),I(n,e)},m(e)}function x(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */x=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),s=new E(r||[]);return o(a,"_invoke",{value:_(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var f="suspendedStart",h="suspendedYield",p="executing",v="completed",g={};function y(){}function m(){}function b(){}var w={};u(w,a,(function(){return this}));var k=Object.getPrototypeOf,A=k&&k(k(N([])));A&&A!==n&&r.call(A,a)&&(w=A);var S=b.prototype=y.prototype=Object.create(w);function C(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(o,i,a,s){var l=d(e[o],e,i);if("throw"!==l.type){var u=l.arg,c=u.value;return c&&"object"==typeof c&&r.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(c).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function _(t,n,r){var o=f;return function(i,a){if(o===p)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=R(s,r);if(l){if(l===g)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var u=d(t,n,r);if("normal"===u.type){if(o=r.done?v:h,u.arg===g)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=v,r.method="throw",r.arg=u.arg)}}}function R(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,R(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function B(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function N(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(typeof t+" is not iterable")}return m.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:m,configurable:!0}),m.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},C(T.prototype),u(T.prototype,s,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new T(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},C(S),u(S,l,"Generator"),u(S,a,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=N,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(B),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),B(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;B(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:N(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function b(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,o)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){b(i,r,o,a,s,"next",e)}function s(e){b(i,r,o,a,s,"throw",e)}a(void 0)}))}}function k(){return k="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},k.apply(this,arguments)}function A(e,t,n){return t=_(t),S(e,T()?Reflect.construct(t,n||[],_(e).constructor):t.apply(e,n))}function S(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return C(e)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(T=function(){return!!e})()}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}function R(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I(e,t)}function I(e,t){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},I(e,t)}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,P(r.key),r)}}function E(e,t,n){return t&&B(e.prototype,t),n&&B(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e){return function(e){if(Array.isArray(e))return W(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||U(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e,t,n){return(t=P(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return s}}(e,t)||U(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=U(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function U(e,t){if(e){if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W(e,t):void 0}}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}System.register(["./CoreExtension-legacy-BHFijS4W.js"],(function(b,T){"use strict";var I,B,L,P,U,W,j,Y,H,Q,K,$,X,G,V,Z,q,J,ee,te,ne,re,oe,ie,ae,se,le,ue,ce,de;return{setters:[function(e){I=e.a,B=e.i,L=e.T,P=e.g,U=e.c,W=e.E,j=e.b,Y=e.d,H=e.e,Q=e.f,K=e.m,$=e.W,X=e.h,G=e.j,V=e.k,Z=e.l,q=e.S,J=e.B,ee=e.n,te=e.o,ne=e.p,re=e.q,oe=e.C,ie=e.r,ae=e.s,se=e.t,le=e.u,ue=e.v,ce=e.R,de=e.w}],execute:function(){var b,fe,he,pe=document.createElement("style");pe.textContent="html,body,*{padding:0;margin:0}video{position:absolute;top:0;left:0;z-index:2;outline:none}.center-element{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}\n",document.head.appendChild(pe);var ve,ge=function(e,t){return e===t},ye=Symbol("solid-proxy"),me=Symbol("solid-track"),xe={equals:ge},be=tt,we=1,ke=2,Ae={owned:null,cleanups:null,context:null,owner:null},Se={},Ce=null,Te=null,_e=null,Re=null,Ie=null,Be=0;function Ee(e,t){var n=_e,r=Ce,o=0===e.length,i=void 0===t?r:t,a=o?Ae:{owned:null,cleanups:null,context:i?i.context:null,owner:i},s=o?e:function(){return e((function(){return De((function(){return it(a)}))}))};Ce=a,_e=null;try{return et(s,!0)}finally{_e=n,Ce=r}}function Ne(e,t){var n={value:e,observers:null,observerSlots:null,comparator:(t=t?Object.assign({},xe,t):xe).equals||void 0};return[Ge.bind(n),function(e){return"function"==typeof e&&(e=e(n.value)),Ve(n,e)}]}function Fe(e,t,n){Ze(qe(e,t,!0,we))}function Le(e,t,n){Ze(qe(e,t,!1,we))}function ze(e,t,n){be=nt;var r=qe(e,t,!1,we);n&&n.render||(r.user=!0),Ie?Ie.push(r):Ze(r)}function Me(e,t,n){n=n?Object.assign({},xe,n):xe;var r=qe(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,Ze(r),Ge.bind(r)}function Pe(e,t,n){var r,o,i;2===arguments.length&&"object"==typeof t||1===arguments.length?(r=!0,o=e,i=t||{}):(r=e,o=t,i=n||{});var a=null,s=Se,l=!1,u="initialValue"in i,c="function"==typeof r&&Me(r),d=new Set,f=O((i.storage||Ne)(i.initialValue),2),h=f[0],p=f[1],v=O(Ne(void 0),2),g=v[0],y=v[1],m=O(Ne(void 0,{equals:!1}),2),x=m[0],b=m[1],w=O(Ne(u?"ready":"unresolved"),2),k=w[0],A=w[1];function S(e,t,n,r){return a===e&&(a=null,void 0!==r&&(u=!0),e!==s&&t!==s||!i.onHydrated||queueMicrotask((function(){return i.onHydrated(r,{value:t})})),s=Se,function(e,t){et((function(){void 0===t&&p((function(){return e})),A(void 0!==t?"errored":u?"ready":"unresolved"),y(t);var n,r=D(d.keys());try{for(r.s();!(n=r.n()).done;){n.value.decrement()}}catch(t){r.e(t)}finally{r.f()}d.clear()}),!1)}(t,n)),t}function C(){var e=ve,t=h(),n=g();if(void 0!==n&&!a)throw n;return _e&&!_e.user&&e&&Fe((function(){x(),a&&(e.resolved||d.has(e)||(e.increment(),d.add(e)))})),t}function T(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!1===e||!l){l=!1;var t=c?c():r;if(null!=t&&!1!==t){var n,i=s!==Se?s:De((function(){return o(t,{value:h(),refetching:e})}));return(n=i)&&"object"==typeof n&&"then"in n?(a=i,"value"in i?("success"===i.status?S(a,i.value,void 0,t):S(a,void 0,void 0,t),i):(l=!0,queueMicrotask((function(){return l=!1})),et((function(){A(u?"refreshing":"pending"),b()}),!1),i.then((function(e){return S(i,e,void 0,t)}),(function(e){return S(i,void 0,at(e),t)})))):(S(a,i,void 0,t),i)}S(a,De(h))}}return Object.defineProperties(C,{state:{get:function(){return k()}},error:{get:function(){return g()}},loading:{get:function(){var e=k();return"pending"===e||"refreshing"===e}},latest:{get:function(){if(!u)return C();var e=g();if(e&&!a)throw e;return h()}}}),c?Fe((function(){return T(!1)})):T(!1),[C,{refetch:T,mutate:p}]}function Oe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ge,n=new Map,r=qe((function(r){var o,i=e(),a=D(n.entries());try{for(a.s();!(o=a.n()).done;){var s=O(o.value,2),l=s[0],u=s[1];if(t(l,i)!==t(l,r)){var c,d=D(u.values());try{for(d.s();!(c=d.n()).done;){var f=c.value;f.state=we,f.pure?Re.push(f):Ie.push(f)}}catch(h){d.e(h)}finally{d.f()}}}}catch(h){a.e(h)}finally{a.f()}return i}),void 0,!0,we);return Ze(r),function(e){var o,i=_e;i&&((o=n.get(e))?o.add(i):n.set(e,o=new Set([i])),je((function(){o.delete(i),!o.size&&n.delete(e)})));return t(e,r.value)}}function De(e){if(null===_e)return e();var t=_e;_e=null;try{return e()}finally{_e=t}}function Ue(e,t,n){var r,o=Array.isArray(e),i=n&&n.defer;return function(n){var a;if(o){a=Array(e.length);for(var s=0;s<e.length;s++)a[s]=e[s]()}else a=e();if(i)return i=!1,n;var l=De((function(){return t(a,r,n)}));return r=a,l}}function We(e){ze((function(){return De(e)}))}function je(e){return null===Ce||(null===Ce.cleanups?Ce.cleanups=[e]:Ce.cleanups.push(e)),e}function Ye(){return Ce}function He(e,t){var n=Ce,r=_e;Ce=e,_e=null;try{return et(t,!0)}catch(o){st(o)}finally{Ce=n,_e=r}}function Qe(e){var t=_e,n=Ce;return Promise.resolve().then((function(){_e=t,Ce=n,et(e,!1),_e=Ce=null}))}function Ke(e,t){var n=Symbol("context");return{id:n,Provider:ut(n),defaultValue:e}}function $e(e){return Ce&&Ce.context&&void 0!==Ce.context[e.id]?Ce.context[e.id]:e.defaultValue}function Xe(e){var t=Me(e),n=Me((function(){return lt(t())}));return n.toArray=function(){var e=n();return Array.isArray(e)?e:null!=e?[e]:[]},n}function Ge(){var e=this;if(this.sources&&this.state)if(this.state===we)Ze(this);else{var t=Re;Re=null,et((function(){return rt(e)}),!1),Re=t}if(_e){var n=this.observers?this.observers.length:0;_e.sources?(_e.sources.push(this),_e.sourceSlots.push(n)):(_e.sources=[this],_e.sourceSlots=[n]),this.observers?(this.observers.push(_e),this.observerSlots.push(_e.sources.length-1)):(this.observers=[_e],this.observerSlots=[_e.sources.length-1])}return this.value}function Ve(e,t,n){var r=e.value;return e.comparator&&e.comparator(r,t)||(e.value=t,e.observers&&e.observers.length&&et((function(){for(var t=0;t<e.observers.length;t+=1){var n=e.observers[t],r=Te&&Te.running;r&&Te.disposed.has(n),(r?n.tState:n.state)||(n.pure?Re.push(n):Ie.push(n),n.observers&&ot(n)),r||(n.state=we)}if(Re.length>1e6)throw Re=[],new Error}),!1)),t}function Ze(e){if(e.fn){it(e);var t=Be;!function(e,t,n){var r,o=Ce,i=_e;_e=Ce=e;try{r=e.fn(t)}catch(a){return e.pure&&(e.state=we,e.owned&&e.owned.forEach(it),e.owned=null),e.updatedAt=n+1,st(a)}finally{_e=i,Ce=o}(!e.updatedAt||e.updatedAt<=n)&&(null!=e.updatedAt&&"observers"in e?Ve(e,r):e.value=r,e.updatedAt=n)}(e,e.value,t)}}function qe(e,t,n){var r={fn:e,state:arguments.length>3&&void 0!==arguments[3]?arguments[3]:we,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:Ce,context:Ce?Ce.context:null,pure:n};return null===Ce||Ce!==Ae&&(Ce.owned?Ce.owned.push(r):Ce.owned=[r]),r}function Je(e){if(0!==e.state){if(e.state===ke)return rt(e);if(e.suspense&&De(e.suspense.inFallback))return e.suspense.effects.push(e);for(var t=[e];(e=e.owner)&&(!e.updatedAt||e.updatedAt<Be);)e.state&&t.push(e);for(var n=t.length-1;n>=0;n--)if((e=t[n]).state===we)Ze(e);else if(e.state===ke){var r=Re;Re=null,et((function(){return rt(e,t[0])}),!1),Re=r}}}function et(e,t){if(Re)return e();var n=!1;t||(Re=[]),Ie?n=!0:Ie=[],Be++;try{var r=e();return function(e){Re&&(tt(Re),Re=null);if(e)return;var t=Ie;Ie=null,t.length&&et((function(){return be(t)}),!1)}(n),r}catch(o){n||(Ie=null),Re=null,st(o)}}function tt(e){for(var t=0;t<e.length;t++)Je(e[t])}function nt(e){var t,n=0;for(t=0;t<e.length;t++){var r=e[t];r.user?e[n++]=r:Je(r)}for(t=0;t<n;t++)Je(e[t])}function rt(e,t){e.state=0;for(var n=0;n<e.sources.length;n+=1){var r=e.sources[n];if(r.sources){var o=r.state;o===we?r!==t&&(!r.updatedAt||r.updatedAt<Be)&&Je(r):o===ke&&rt(r,t)}}}function ot(e){for(var t=0;t<e.observers.length;t+=1){var n=e.observers[t];n.state||(n.state=ke,n.pure?Re.push(n):Ie.push(n),n.observers&&ot(n))}}function it(e){var t;if(e.sources)for(;e.sources.length;){var n=e.sources.pop(),r=e.sourceSlots.pop(),o=n.observers;if(o&&o.length){var i=o.pop(),a=n.observerSlots.pop();r<o.length&&(i.sourceSlots[a]=r,o[r]=i,n.observerSlots[r]=a)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)it(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function at(e){return e instanceof Error?e:new Error("string"==typeof e?e:"Unknown error",{cause:e})}function st(e){throw at(e)}function lt(e){if("function"==typeof e&&!e.length)return lt(e());if(Array.isArray(e)){for(var t=[],n=0;n<e.length;n++){var r=lt(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}function ut(e,t){return function(t){var n;return Le((function(){return n=De((function(){return Ce.context=z(z({},Ce.context),{},M({},e,t.value)),Xe((function(){return t.children}))}))}),void 0),n}}var ct=Symbol("fallback");function dt(e){for(var t=0;t<e.length;t++)e[t]()}function ft(e,t){return De((function(){return e(t||{})}))}function ht(){return!0}var pt={get:function(e,t,n){return t===ye?n:e.get(t)},has:function(e,t){return t===ye||e.has(t)},set:ht,deleteProperty:ht,getOwnPropertyDescriptor:function(e,t){return{configurable:!0,enumerable:!0,get:function(){return e.get(t)},set:ht,deleteProperty:ht}},ownKeys:function(e){return e.keys()}};function vt(e){return(e="function"==typeof e?e():e)?e:{}}function gt(){for(var e=0,t=this.length;e<t;++e){var n=this[e]();if(void 0!==n)return n}}function yt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=!1,o=0;o<t.length;o++){var i=t[o];r=r||!!i&&ye in i,t[o]="function"==typeof i?(r=!0,Me(i)):i}if(r)return new Proxy({get:function(e){for(var n=t.length-1;n>=0;n--){var r=vt(t[n])[e];if(void 0!==r)return r}},has:function(e){for(var n=t.length-1;n>=0;n--)if(e in vt(t[n]))return!0;return!1},keys:function(){for(var e=[],n=0;n<t.length;n++)e.push.apply(e,F(Object.keys(vt(t[n]))));return F(new Set(e))}},pt);for(var a={},s=Object.create(null),l=t.length-1;l>=0;l--){var u=t[l];if(u)for(var c=Object.getOwnPropertyNames(u),d=function(){var e=c[f];if("__proto__"===e||"constructor"===e)return 1;var t=Object.getOwnPropertyDescriptor(u,e);if(s[e]){var n=a[e];n&&(t.get?n.push(t.get.bind(u)):void 0!==t.value&&n.push((function(){return t.value})))}else s[e]=t.get?{enumerable:!0,configurable:!0,get:gt.bind(a[e]=[t.get.bind(u)])}:void 0!==t.value?t:void 0},f=c.length-1;f>=0;f--)d()}for(var h={},p=Object.keys(s),v=p.length-1;v>=0;v--){var g=p[v],y=s[g];y&&y.get?Object.defineProperty(h,g,y):h[g]=y?y.value:void 0}return h}var mt=function(e){return`Stale read from <${e}>.`};function xt(e){var t="fallback"in e&&{fallback:function(){return e.fallback}};return Me(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=[],o=[],i=[],a=0,s=t.length>1?[]:null;return je((function(){return dt(i)})),function(){var l,u,c=e()||[];return c[me],De((function(){var e,t,f,h,p,v,g,y,m,x=c.length;if(0===x)0!==a&&(dt(i),i=[],r=[],o=[],a=0,s&&(s=[])),n.fallback&&(r=[ct],o[0]=Ee((function(e){return i[0]=e,n.fallback()})),a=1);else if(0===a){for(o=new Array(x),u=0;u<x;u++)r[u]=c[u],o[u]=Ee(d);a=x}else{for(f=new Array(x),h=new Array(x),s&&(p=new Array(x)),v=0,g=Math.min(a,x);v<g&&r[v]===c[v];v++);for(g=a-1,y=x-1;g>=v&&y>=v&&r[g]===c[y];g--,y--)f[y]=o[g],h[y]=i[g],s&&(p[y]=s[g]);for(e=new Map,t=new Array(y+1),u=y;u>=v;u--)m=c[u],l=e.get(m),t[u]=void 0===l?-1:l,e.set(m,u);for(l=v;l<=g;l++)m=r[l],void 0!==(u=e.get(m))&&-1!==u?(f[u]=o[l],h[u]=i[l],s&&(p[u]=s[l]),u=t[u],e.set(m,u)):i[l]();for(u=v;u<x;u++)u in f?(o[u]=f[u],i[u]=h[u],s&&(s[u]=p[u],s[u](u))):o[u]=Ee(d);o=o.slice(0,a=x),r=c.slice(0)}return o}));function d(e){if(i[u]=e,s){var n=O(Ne(u),2),r=n[0],o=n[1];return s[u]=o,t(c[u],r)}return t(c[u])}}}((function(){return e.each}),e.children,t||void 0))}function bt(e){var t=e.keyed,n=Me((function(){return e.when}),void 0,{equals:function(e,n){return t?e===n:!e==!n}});return Me((function(){var r=n();if(r){var o=e.children;return"function"==typeof o&&o.length>0?De((function(){return o(t?r:function(){if(!De(n))throw mt("Show");return e.when})})):o}return e.fallback}),void 0,void 0)}var wt=O(Ne(void 0),2),kt=wt[0],At=wt[1],St=E((function e(t){N(this,e),M(this,"releaseCallback",void 0),this.releaseCallback=t})),Ct=function(e){function t(e,n){var r,o,i;return N(this,t),M(i=A(this,t,[e]),"textureMap",new Map),M(i,"zeroReferenceTextureSet",new Set),M(i,"options",void 0),i.options={textureCleanupIntervalMs:null!==(r=n.textureCleanupIntervalMs)&&void 0!==r?r:1e4,textureCleanupAgeThreadholdMs:null!==(o=n.textureCleanupAgeThreadholdMs)&&void 0!==o?o:6e4},setInterval((function(){var e,t=Date.now(),n=i.options.textureCleanupAgeThreadholdMs,r=D(i.zeroReferenceTextureSet);try{for(r.s();!(e=r.n()).done;){var o=e.value;t-o.lastUpdate>n&&(i.releaseCallback(o.id),i.textureMap.delete(o.id),i.zeroReferenceTextureSet.delete(o))}}catch(a){r.e(a)}finally{r.f()}}),i.options.textureCleanupIntervalMs),i}return R(t,e),E(t,[{key:"registerTexture",value:function(e){var t,n=null===(t=e.options)||void 0===t?void 0:t.id;if(I(n,"Texture must have an id to be registered"),!this.textureMap.has(n)){var r={id:n,nodeRefCount:0,lastUpdate:Date.now()};this.textureMap.set(n,r),this.zeroReferenceTextureSet.add(r)}}},{key:"incrementTextureRefCount",value:function(e){var t,n=null===(t=e.options)||void 0===t?void 0:t.id;I(n,"Texture must have an id to be registered");var r=this.textureMap.get(n);r||(this.registerTexture(e),r=this.textureMap.get(n)),I(r,"Texture must have been registered"),"SubTexture"===e.txType&&this.incrementTextureRefCount(e.props.texture),r.nodeRefCount++,r.lastUpdate=Date.now(),this.zeroReferenceTextureSet.has(r)&&this.zeroReferenceTextureSet.delete(r)}},{key:"decrementTextureRefCount",value:function(e){var t,n=null===(t=e.options)||void 0===t?void 0:t.id;I(n,"Texture must have an id to be registered");var r=this.textureMap.get(n);I(r,"Texture must have been registered"),r.nodeRefCount--,r.lastUpdate=Date.now(),0===r.nodeRefCount&&this.zeroReferenceTextureSet.add(r),"SubTexture"===e.txType&&this.decrementTextureRefCount(e.props.texture)}}])}(St),Tt=function(e){function t(e){var n;return N(this,t),M(n=A(this,t,[e]),"registry",void 0),n.registry=new FinalizationRegistry(e),n}return R(t,e),E(t,[{key:"registerTexture",value:function(e){var t,n;I(null===(t=e.options)||void 0===t?void 0:t.id,"Texture must have an ID to be registered"),this.registry.register(e,null===(n=e.options)||void 0===n?void 0:n.id)}},{key:"incrementTextureRefCount",value:function(){}},{key:"decrementTextureRefCount",value:function(){}}])}(St),_t={alpha:function(e){return 1===e?null:{prop:"opacity",value:`${e}`}},x:function(e){return{prop:"left",value:`${e}px`}},y:function(e){return{prop:"top",value:`${e}px`}},width:function(e){return 0===e?null:{prop:"width",value:`${e}px`}},height:function(e){return 0===e?null:{prop:"height",value:`${e}px`}},zIndex:function(){return"zIndex"},fontFamily:function(){return"font-family"},fontSize:function(){return"font-size"},fontStyle:function(){return"font-style"},fontWeight:function(){return"font-weight"},fontStretch:function(){return"font-stretch"},lineHeight:function(){return"line-height"},letterSpacing:function(){return"letter-spacing"},textAlign:function(){return"text-align"},overflowSuffix:function(){return"overflow-suffix"},maxLines:function(){return"max-lines"},contain:function(){return"contain"},verticalAlign:function(){return"vertical-align"},clipping:function(e){return!1===e?null:{prop:"overflow",value:e?"hidden":"visible"}},rotation:function(e){return 0===e?null:{prop:"transform",value:`rotate(${e}rad)`}},scale:function(e){return 1===e?null:{prop:"transform",value:`scale(${e})`}},scaleX:function(e){return 1===e?null:{prop:"transform",value:`scaleX(${e})`}},scaleY:function(e){return 1===e?null:{prop:"transform",value:`scaleY(${e})`}},color:function(e){return 0===e?null:{prop:"color",value:Rt(e)}}},Rt=function(e){return`rgba(${e>>24&255},${e>>16&255},${e>>8&255},${(255&e)/255})`},It={id:"id"},Bt=function(){return E((function e(t,n){var r,o,i,a,s,l;if(N(this,e),M(this,"root",null),M(this,"canvas",null),M(this,"height",1080),M(this,"width",1920),M(this,"scaleX",1),M(this,"scaleY",1),!B()){if(!n)throw new Error("settings is required");this.height=Math.ceil(null!==(r=n.appHeight)&&void 0!==r?r:1080/(null!==(o=n.deviceLogicalPixelRatio)&&void 0!==o?o:1)),this.width=Math.ceil(null!==(i=n.appWidth)&&void 0!==i?i:1900/(null!==(a=n.deviceLogicalPixelRatio)&&void 0!==a?a:1)),this.scaleX=null!==(s=n.deviceLogicalPixelRatio)&&void 0!==s?s:1,this.scaleY=null!==(l=n.deviceLogicalPixelRatio)&&void 0!==l?l:1,this.canvas=t,this.root=document.createElement("div"),this.setRootPosition(),document.body.appendChild(this.root),new MutationObserver(this.setRootPosition.bind(this)).observe(t,{attributes:!0,childList:!1,subtree:!1}),new ResizeObserver(this.setRootPosition.bind(this)).observe(t),window.addEventListener("resize",this.setRootPosition.bind(this)),console.warn("Inspector is enabled, this will impact performance")}}),[{key:"setRootPosition",value:function(){if(null!==this.root&&null!==this.canvas){var e=this.canvas.getBoundingClientRect(),t=document.documentElement.scrollTop+e.top,n=document.documentElement.scrollLeft+e.left;this.root.id="root",this.root.style.left=`${n}px`,this.root.style.top=`${t}px`,this.root.style.width=`${this.width}px`,this.root.style.height=`${this.height}px`,this.root.style.position="absolute",this.root.style.transformOrigin="0 0 0",this.root.style.transform=`scale(${this.scaleX}, ${this.scaleY})`,this.root.style.overflow="hidden",this.root.style.zIndex="65534"}}},{key:"createDiv",value:function(e,t){var n=document.createElement("div");for(var r in n.style.position="absolute",n.id=e.id.toString(),t)this.updateNodeProperty(n,r,t[r]);return n}},{key:"createNode",value:function(e,t){var n=e.createNode(t),r=this.createDiv(n,t);return r.node=n,n.div=r,this.createProxy(n,r)}},{key:"createTextNode",value:function(e,t){var n=e.createTextNode(t),r=this.createDiv(n,t);return r.node=n,n.div=r,this.createProxy(n,r)}},{key:"createProxy",value:function(e,t){var n=this;return new Proxy(e,{set:function(e,r,o){return n.updateNodeProperty(t,r,o),Reflect.set(e,r,o)},get:function(r,o,i){return"destroy"===o&&n.destroyNode(r),"animate"===o?function(o,i){var a=r.animate(o,i);return new Proxy(a,{get:function(r,a,s){return"start"===a&&n.animateNode(t,e,o,i),Reflect.get(r,a,s)}})}:Reflect.get(r,o,i)}})}},{key:"destroyNode",value:function(e){var t=document.getElementById(e.id.toString());null==t||t.remove()}},{key:"updateNodeProperty",value:function(e,t,n){if(null!==this.root&&null!=n)if("parent"!==t){if("text"===t)return e.innerHTML=String(n),void(e.style.visibility="hidden");if("src"===t&&n)e.setAttribute("data-src",String(n));else{if(_t[t]){var r,o=null===(r=_t[t])||void 0===r?void 0:r.call(_t,n);if(null===o)return;return"string"==typeof o?void e.style.setProperty(o,String(n)):void("object"==typeof o&&e.style.setProperty(o.prop,o.value))}if(It[t])e.setAttribute(String(_t[t]),String(n));else if("data"!==t);else for(var i in n)e.setAttribute(`data-${i}`,String(n[i]))}}else{var a=n.id;if(1===a)return void this.root.appendChild(e);var s=document.getElementById(a.toString());null==s||s.appendChild(e)}}},{key:"animateNode",value:function(e,t,n,r){var o=r.duration,i=void 0===o?1e3:o,a=r.delay,s=void 0===a?0:a,l=n.x,u=n.y,c=n.width,d=n.height,f=n.alpha,h=void 0===f?1:f,p=n.rotation,v=void 0===p?0:p,g=n.scale,y=void 0===g?1:g,m=n.color;setTimeout((function(){setTimeout((function(){e.style.top=`${u}px`,e.style.left=`${l}px`,e.style.width=`${c}px`,e.style.height=`${d}px`,e.style.opacity=`${h}`,e.style.rotate=`${v}rad`,e.style.scale=`${y}`,e.style.color=Rt(m)}),i)}),s)}}])}(),Et=function(e,t,n){var r=Promise.resolve();return r.then((function(){return e()})).catch((function(e){var t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}))},Nt=function(){return E((function e(t){N(this,e),M(this,"priority",1),M(this,"name",""),M(this,"ref",void 0),M(this,"target",void 0),M(this,"passParameters",""),M(this,"declaredUniforms",""),M(this,"uniformInfo",{});var n=t.ref,r=t.target,o=t.props,i=void 0===o?{}:o;this.ref=n,this.target=r;var a={},s=[],l="",u=this.constructor.uniforms||{};for(var c in u){var d=u[c],f=d.type,h=`${n}_${c}`,p="";d.size&&(p=`[${d.size(i)}]`),s.push(h),l+=`uniform ${f} ${h}${p};`,a[c]={name:h,uniform:u[c].method}}this.passParameters=s.join(","),this.declaredUniforms=l,this.uniformInfo=a}),null,[{key:"getEffectKey",value:function(e){return""}},{key:"getMethodParameters",value:function(e,t){var n=[];for(var r in e){var o=e[r],i="";o.size&&(i=`[${o.size(t)}]`),n.push(`${o.type} ${r}${i}`)}return n.join(",")}},{key:"resolveDefaults",value:function(e){return{}}},{key:"makeEffectKey",value:function(e){return!1}}])}();M(Nt,"uniforms",{}),M(Nt,"methods",void 0),M(Nt,"onShaderMask",void 0),M(Nt,"onColorize",void 0),M(Nt,"onEffectMask",void 0);var Ft={x:function(e,t){e.props.x=t},y:function(e,t){e.props.y=t},width:function(e,t){e.props.width=t},height:function(e,t){e.props.height=t},color:function(e,t){e.props.color=t},zIndex:function(e,t){e.props.zIndex=t},fontFamily:function(e,t){e.props.fontFamily=t},fontWeight:function(e,t){e.props.fontWeight=t},fontStyle:function(e,t){e.props.fontStyle=t},fontStretch:function(e,t){e.props.fontStretch=t},fontSize:function(e,t){e.props.fontSize=t},text:function(e,t){e.props.text=t},textAlign:function(e,t){e.props.textAlign=t},contain:function(e,t){e.props.contain=t},offsetY:function(e,t){e.props.offsetY=t},scrollable:function(e,t){e.props.scrollable=t},scrollY:function(e,t){e.props.scrollY=t},letterSpacing:function(e,t){e.props.letterSpacing=t},lineHeight:function(e,t){e.props.lineHeight=t},maxLines:function(e,t){e.props.maxLines=t},textBaseline:function(e,t){e.props.textBaseline=t},verticalAlign:function(e,t){e.props.verticalAlign=t},overflowSuffix:function(e,t){e.props.overflowSuffix=t},debug:function(e,t){e.props.debug=t}},Lt=function(){return E((function e(t){var n=this;N(this,e),M(this,"stage",void 0),M(this,"set",void 0),this.stage=t;var r=z(z({},Ft),this.getPropertySetters());this.set=Object.freeze(Object.fromEntries(Object.entries(r).map((function(e){var t=O(e,2),r=t[0],o=t[1];return[r,function(e,t){e.props[r]!==t&&(o(e,t),n.stage.requestRender())}]}))))}),[{key:"setStatus",value:function(e,t,n){e.status!==t&&(e.status=t,e.emitter.emit(t,n))}},{key:"setIsRenderable",value:function(e,t){e.isRenderable=t}},{key:"destroyState",value:function(e){["loading","loaded","failed"].forEach((function(t){e.emitter.off(t)}))}},{key:"scheduleUpdateState",value:function(e){var t=this;e.updateScheduled||(e.updateScheduled=!0,queueMicrotask((function(){e.updateScheduled=!1,t.updateState(e)})))}}])}(),zt=function(e){function t(e,n,r){var o;N(this,t),M(o=A(this,t,[e,n]),"fontFace",void 0),M(o,"fontUrl",void 0);var i=r.replace(/\(|\)/g,""),a=o.descriptors,s={style:a.style,weight:"number"==typeof a.weight?`${a.weight}`:a.weight,stretch:a.stretch,unicodeRange:a.unicodeRange,variant:a.variant,featureSettings:a.featureSettings,display:a.display},l=new FontFace(e,`url(${i})`,s);return l.load().then((function(){o.loaded=!0,o.emit("loaded")})).catch(console.error),o.fontFace=l,o.fontUrl=r,o}return R(t,e),E(t)}(L);function Mt(e,t,n,r,o){return n*(r-1)+("bottom"!==e?.5*t:0)+Math.max(n,t)+(o||0)}var Pt=function(){return E((function e(t,n){N(this,e),M(this,"_canvas",void 0),M(this,"_context",void 0),M(this,"_settings",void 0),M(this,"renderInfo",void 0),this._canvas=t,this._context=n,this._settings=this.mergeDefaults({})}),[{key:"settings",get:function(){return this._settings},set:function(e){this._settings=this.mergeDefaults(e)}},{key:"getPrecision",value:function(){return this._settings.precision}},{key:"setFontProperties",value:function(){this._context.font=this._getFontSetting(),this._context.textBaseline=this._settings.textBaseline}},{key:"_getFontSetting",value:function(){for(var e=[this._settings.fontFace],t=[],n=0,r=e.length;n<r;n++)"serif"===e[n]||"sans-serif"===e[n]?t.push(e[n]):t.push(`"${e[n]}"`);return`${this._settings.fontStyle} ${this._settings.fontSize*this.getPrecision()}px ${t.join(",")}`}},{key:"_load",value:function(){var e=this;if(document.fonts){var t=this._getFontSetting();try{if(!document.fonts.check(t,this._settings.text))return document.fonts.load(t,this._settings.text).catch((function(e){console.warn("[Lightning] Font load error",e,t)})).then((function(){document.fonts.check(t,e._settings.text)||console.warn("[Lightning] Font not found",t)}))}catch(n){console.warn("[Lightning] Can't check font loading for "+t)}}}},{key:"calculateRenderInfo",value:function(){var e={},t=this.getPrecision(),n=this._settings.paddingLeft*t,r=this._settings.paddingRight*t,o=this._settings.fontSize*t,i=null===this._settings.offsetY?null:this._settings.offsetY*t,a=(this._settings.lineHeight||o)*t,s=this._settings.w*t,l=this._settings.h*t,u=this._settings.wordWrapWidth*t,c=this._settings.cutSx*t,d=this._settings.cutEx*t,f=this._settings.cutSy*t,h=this._settings.cutEy*t,p=(this._settings.letterSpacing||0)*t,v=this._settings.textIndent*t;this.setFontProperties();var g,y=s||2048/this.getPrecision(),m=y-n;if(m<10&&(y+=10-m,m=10),u||(u=m),this._settings.textOverflow&&!this._settings.wordWrap){var x;switch(this._settings.textOverflow){case"clip":x="";break;case"ellipsis":x=this._settings.overflowSuffix;break;default:x=this._settings.textOverflow}this._settings.text=this.wrapWord(this._settings.text,u-v,x)}if(this._settings.wordWrap)g=this.wrapText(this._settings.text,u,p,v);else for(var b=(g={l:this._settings.text.split(/(?:\r\n|\r|\n)/),n:[]}).l.length,w=0;w<b-1;w++)g.n.push(w);var k=g.l;if(this._settings.maxLines&&k.length>this._settings.maxLines){var A,S=k.slice(0,this._settings.maxLines),C=null;if(this._settings.overflowSuffix){var T=this._settings.overflowSuffix?this.measureText(this._settings.overflowSuffix):0,_=this.wrapText(S[S.length-1],u-T,p,v);S[S.length-1]=`${_.l[0]}${this._settings.overflowSuffix}`,C=[_.l.length>1?_.l[1]:""]}else C=[""];var R=k.length,I=0,B=g.n.length;for(A=this._settings.maxLines;A<R;A++)C[I]+=`${C[I]?" ":""}${k[A]}`,A+1<B&&g.n[A+1]&&I++;e.remainingText=C.join("\n"),e.moreTextLines=!0,k=S}else e.moreTextLines=!1,e.remainingText="";for(var E,N=0,F=[],L=0;L<k.length;L++){var z=this.measureText(k[L],p)+(0===L?v:0);F.push(z),N=Math.max(N,z)}return e.lineWidths=F,s||(y=N+n+r,m=N),a=a||o,E=l||Mt(this._settings.textBaseline,o,a,k.length,i),null===i&&(i=o),e.w=y,e.h=E,e.lines=k,e.precision=t,y||(y=1),E||(E=1),(c||d)&&(y=Math.min(y,d-c)),(f||h)&&(E=Math.min(E,h-f)),e.width=y,e.innerWidth=m,e.height=E,e.fontSize=o,e.cutSx=c,e.cutSy=f,e.cutEx=d,e.cutEy=h,e.lineHeight=a,e.lineWidths=F,e.offsetY=i,e.paddingLeft=n,e.paddingRight=r,e.letterSpacing=p,e.textIndent=v,e}},{key:"draw",value:function(e,t){var n,r,o=this.getPrecision(),i=(null==t?void 0:t.lines)||e.lines,a=(null==t?void 0:t.lineWidths)||e.lineWidths,s=t?Mt(this._settings.textBaseline,e.fontSize,e.lineHeight,t.lines.length,null===this._settings.offsetY?null:this._settings.offsetY*o):e.height;this._canvas.width=Math.min(Math.ceil(e.width+this._settings.textRenderIssueMargin),2048),this._canvas.height=Math.min(Math.ceil(s),2048),this.setFontProperties(),e.fontSize>=128&&(this._context.globalAlpha=.01,this._context.fillRect(0,0,.01,.01),this._context.globalAlpha=1),(e.cutSx||e.cutSy)&&this._context.translate(-e.cutSx,-e.cutSy);for(var l=[],u=0,c=i.length;u<c;u++)n=0===u?e.textIndent:0,r=u*e.lineHeight+e.offsetY,"middle"==this._settings.verticalAlign?r+=(e.lineHeight-e.fontSize)/2:"bottom"==this._settings.verticalAlign&&(r+=e.lineHeight-e.fontSize),"right"===this._settings.textAlign?n+=e.innerWidth-a[u]:"center"===this._settings.textAlign&&(n+=(e.innerWidth-a[u])/2),n+=e.paddingLeft,l.push({text:i[u],x:n,y:r,w:a[u]});if(this._settings.highlight){var d=this._settings.highlightColor,f=this._settings.highlightHeight*o||1.5*e.fontSize,h=this._settings.highlightOffset*o,p=null!==this._settings.highlightPaddingLeft?this._settings.highlightPaddingLeft*o:e.paddingLeft,v=null!==this._settings.highlightPaddingRight?this._settings.highlightPaddingRight*o:e.paddingRight;this._context.fillStyle=P(d);for(var g=0;g<l.length;g++){var y=l[g];this._context.fillRect(y.x-p,y.y-e.offsetY+h,y.w+v+p,f)}}var m=null;this._settings.shadow&&(m=[this._context.shadowColor,this._context.shadowOffsetX,this._context.shadowOffsetY,this._context.shadowBlur],this._context.shadowColor=P(this._settings.shadowColor),this._context.shadowOffsetX=this._settings.shadowOffsetX*o,this._context.shadowOffsetY=this._settings.shadowOffsetY*o,this._context.shadowBlur=this._settings.shadowBlur*o),this._context.fillStyle=P(this._settings.textColor);for(var x=0,b=l.length;x<b;x++){var w=l[x];if(0===e.letterSpacing)this._context.fillText(w.text,w.x,w.y);else for(var k=w.text.split(""),A=w.x,S=0,C=k.length;S<C;S++)this._context.fillText(k[S],A,w.y),A+=this.measureText(k[S],e.letterSpacing)}m&&(this._context.shadowColor=m[0],this._context.shadowOffsetX=m[1],this._context.shadowOffsetY=m[2],this._context.shadowBlur=m[3]),(e.cutSx||e.cutSy)&&this._context.translate(e.cutSx,e.cutSy),this.renderInfo=e}},{key:"wrapWord",value:function(e,t,n){var r=this._context.measureText(n).width,o=e.length,i=this._context.measureText(e).width;if(i<=t)return e;var a=Math.floor(t*o/i),s=this._context.measureText(e.substring(0,a)).width+r;if(s>t)for(;a>0&&(s=this._context.measureText(e.substring(0,a)).width+r)>t;)a-=1;else for(;a<o;){if(!((s=this._context.measureText(e.substring(0,a)).width+r)<t)){a-=1;break}a+=1}return e.substring(0,a)+(t>=r?n:"")}},{key:"wrapText",value:function(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=e.split(/\r?\n/g),i=[],a=[],s=0;s<o.length;s++){for(var l=[],u="",c=t-r,d=o[s].split(" "),f=0;f<d.length;f++){var h=this.measureText(d[f],n),p=h+this.measureText(" ",n);0===f||p>c?(f>0&&(l.push(u),u=""),u+=d[f],c=t-h-(0===f?r:0)):(c-=p,u+=` ${d[f]}`)}l.push(u),u="",i=i.concat(l),s<o.length-1&&a.push(i.length)}return{l:i,n:a}}},{key:"measureText",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return n?e.split("").reduce((function(e,r){return e+t._context.measureText(r).width+n}),0):this._context.measureText(e).width}},{key:"mergeDefaults",value:function(e){return z({text:"",w:0,h:0,fontStyle:"normal",fontSize:40,fontFace:null,wordWrap:!0,wordWrapWidth:0,wordBreak:!1,textOverflow:"",lineHeight:null,textBaseline:"alphabetic",textAlign:"left",verticalAlign:"top",offsetY:null,maxLines:0,overflowSuffix:"...",textColor:[1,1,1,1],paddingLeft:0,paddingRight:0,shadow:!1,shadowColor:[0,0,0,1],shadowOffsetX:0,shadowOffsetY:0,shadowBlur:5,highlight:!1,highlightHeight:0,highlightColor:[0,0,0,1],highlightOffset:0,highlightPaddingLeft:0,highlightPaddingRight:0,letterSpacing:0,textIndent:0,cutSx:0,cutEx:0,cutSy:0,cutEy:0,advancedRenderer:!1,fontBaselineRatio:0,precision:1,textRenderIssueMargin:0},e)}}])}(),Ot="undefined"==typeof self?globalThis:self,Dt=(null===(b=Ot.document)||void 0===b?void 0:b.fonts)||Ot.fonts;var Ut=U(0,0,0,0),Wt=function(e){function t(e){var n;N(this,t),M(n=A(this,t,[e]),"canvas",void 0),M(n,"context",void 0),M(n,"rendererBounds",void 0),"undefined"!=typeof OffscreenCanvas?n.canvas=new OffscreenCanvas(0,0):n.canvas=document.createElement("canvas");var r=n.canvas.getContext("2d");return r||(n.canvas=document.createElement("canvas"),r=n.canvas.getContext("2d")),I(r),n.context=r,n.rendererBounds={x1:0,y1:0,x2:n.stage.options.appWidth,y2:n.stage.options.appHeight},n}return R(t,e),E(t,[{key:"getPropertySetters",value:function(){var e=this;return{fontFamily:function(t,n){t.props.fontFamily=n,t.fontInfo=void 0,e.invalidateLayoutCache(t)},fontWeight:function(t,n){t.props.fontWeight=n,t.fontInfo=void 0,e.invalidateLayoutCache(t)},fontStyle:function(t,n){t.props.fontStyle=n,t.fontInfo=void 0,e.invalidateLayoutCache(t)},fontStretch:function(t,n){t.props.fontStretch=n,t.fontInfo=void 0,e.invalidateLayoutCache(t)},fontSize:function(t,n){t.props.fontSize=n,t.fontInfo=void 0,e.invalidateLayoutCache(t)},text:function(t,n){t.props.text=n,e.invalidateLayoutCache(t)},textAlign:function(t,n){t.props.textAlign=n,e.invalidateLayoutCache(t)},color:function(t,n){t.props.color=n,e.invalidateLayoutCache(t)},x:function(t,n){t.props.x=n,e.invalidateVisibleWindowCache(t)},y:function(t,n){t.props.y=n,e.invalidateVisibleWindowCache(t)},contain:function(t,n){t.props.contain=n,e.invalidateLayoutCache(t)},width:function(t,n){t.props.width=n,"none"!==t.props.contain&&e.invalidateLayoutCache(t)},height:function(t,n){t.props.height=n,"both"===t.props.contain&&e.invalidateLayoutCache(t)},offsetY:function(t,n){t.props.offsetY=n,e.invalidateLayoutCache(t)},scrollY:function(e,t){e.props.scrollY=t},letterSpacing:function(t,n){t.props.letterSpacing=n,e.invalidateLayoutCache(t)},lineHeight:function(t,n){t.props.lineHeight=n,e.invalidateLayoutCache(t)},maxLines:function(t,n){t.props.maxLines=n,e.invalidateLayoutCache(t)},textBaseline:function(t,n){t.props.textBaseline=n,e.invalidateLayoutCache(t)},verticalAlign:function(t,n){t.props.verticalAlign=n,e.invalidateLayoutCache(t)},overflowSuffix:function(t,n){t.props.overflowSuffix=n,e.invalidateLayoutCache(t)}}}},{key:"canRenderFont",value:function(e){return!0}},{key:"isFontFaceSupported",value:function(e){return e instanceof zt}},{key:"addFontFace",value:function(e){I(e instanceof zt),Dt.add(e.fontFace)}},{key:"createState",value:function(e){return{props:e,status:"initialState",updateScheduled:!1,emitter:new W,canvasPages:void 0,lightning2TextRenderer:new Pt(this.canvas,this.context),renderWindow:void 0,visibleWindow:{x1:0,y1:0,x2:0,y2:0,valid:!1},renderInfo:void 0,forceFullLayoutCalc:!1,textW:0,textH:0,fontInfo:void 0,fontFaceLoadedHandler:void 0,isRenderable:!1,debugData:{updateCount:0,layoutCount:0,drawCount:0,lastLayoutNumCharacters:0,layoutSum:0,drawSum:0,bufferSize:0}}}},{key:"updateState",value:function(e){if("initialState"===e.status&&this.setStatus(e,"loading"),!e.fontInfo){var t=(n=e.props,r=n.fontFamily,[n.fontStyle,n.fontWeight,n.fontStretch,`${n.fontSize}px`,r].join(" "));if(e.fontInfo={cssString:t,loaded:!1},!e.fontInfo.loaded)return void Dt.load(t).then(this.onFontLoaded.bind(this,e,t)).catch(this.onFontLoadError.bind(this,e,t))}var n,r;if(e.fontInfo.loaded){if(!e.renderInfo){var o=e.props.maxLines,i="both"===e.props.contain?Math.floor((e.props.height-e.props.offsetY)/e.props.lineHeight):0,a=i>0&&o>0?Math.min(i,o):Math.max(i,o);e.lightning2TextRenderer.settings={text:e.props.text,textAlign:e.props.textAlign,fontFace:e.props.fontFamily,fontSize:e.props.fontSize,fontStyle:[e.props.fontStretch,e.props.fontStyle,e.props.fontWeight].join(" "),textColor:j(e.props.color),offsetY:e.props.fontSize+e.props.offsetY,wordWrap:"none"!==e.props.contain,wordWrapWidth:"none"===e.props.contain?void 0:e.props.width,letterSpacing:e.props.letterSpacing,lineHeight:e.props.lineHeight,maxLines:a,textBaseline:e.props.textBaseline,verticalAlign:e.props.verticalAlign,overflowSuffix:e.props.overflowSuffix},e.renderInfo=e.lightning2TextRenderer.calculateRenderInfo(),e.textH=e.renderInfo.lineHeight*e.renderInfo.lines.length,e.textW=e.renderInfo.width,e.renderWindow=void 0}var s=e.props,l=s.x,u=s.y,c=s.width,d=s.height,f=s.scrollY,h=s.contain,p=e.visibleWindow,v=e.renderWindow,g=e.canvasPages;if(!p.valid){var y=U(l,u,"none"!==h?l+c:1/0,"both"===h?u+d:1/0,Ut);Y(this.rendererBounds,y,p),p.valid=!0}var m=p.y2-p.y1,x=Math.ceil(m/e.renderInfo.lineHeight);if(0===m)return g=void 0,v=void 0,void this.setStatus(e,"loaded");if(v&&g){var b=l+v.x1,w=u-f+v.y1,k=l+v.x2,A=u-f+v.y2;if(b<=p.x1&&k>=p.x2&&w<=p.y1&&A>=p.y2)return void this.setStatus(e,"loaded");A<p.y2?(v.y1+=x*e.renderInfo.lineHeight,v.y2+=x*e.renderInfo.lineHeight,g.push(g.shift()),g[2].lineNumStart=g[1].lineNumStart+x,g[2].lineNumEnd=g[2].lineNumStart+x,g[2].valid=!1):w>p.y1&&(v.y1-=x*e.renderInfo.lineHeight,v.y2-=x*e.renderInfo.lineHeight,g.unshift(g.pop()),g[0].lineNumStart=g[1].lineNumStart-x,g[0].lineNumEnd=g[0].lineNumStart+x,g[0].valid=!1)}else{var S,C,T,_=e.renderInfo.lineHeight*x,R=Math.ceil(f/_),I=R*x,B=I-x,E=I+x;g=[{texture:null===(S=g)||void 0===S?void 0:S[0].texture,lineNumStart:B,lineNumEnd:B+x,valid:!1},{texture:null===(C=g)||void 0===C?void 0:C[1].texture,lineNumStart:I,lineNumEnd:I+x,valid:!1},{texture:null===(T=g)||void 0===T?void 0:T[2].texture,lineNumStart:E,lineNumEnd:E+x,valid:!1}],e.canvasPages=g;var N=R*_;v={x1:0,y1:N-_,x2:c,y2:N+2*_}}e.renderWindow=v,performance.now();var F,L=D(g);try{for(L.s();!(F=L.n()).done;){var z=F.value;if(!z.valid)if(z.lineNumStart<0){var M;null===(M=z.texture)||void 0===M||M.setRenderableOwner(e,!1),z.texture=this.stage.txManager.loadTexture("ImageTexture",{src:""}),z.texture.setRenderableOwner(e,e.isRenderable),z.valid=!0}else{var P;if(e.lightning2TextRenderer.draw(e.renderInfo,{lines:e.renderInfo.lines.slice(z.lineNumStart,z.lineNumEnd),lineWidths:e.renderInfo.lineWidths.slice(z.lineNumStart,z.lineNumEnd)}),0!==this.canvas.width&&0!==this.canvas.height)null===(P=z.texture)||void 0===P||P.setRenderableOwner(e,!1),z.texture=this.stage.txManager.loadTexture("ImageTexture",{src:this.context.getImageData(0,0,this.canvas.width,this.canvas.height)},{preload:!0}),z.texture.setRenderableOwner(e,e.isRenderable);z.valid=!0}}}catch(O){L.e(O)}finally{L.f()}this.setStatus(e,"loaded")}}},{key:"renderQuads",value:function(e,t,n,r){var o=this.stage,i=e.canvasPages,a=e.textW,s=void 0===a?0:a,l=e.textH,u=void 0===l?0:l,c=e.renderWindow;if(i&&c){var d=e.props,f=d.x,h=d.y,p=d.scrollY,v=d.contain,g=d.width,y=d.height,m={x:f,y:h,width:"none"!==v?g:s,height:"both"===v?y:u};H({x:0,y:0,width:o.options.appWidth,height:o.options.appHeight},m),I(i,"canvasPages is not defined"),I(c,"renderWindow is not defined");var x,b,w,k,A,S,C=(c.y2-c.y1)/3,T=e.props,_=T.zIndex,R=T.color,B=r*Q(R),E=K(4294967295,B);if(i[0].valid)this.stage.renderer.addQuad({alpha:B,clippingRect:n,colorBl:E,colorBr:E,colorTl:E,colorTr:E,width:(null===(x=i[0].texture)||void 0===x||null===(x=x.dimensions)||void 0===x?void 0:x.width)||0,height:(null===(b=i[0].texture)||void 0===b||null===(b=b.dimensions)||void 0===b?void 0:b.height)||0,texture:i[0].texture,textureOptions:{},shader:null,shaderProps:null,zIndex:_,tx:t.tx,ty:t.ty-p+c.y1,ta:t.ta,tb:t.tb,tc:t.tc,td:t.td});if(i[1].valid)this.stage.renderer.addQuad({alpha:B,clippingRect:n,colorBl:E,colorBr:E,colorTl:E,colorTr:E,width:(null===(w=i[1].texture)||void 0===w||null===(w=w.dimensions)||void 0===w?void 0:w.width)||0,height:(null===(k=i[1].texture)||void 0===k||null===(k=k.dimensions)||void 0===k?void 0:k.height)||0,texture:i[1].texture,textureOptions:{},shader:null,shaderProps:null,zIndex:_,tx:t.tx,ty:t.ty-p+c.y1+C,ta:t.ta,tb:t.tb,tc:t.tc,td:t.td});if(i[2].valid)this.stage.renderer.addQuad({alpha:B,clippingRect:n,colorBl:E,colorBr:E,colorTl:E,colorTr:E,width:(null===(A=i[2].texture)||void 0===A||null===(A=A.dimensions)||void 0===A?void 0:A.width)||0,height:(null===(S=i[2].texture)||void 0===S||null===(S=S.dimensions)||void 0===S?void 0:S.height)||0,texture:i[2].texture,textureOptions:{},shader:null,shaderProps:null,zIndex:_,tx:t.tx,ty:t.ty-p+c.y1+C+C,ta:t.ta,tb:t.tb,tc:t.tc,td:t.td})}}},{key:"setIsRenderable",value:function(e,n){var r;k(_(t.prototype),"setIsRenderable",this).call(this,e,n),null===(r=e.canvasPages)||void 0===r||r.forEach((function(t){var r;null===(r=t.texture)||void 0===r||r.setRenderableOwner(e,n)}))}},{key:"destroyState",value:function(e){var t;null===(t=e.canvasPages)||void 0===t||t.forEach((function(t){var n;null===(n=t.texture)||void 0===n||n.setRenderableOwner(e,!1)}))}},{key:"invalidateVisibleWindowCache",value:function(e){e.visibleWindow.valid=!1,this.setStatus(e,"loading"),this.scheduleUpdateState(e)}},{key:"invalidateLayoutCache",value:function(e){e.renderInfo=void 0,e.visibleWindow.valid=!1,this.setStatus(e,"loading"),this.scheduleUpdateState(e)}},{key:"onFontLoaded",value:function(e,t){var n;t===(null===(n=e.fontInfo)||void 0===n?void 0:n.cssString)&&e.fontInfo&&(e.fontInfo.loaded=!0,this.scheduleUpdateState(e))}},{key:"onFontLoadError",value:function(e,t,n){var r;t===(null===(r=e.fontInfo)||void 0===r?void 0:r.cssString)&&e.fontInfo&&(e.fontInfo.loaded=!0,console.error(`CanvasTextRenderer: Error loading font '${e.fontInfo.cssString}'`,n),this.scheduleUpdateState(e))}}])}(Lt),jt=function(e){function t(e){return N(this,t),A(this,t,[{renderer:e,attributes:["a_position","a_textureCoordinate","a_color"],uniforms:[{name:"u_resolution",uniform:"uniform2fv"},{name:"u_pixelRatio",uniform:"uniform1f"},{name:"u_texture",uniform:"uniform2fv"}]}])}return R(t,e),E(t,[{key:"bindTextures",value:function(e){var t=this.glw;t.activeTexture(0),t.bindTexture(e[0].ctxTexture)}}])}($);M(jt,"shaderSources",{vertex:"\n      # ifdef GL_FRAGMENT_PRESICISON_HIGH\n      precision highp float;\n      # else\n      precision mediump float;\n      # endif\n\n      attribute vec2 a_position;\n      attribute vec2 a_textureCoordinate;\n      attribute vec4 a_color;\n\n      uniform vec2 u_resolution;\n      uniform float u_pixelRatio;\n\n\n      varying vec4 v_color;\n      varying vec2 v_textureCoordinate;\n\n      void main() {\n        vec2 normalized = a_position * u_pixelRatio;\n        vec2 screenSpace = vec2(2.0 / u_resolution.x, -2.0 / u_resolution.y);\n\n        v_color = a_color;\n        v_textureCoordinate = a_textureCoordinate;\n\n        gl_Position = vec4(normalized.x * screenSpace.x - 1.0, normalized.y * -abs(screenSpace.y) + 1.0, 0.0, 1.0);\n        gl_Position.y = -sign(screenSpace.y) * gl_Position.y;\n      }\n    ",fragment:"\n      # ifdef GL_FRAGMENT_PRESICISON_HIGH\n      precision highp float;\n      # else\n      precision mediump float;\n      # endif\n\n      uniform vec2 u_resolution;\n      uniform sampler2D u_texture;\n\n      varying vec4 v_color;\n      varying vec2 v_textureCoordinate;\n\n      void main() {\n          vec4 color = texture2D(u_texture, v_textureCoordinate);\n          gl_FragColor = vec4(v_color) * texture2D(u_texture, v_textureCoordinate);\n      }\n    "});var Yt=function(e){function t(e){var n;return N(this,t),M(n=A(this,t,[{renderer:e,attributes:["a_position","a_textureCoordinate","a_color","a_textureIndex"],uniforms:[{name:"u_resolution",uniform:"uniform2fv"},{name:"u_pixelRatio",uniform:"uniform1f"},{name:"u_textures[0]",uniform:"uniform1iv"}]}]),"supportsIndexedTextures",!0),n}return R(t,e),E(t,[{key:"bindTextures",value:function(e){var t=this.renderer,n=this.glw;if(e.length>t.system.parameters.MAX_VERTEX_TEXTURE_IMAGE_UNITS)throw new Error(`DefaultShaderBatched: Cannot bind more than ${t.system.parameters.MAX_VERTEX_TEXTURE_IMAGE_UNITS} textures`);e.forEach((function(e,t){n.activeTexture(t),n.bindTexture(e.ctxTexture)}));var r=Array.from(Array(e.length).keys());this.setUniform("u_textures[0]",r)}}])}($);M(Yt,"shaderSources",{vertex:"\n      # ifdef GL_FRAGMENT_PRESICISON_HIGH\n      precision highp float;\n      # else\n      precision mediump float;\n      # endif\n\n      attribute vec2 a_textureCoordinate;\n      attribute vec2 a_position;\n      attribute vec4 a_color;\n      attribute float a_textureIndex;\n      attribute float a_depth;\n\n      uniform vec2 u_resolution;\n      uniform float u_pixelRatio;\n\n      varying vec4 v_color;\n      varying vec2 v_textureCoordinate;\n      varying float v_textureIndex;\n\n      void main(){\n        vec2 normalized = a_position * u_pixelRatio / u_resolution;\n        vec2 zero_two = normalized * 2.0;\n        vec2 clip_space = zero_two - 1.0;\n\n        // pass to fragment\n        v_color = a_color;\n        v_textureCoordinate = a_textureCoordinate;\n        v_textureIndex = a_textureIndex;\n\n        // flip y\n        gl_Position = vec4(clip_space * vec2(1.0, -1.0), 0, 1);\n      }\n    ",fragment:function(e){return`\n      #define txUnits ${e}\n      # ifdef GL_FRAGMENT_PRESICISON_HIGH\n      precision highp float;\n      # else\n      precision mediump float;\n      # endif\n\n      uniform vec2 u_resolution;\n      uniform sampler2D u_image;\n      uniform sampler2D u_textures[txUnits];\n\n      varying vec4 v_color;\n      varying vec2 v_textureCoordinate;\n      varying float v_textureIndex;\n\n      vec4 sampleFromTexture(sampler2D textures[${e}], int idx, vec2 uv) {\n        ${Array.from(Array(e).keys()).map((function(e){return`\n          ${0!==e?"else ":""}if (idx == ${e}) {\n            return texture2D(textures[${e}], uv);\n          }\n        `})).join("")}\n        return texture2D(textures[0], uv);\n      }\n\n      void main(){\n        gl_FragColor = vec4(v_color) * sampleFromTexture(u_textures, int(v_textureIndex), v_textureCoordinate);\n      }\n    `}});var Ht=new Map,Qt=function(e,t){var n=JSON.stringify(e);if(Ht.has(n))return Ht.get(n);var r=(null!=e?e:[]).map((function(e){return{type:e.type,props:t[e.type].resolveDefaults(e.props||{})}}));return Ht.set(n,r),r},Kt=function(e){function t(e,n,r){var o;N(this,t);var i=t.createShader(n,r);return M(o=A(this,t,[{renderer:e,attributes:["a_position","a_textureCoordinate","a_color"],uniforms:[{name:"u_resolution",uniform:"uniform2fv"},{name:"u_pixelRatio",uniform:"uniform1f"},{name:"u_texture",uniform:"uniform2fv"},{name:"u_dimensions",uniform:"uniform2fv"},{name:"u_alpha",uniform:"uniform1f"}].concat(F(i.uniforms)),shaderSources:{vertex:i.vertex,fragment:i.fragment}}]),"effects",[]),o.effects=i.effects,o.calculateProps=X(o.calculateProps.bind(o)),o}return R(t,e),E(t,[{key:"bindTextures",value:function(e){var t=this.glw;t.activeTexture(0),t.bindTexture(e[0].ctxTexture)}},{key:"calculateProps",value:function(e){var t=this,n=this.renderer.shManager.getRegisteredEffects(),r=[];return null==e||e.forEach((function(e,o){var i,a=t.effects[o],s=n[a.name],l=null!==(i=e.props)&&void 0!==i?i:{},u=a.uniformInfo;Object.keys(l).forEach((function(e){var t=s.uniforms[e],n=u[e],o=t.validator?t.validator(l[e],l):l[e];Array.isArray(o)&&(o=new Float32Array(o)),r.push({name:n.name,value:o})}))})),r}},{key:"bindProps",value:function(e){var t=this;this.calculateProps(e.effects).forEach((function(e){t.setUniform(e.name,e.value)}))}},{key:"canBatchShaderProps",value:function(e,t){if(e.$dimensions.width!==t.$dimensions.width||e.$dimensions.height!==t.$dimensions.height||e.effects.length!==t.effects.length)return!1;for(var n=e.effects.length,r=0;r<n;r++){var o=e.effects[r],i=t.effects[r];if(o.type!==i.type)return!1;for(var a in o.props)if(i.props&&!i.props[a]||o.props[a]!==i.props[a])return!1}return!0}}],[{key:"createShader",value:function(e,n){var r={},o={},i="",a=[],s=[],l=e.effects.map((function(e){var t=n[e.type],o=t.getEffectKey(e.props||{});r[o]=r[o]?++r[o]:1;var l=r[o];1===l&&s.push({key:o,type:e.type,props:e.props});var u=new t({ref:`${o}${1===l?"":l}`,target:o,props:e.props});return i+=u.declaredUniforms,a.push.apply(a,F(Object.values(u.uniformInfo))),u})),u="";null==s||s.forEach((function(e){var r,i=n[e.type],a=i.resolveDefaults(null!==(r=e.props)&&void 0!==r?r:{}),s=[];for(var l in i.methods){var c=l,d=i.methods[l];o[l]&&o[l]!==d&&(c=t.resolveMethodDuplicate(l,d,o)),o[c]=d.replace("function",c),s.push({m:l,cm:c})}var f=i.onShaderMask instanceof Function?i.onShaderMask(a):i.onShaderMask,h=i.onColorize instanceof Function?i.onColorize(a):i.onColorize,p=i.onEffectMask instanceof Function?i.onEffectMask(a):i.onEffectMask;s.forEach((function(e){var t=e.m,n=e.cm,r=new RegExp(`\\$${t}`,"g");f&&(f=f.replace(r,n)),h&&(h=h.replace(r,n)),p&&(p=p.replace(r,n))}));var v=i.getMethodParameters(i.uniforms,a),g=v.length>0?`, ${v}`:"";f&&(u+=`\n        float fx_${e.key}_onShaderMask(float shaderMask ${g}) {\n          ${f}\n        }\n        `),h&&(u+=`\n          vec4 fx_${e.key}_onColorize(float shaderMask, vec4 maskColor, vec4 shaderColor${g}) {\n            ${h}\n          }\n        `),p&&(u+=`\n          vec4 fx_${e.key}_onEffectMask(float shaderMask, vec4 maskColor, vec4 shaderColor${g}) {\n            ${p}\n          }\n        `)}));var c="";for(var d in o)c+=o[d];for(var f="mix(shaderColor, maskColor, clamp(-(lng_DefaultMask), 0.0, 1.0))",h="\n\n    ",p=0;p<l.length;p++){var v=l[p],g=v.passParameters.length>0?`, ${v.passParameters}`:"",y=n[v.name];y.onShaderMask&&(h+=`\n        shaderMask = fx_${v.target}_onShaderMask(shaderMask ${g});\n        `),y.onColorize&&(h+=`\n        maskColor = fx_${v.target}_onColorize(shaderMask, maskColor, shaderColor${g});\n        `),y.onEffectMask&&(f=`fx_${v.target}_onEffectMask(shaderMask, maskColor, shaderColor${g})`);var m=l[p+1];(void 0===m||n[m.name].onEffectMask)&&(h+=`\n          shaderColor = ${f};\n        `)}return{effects:l,uniforms:a,fragment:t.fragment(i,c,u,h),vertex:t.vertex()}}},{key:"resolveMethodDuplicate",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=e+(r>0?r:"");return n[o]&&n[o]!==t?this.resolveMethodDuplicate(e,t,n,++r):o}},{key:"resolveDefaults",value:function(e,t){return{effects:Qt(e.effects,t),$dimensions:{width:0,height:0},$alpha:0}}},{key:"makeCacheKey",value:function(e,t){var n,r="";return null===(n=e.effects)||void 0===n||n.forEach((function(e){var n=t[e.type].getEffectKey(e.props||{});r+=`,${n}`})),`DynamicShader${r}`}}])}($);M(Kt,"z$__type__Props",void 0),M(Kt,"vertex",(function(){return"\n    # ifdef GL_FRAGMENT_PRESICISON_HIGH\n    precision highp float;\n    # else\n    precision mediump float;\n    # endif\n\n    attribute vec2 a_textureCoordinate;\n    attribute vec2 a_position;\n    attribute vec4 a_color;\n    attribute float a_textureIndex;\n\n    uniform vec2 u_resolution;\n    uniform float u_pixelRatio;\n\n    varying vec4 v_color;\n    varying vec2 v_textureCoordinate;\n    varying float v_textureIndex;\n\n    void main(){\n      vec2 normalized = a_position * u_pixelRatio / u_resolution;\n      vec2 zero_two = normalized * 2.0;\n      vec2 clip_space = zero_two - 1.0;\n\n      // pass to fragment\n      v_color = a_color;\n      v_textureCoordinate = a_textureCoordinate;\n      v_textureIndex = a_textureIndex;\n\n      // flip y\n      gl_Position = vec4(clip_space * vec2(1.0, -1.0), 0, 1);\n    }\n  "})),M(Kt,"fragment",(function(e,t,n,r){return`\n    # ifdef GL_FRAGMENT_PRESICISON_HIGH\n    precision highp float;\n    # else\n    precision mediump float;\n    # endif\n\n    #define PI 3.14159265359\n\n    uniform vec2 u_resolution;\n    uniform vec2 u_dimensions;\n    uniform float u_alpha;\n    uniform float u_radius;\n    uniform sampler2D u_texture;\n    uniform float u_pixelRatio;\n\n    ${e}\n\n    varying vec4 v_color;\n    varying vec2 v_textureCoordinate;\n\n    ${t}\n\n    ${n}\n\n    void main() {\n      vec2 p = v_textureCoordinate.xy * u_dimensions - u_dimensions * 0.5;\n      vec2 d = abs(p) - (u_dimensions) * 0.5;\n      float lng_DefaultMask = min(max(d.x, d.y), 0.0) + length(max(d, 0.0));\n\n      vec4 shaderColor = vec4(0.0);\n      float shaderMask = lng_DefaultMask;\n\n      vec4 maskColor = texture2D(u_texture, v_textureCoordinate) * v_color;\n\n      shaderColor = mix(shaderColor, maskColor, clamp(-(lng_DefaultMask + 0.5), 0.0, 1.0));\n\n      ${r}\n\n      gl_FragColor = shaderColor * u_alpha;\n    }\n  `}));var $t=function(e){function t(e){return N(this,t),A(this,t,[{renderer:e,attributes:["a_position","a_textureCoordinate","a_color"],uniforms:[{name:"u_resolution",uniform:"uniform2fv"},{name:"u_pixelRatio",uniform:"uniform1f"},{name:"u_texture",uniform:"uniform2f"},{name:"u_dimensions",uniform:"uniform2fv"},{name:"u_radius",uniform:"uniform1f"}]}])}return R(t,e),E(t,[{key:"bindTextures",value:function(e){var t=this.glw;t.activeTexture(0),t.bindTexture(e[0].ctxTexture)}},{key:"bindProps",value:function(e){this.setUniform("u_radius",e.radius)}},{key:"canBatchShaderProps",value:function(e,t){return e.radius===t.radius&&e.$dimensions.width===t.$dimensions.width&&e.$dimensions.height===t.$dimensions.height}}],[{key:"resolveDefaults",value:function(e){return{radius:e.radius||10,$dimensions:{width:0,height:0}}}}])}($);M($t,"z$__type__Props",void 0),M($t,"shaderSources",{vertex:"\n      # ifdef GL_FRAGMENT_PRESICISON_HIGH\n      precision highp float;\n      # else\n      precision mediump float;\n      # endif\n\n      attribute vec2 a_position;\n      attribute vec2 a_textureCoordinate;\n      attribute vec4 a_color;\n      attribute float a_textureIndex;\n      attribute float a_depth;\n\n      uniform vec2 u_resolution;\n      uniform float u_pixelRatio;\n\n      varying vec4 v_color;\n      varying vec2 v_textureCoordinate;\n\n      void main() {\n        vec2 normalized = a_position * u_pixelRatio / u_resolution;\n        vec2 zero_two = normalized * 2.0;\n        vec2 clip_space = zero_two - 1.0;\n\n        // pass to fragment\n        v_color = a_color;\n        v_textureCoordinate = a_textureCoordinate;\n\n        // flip y\n        gl_Position = vec4(clip_space * vec2(1.0, -1.0), 0, 1);\n      }\n    ",fragment:"\n      # ifdef GL_FRAGMENT_PRESICISON_HIGH\n      precision highp float;\n      # else\n      precision mediump float;\n      # endif\n\n      uniform vec2 u_resolution;\n      uniform vec2 u_dimensions;\n      uniform float u_radius;\n      uniform sampler2D u_texture;\n\n      varying vec4 v_color;\n      varying vec2 v_textureCoordinate;\n\n      float boxDist(vec2 p, vec2 size, float radius){\n        size -= vec2(radius);\n        vec2 d = abs(p) - size;\n        return min(max(d.x, d.y), 0.0) + length(max(d, 0.0)) - radius;\n      }\n\n      float fillMask(float dist) {\n        return clamp(-dist, 0.0, 1.0);\n      }\n\n      void main() {\n        vec4 color = texture2D(u_texture, v_textureCoordinate) * v_color;\n        vec2 halfDimensions = u_dimensions * 0.5;\n\n        float d = boxDist(v_textureCoordinate.xy * u_dimensions - halfDimensions, halfDimensions + 0.5, u_radius);\n        gl_FragColor = mix(vec4(0.0), color, fillMask(d));\n      }\n    "});var Xt=new Float32Array([1,0,0,0,1,0,0,0,1]),Gt=function(e){function t(e){return N(this,t),A(this,t,[{renderer:e,attributes:["a_position","a_textureCoordinate"],uniforms:[{name:"u_resolution",uniform:"uniform2fv"},{name:"u_transform",uniform:"uniformMatrix3fv"},{name:"u_scrollY",uniform:"uniform1f"},{name:"u_pixelRatio",uniform:"uniform1f"},{name:"u_texture",uniform:"uniform2f"},{name:"u_color",uniform:"uniform4fv"},{name:"u_size",uniform:"uniform1f"},{name:"u_distanceRange",uniform:"uniform1f"},{name:"u_debug",uniform:"uniform1i"}]}])}return R(t,e),E(t,[{key:"bindTextures",value:function(e){var t=this.glw;t.activeTexture(0),t.bindTexture(e[0].ctxTexture)}},{key:"bindProps",value:function(e){var n=t.resolveDefaults(e);for(var r in n)if("transform"===r)this.setUniform("u_transform",!1,n[r]);else if("scrollY"===r)this.setUniform("u_scrollY",n[r]);else if("color"===r){var o=j(n.color);this.setUniform("u_color",o)}else"size"===r?this.setUniform("u_size",n[r]):"distanceRange"===r?this.setUniform("u_distanceRange",n[r]):"debug"===r&&this.setUniform("u_debug",n[r]?1:0)}}],[{key:"resolveDefaults",value:function(){var e,t,n,r,o,i,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{transform:null!==(e=a.transform)&&void 0!==e?e:Xt,scrollY:null!==(t=a.scrollY)&&void 0!==t?t:0,color:null!==(n=a.color)&&void 0!==n?n:4294967295,size:null!==(r=a.size)&&void 0!==r?r:16,distanceRange:null!==(o=a.distanceRange)&&void 0!==o?o:1,debug:null!==(i=a.debug)&&void 0!==i&&i}}}])}($);M(Gt,"shaderSources",{vertex:"\n      // an attribute is an input (in) to a vertex shader.\n      // It will receive data from a buffer\n      attribute vec2 a_position;\n      attribute vec2 a_textureCoordinate;\n\n      uniform vec2 u_resolution;\n      uniform mat3 u_transform;\n      uniform float u_scrollY;\n      uniform float u_pixelRatio;\n      uniform float u_size;\n\n      varying vec2 v_texcoord;\n\n      void main() {\n        vec2 scrolledPosition = a_position * u_size - vec2(0, u_scrollY);\n        vec2 transformedPosition = (u_transform * vec3(scrolledPosition, 1)).xy;\n\n        // Calculate screen space with pixel ratio\n        vec2 screenSpace = (transformedPosition * u_pixelRatio / u_resolution * 2.0 - 1.0) * vec2(1, -1);\n\n        gl_Position = vec4(screenSpace, 0.0, 1.0);\n        v_texcoord = a_textureCoordinate;\n\n      }\n    ",fragment:"\n      precision highp float;\n\n      uniform vec4 u_color;\n      uniform sampler2D u_texture;\n      uniform float u_distanceRange;\n      uniform float u_pixelRatio;\n      uniform int u_debug;\n\n      varying vec2 v_texcoord;\n\n      float median(float r, float g, float b) {\n          return max(min(r, g), min(max(r, g), b));\n      }\n\n      void main() {\n          vec3 sample = texture2D(u_texture, v_texcoord).rgb;\n          if (u_debug == 1) {\n            gl_FragColor = vec4(sample.r, sample.g, sample.b, 1.0);\n            return;\n          }\n          float scaledDistRange = u_distanceRange * u_pixelRatio;\n          float sigDist = scaledDistRange * (median(sample.r, sample.g, sample.b) - 0.5);\n          float opacity = clamp(sigDist + 0.5, 0.0, 1.0) * u_color.a;\n\n          // Build the final color.\n          // IMPORTANT: We must premultiply the color by the alpha value before returning it.\n          gl_FragColor = vec4(u_color.r * opacity, u_color.g * opacity, u_color.b * opacity, opacity);\n      }\n    "});var Vt=function(e){function t(){var e;N(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return M(e=A(this,t,[].concat(r)),"name","radius"),e}return R(t,e),E(t,null,[{key:"getEffectKey",value:function(){return"radius"}},{key:"resolveDefaults",value:function(e){var t;return{radius:null!==(t=e.radius)&&void 0!==t?t:10}}}])}(Nt);M(Vt,"z$__type__Props",void 0),M(Vt,"uniforms",{radius:{value:0,method:"uniform4fv",type:"vec4",validator:function(e){var t=e;return Array.isArray(t)?2===t.length?t=[t[0],t[1],t[0],t[1]]:3===t.length?t=[t[0],t[1],t[2],t[0]]:4!==t.length&&(t=[t[0],t[0],t[0],t[0]]):"number"==typeof t&&(t=[t,t,t,t]),t}}}),M(Vt,"methods",{fillMask:"\n      float function(float dist) {\n        return clamp(-dist, 0.0, 1.0);\n      }\n    ",boxDist:"\n      float function(vec2 p, vec2 size, float radius) {\n        size -= vec2(radius);\n        vec2 d = abs(p) - size;\n        return min(max(d.x, d.y), 0.0) + length(max(d, 0.0)) - radius;\n      }\n    "}),M(Vt,"onShaderMask","\n  vec2 halfDimensions = u_dimensions * 0.5;\n  float r = radius[0] * step(v_textureCoordinate.x, 0.5) * step(v_textureCoordinate.y, 0.5);\n  r = r + radius[1] * step(0.5, v_textureCoordinate.x) * step(v_textureCoordinate.y, 0.5);\n  r = r + radius[2] * step(0.5, v_textureCoordinate.x) * step(0.5, v_textureCoordinate.y);\n  r = r + radius[3] * step(v_textureCoordinate.x, 0.5) * step(0.5, v_textureCoordinate.y);\n  return $boxDist(v_textureCoordinate.xy * u_dimensions - halfDimensions, halfDimensions, r);\n  "),M(Vt,"onEffectMask","\n  return mix(vec4(0.0), maskColor, $fillMask(shaderMask));\n  ");var Zt=function(e){function t(){var e;N(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return M(e=A(this,t,[].concat(r)),"name","border"),e}return R(t,e),E(t,null,[{key:"getEffectKey",value:function(){return"border"}},{key:"resolveDefaults",value:function(e){var t,n;return{width:null!==(t=e.width)&&void 0!==t?t:10,color:null!==(n=e.color)&&void 0!==n?n:4294967295}}}])}(Nt);M(Zt,"z$__type__Props",void 0),M(Zt,"uniforms",{width:{value:0,method:"uniform1f",type:"float"},color:{value:4294967295,validator:function(e){return j(e)},method:"uniform4fv",type:"vec4"}}),M(Zt,"onEffectMask","\n  float mask = clamp(shaderMask + width, 0.0, 1.0) - clamp(shaderMask, 0.0, 1.0);\n  return mix(shaderColor, mix(shaderColor, maskColor, maskColor.a), mask);\n  "),M(Zt,"onColorize","\n    return color;\n  ");var qt=function(e){function t(){var e;N(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return M(e=A(this,t,[].concat(r)),"name","linearGradient"),e}return R(t,e),E(t,null,[{key:"getEffectKey",value:function(e){return`linearGradient${e.colors.length}`}},{key:"resolveDefaults",value:function(e){var t,n,r=null!==(t=e.colors)&&void 0!==t?t:[4278190080,4294967295],o=e.stops||[];if(0===o.length||o.length!==r.length){for(var i=r.length,a=0,s=o;a<i;a++)o[a]?(s[a]=o[a],void 0===o[a-1]&&void 0!==s[a-2]&&(s[a-1]=s[a-2]+(o[a]-s[a-2])/2)):s[a]=a*(1/(r.length-1));o=s}return{colors:r,stops:o,angle:null!==(n=e.angle)&&void 0!==n?n:0}}}])}(Nt);fe=qt,M(qt,"z$__type__Props",void 0),M(qt,"uniforms",{angle:{value:0,method:"uniform1f",type:"float"},colors:{value:4294967295,validator:function(e){return e.map((function(e){return j(e)})).reduce((function(e,t){return e.concat(t)}),[])},size:function(e){return e.colors.length},method:"uniform4fv",type:"vec4"},stops:{value:[],size:function(e){return e.colors.length},method:"uniform1fv",type:"float"}}),M(qt,"methods",{fromLinear:"\n      vec4 function(vec4 linearRGB) {\n        vec4 higher = vec4(1.055)*pow(linearRGB, vec4(1.0/2.4)) - vec4(0.055);\n        vec4 lower = linearRGB * vec4(12.92);\n        return mix(higher, lower, 1.0);\n      }\n    ",toLinear:"\n      vec4 function(vec4 sRGB) {\n        vec4 higher = pow((sRGB + vec4(0.055))/vec4(1.055), vec4(2.4));\n        vec4 lower = sRGB/vec4(12.92);\n        return mix(higher, lower, 1.0);\n      }\n    ",calcPoint:"\n      vec2 function(float d, float angle) {\n        return d * vec2(cos(angle), sin(angle)) + (u_dimensions * 0.5);\n      }\n    "}),M(qt,"ColorLoop",(function(e){for(var t="",n=2;n<e;n++)t+=`colorOut = mix(colorOut, colors[${n}], clamp((dist - stops[${n-1}]) / (stops[${n}] - stops[${n-1}]), 0.0, 1.0));`;return t})),M(qt,"onColorize",(function(e){var t=e.colors.length||1;return`\n      float a = angle - (PI / 180.0 * 90.0);\n      float lineDist = abs(u_dimensions.x * cos(a)) + abs(u_dimensions.y * sin(a));\n      vec2 f = $calcPoint(lineDist * 0.5, a);\n      vec2 t = $calcPoint(lineDist * 0.5, a + PI);\n      vec2 gradVec = t - f;\n      float dist = dot(v_textureCoordinate.xy * u_dimensions - f, gradVec) / dot(gradVec, gradVec);\n\n      float stopCalc = (dist - stops[0]) / (stops[1] - stops[0]);\n      vec4 colorOut = $fromLinear(mix($toLinear(colors[0]), $toLinear(colors[1]), stopCalc));\n      ${fe.ColorLoop(t)}\n      return mix(maskColor, colorOut, clamp(colorOut.a, 0.0, 1.0));\n    `}));var Jt=function(e){function t(){var e;N(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return M(e=A(this,t,[].concat(r)),"name","grayscale"),e}return R(t,e),E(t,null,[{key:"getEffectKey",value:function(){return"grayscale"}},{key:"resolveDefaults",value:function(e){var t;return{amount:null!==(t=e.amount)&&void 0!==t?t:1}}}])}(Nt);M(Jt,"uniforms",{amount:{value:1,method:"uniform1f",type:"float"}}),M(Jt,"onColorize","\n    float grayness = 0.2 * maskColor.r + 0.6 * maskColor.g + 0.2 * maskColor.b;\n    return vec4(amount * vec3(grayness) + (1.0 - amount) * maskColor.rgb, maskColor.a);\n  ");var en=function(e){function t(){var e;N(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return M(e=A(this,t,[].concat(r)),"name","borderRight"),e}return R(t,e),E(t,null,[{key:"getEffectKey",value:function(){return"borderRight"}},{key:"resolveDefaults",value:function(e){var t,n;return{width:null!==(t=e.width)&&void 0!==t?t:10,color:null!==(n=e.color)&&void 0!==n?n:4294967295}}}])}(Nt);M(en,"z$__type__Props",void 0),M(en,"uniforms",{width:{value:0,method:"uniform1f",type:"float"},color:{value:4294967295,validator:function(e){return j(e)},method:"uniform4fv",type:"vec4"}}),M(en,"methods",{fillMask:"\n      float function(float dist) {\n        return clamp(-dist, 0.0, 1.0);\n      }\n    ",rectDist:"\n      float function(vec2 p, vec2 size) {\n        vec2 d = abs(p) - size;\n        return min(max(d.x, d.y), 0.0) + length(max(d, 0.0));\n      }\n    "}),M(en,"onEffectMask","\n  vec2 pos = vec2(u_dimensions.x - width * 0.5, 0.0);\n  float mask = $rectDist(v_textureCoordinate.xy * u_dimensions - pos, vec2(width*0.5, u_dimensions.y));\n  return mix(shaderColor, maskColor, $fillMask(mask));\n  "),M(en,"onColorize","\n    return color;\n  ");var tn=function(e){function t(){var e;N(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return M(e=A(this,t,[].concat(r)),"name","borderTop"),e}return R(t,e),E(t,null,[{key:"getEffectKey",value:function(){return"borderTop"}},{key:"resolveDefaults",value:function(e){var t,n;return{width:null!==(t=e.width)&&void 0!==t?t:10,color:null!==(n=e.color)&&void 0!==n?n:4294967295}}}])}(Nt);M(tn,"z$__type__Props",void 0),M(tn,"uniforms",{width:{value:0,method:"uniform1f",type:"float"},color:{value:4294967295,validator:function(e){return j(e)},method:"uniform4fv",type:"vec4"}}),M(tn,"methods",{fillMask:"\n      float function(float dist) {\n        return clamp(-dist, 0.0, 1.0);\n      }\n    ",rectDist:"\n      float function(vec2 p, vec2 size) {\n        vec2 d = abs(p) - size;\n        return min(max(d.x, d.y), 0.0) + length(max(d, 0.0));\n      }\n    "}),M(tn,"onEffectMask","\n  vec2 pos = vec2(0.0, width * 0.5);\n  float mask = $rectDist(v_textureCoordinate.xy * u_dimensions - pos, vec2(u_dimensions.x, width*0.5));\n  return mix(shaderColor, maskColor, $fillMask(mask));\n  "),M(tn,"onColorize","\n    return color;\n  ");var nn=function(e){function t(){var e;N(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return M(e=A(this,t,[].concat(r)),"name","borderBottom"),e}return R(t,e),E(t,null,[{key:"getEffectKey",value:function(){return"borderBottom"}},{key:"resolveDefaults",value:function(e){var t,n;return{width:null!==(t=e.width)&&void 0!==t?t:10,color:null!==(n=e.color)&&void 0!==n?n:4294967295}}}])}(Nt);M(nn,"z$__type__Props",void 0),M(nn,"uniforms",{width:{value:0,method:"uniform1f",type:"float"},color:{value:4294967295,validator:function(e){return j(e)},method:"uniform4fv",type:"vec4"}}),M(nn,"methods",{fillMask:"\n      float function(float dist) {\n        return clamp(-dist, 0.0, 1.0);\n      }\n    ",rectDist:"\n      float function(vec2 p, vec2 size) {\n        vec2 d = abs(p) - size;\n        return min(max(d.x, d.y), 0.0) + length(max(d, 0.0));\n      }\n    "}),M(nn,"onEffectMask","\n  vec2 pos = vec2(0.0, u_dimensions.y - width * 0.5);\n  float mask = $rectDist(v_textureCoordinate.xy * u_dimensions - pos, vec2(u_dimensions.x, width*0.5));\n  return mix(shaderColor, maskColor, $fillMask(mask));\n  "),M(nn,"onColorize","\n    return color;\n  ");var rn=function(e){function t(){var e;N(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return M(e=A(this,t,[].concat(r)),"name","borderLeft"),e}return R(t,e),E(t,null,[{key:"getEffectKey",value:function(){return"borderLeft"}},{key:"resolveDefaults",value:function(e){var t,n;return{width:null!==(t=e.width)&&void 0!==t?t:10,color:null!==(n=e.color)&&void 0!==n?n:4294967295}}}])}(Nt);M(rn,"z$__type__Props",void 0),M(rn,"uniforms",{width:{value:0,method:"uniform1f",type:"float"},color:{value:4294967295,validator:function(e){return j(e)},method:"uniform4fv",type:"vec4"}}),M(rn,"methods",{fillMask:"\n      float function(float dist) {\n        return clamp(-dist, 0.0, 1.0);\n      }\n    ",rectDist:"\n      float function(vec2 p, vec2 size) {\n        vec2 d = abs(p) - size;\n        return min(max(d.x, d.y), 0.0) + length(max(d, 0.0));\n      }\n    "}),M(rn,"onEffectMask","\n  vec2 pos = vec2(width * 0.5, 0.0);\n  float mask = $rectDist(v_textureCoordinate.xy * u_dimensions - pos, vec2(width*0.5, u_dimensions.y));\n  return mix(shaderColor, maskColor, $fillMask(mask));\n  "),M(rn,"onColorize","\n    return color;\n  ");var on=function(e){function t(){var e;N(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return M(e=A(this,t,[].concat(r)),"name","glitch"),e}return R(t,e),E(t,null,[{key:"getEffectKey",value:function(e){return"glitch"}},{key:"resolveDefaults",value:function(e){var t,n,r,o,i;return{amplitude:null!==(t=e.amplitude)&&void 0!==t?t:.2,narrowness:null!==(n=e.narrowness)&&void 0!==n?n:4,blockiness:null!==(r=e.blockiness)&&void 0!==r?r:2,minimizer:null!==(o=e.minimizer)&&void 0!==o?o:8,time:null!==(i=e.time)&&void 0!==i?i:Date.now()}}}])}(Nt);M(on,"z$__type__Props",void 0),M(on,"uniforms",{amplitude:{value:0,method:"uniform1f",type:"float"},narrowness:{value:0,method:"uniform1f",type:"float"},blockiness:{value:0,method:"uniform1f",type:"float"},minimizer:{value:0,method:"uniform1f",type:"float"},time:{value:0,method:"uniform1f",validator:function(e){return(Date.now()-e)%1e3},type:"float"}}),M(on,"methods",{rand:"\n      float function(vec2 p, float time) {\n        float t = floor(time * 20.) / 10.;\n        return fract(sin(dot(p, vec2(t * 12.9898, t * 78.233))) * 43758.5453);\n      }\n    ",noise:"\n      float function(vec2 uv, float blockiness, float time) {\n        vec2 lv = fract(uv);\n        vec2 id = floor(uv);\n\n        float n1 = rand(id, time);\n        float n2 = rand(id+vec2(1,0), time);\n        float n3 = rand(id+vec2(0,1), time);\n        float n4 = rand(id+vec2(1,1), time);\n        vec2 u = smoothstep(0.0, 1.0 + blockiness, lv);\n        return mix(mix(n1, n2, u.x), mix(n3, n4, u.x), u.y);\n      }\n    ",fbm:"\n      float function(vec2 uv, int count, float blockiness, float complexity, float time) {\n        float val = 0.0;\n        float amp = 0.5;\n        const int MAX_ITERATIONS = 10;\n\n        for(int i = 0; i < MAX_ITERATIONS; i++) {\n          if(i >= count) {break;}\n          val += amp * noise(uv, blockiness, time);\n          amp *= 0.5;\n          uv *= complexity;\n        }\n        return val;\n      }\n    "}),M(on,"onColorize","\n    vec2 uv = v_textureCoordinate.xy;\n    float aspect = u_dimensions.x / u_dimensions.y;\n    vec2 a = vec2(uv.x * aspect , uv.y);\n    vec2 uv2 = vec2(a.x / u_dimensions.x, exp(a.y));\n\n    float shift = amplitude * pow($fbm(uv2, 4, blockiness, narrowness, time), minimizer);\n    float colR = texture2D(u_texture, vec2(uv.x + shift, uv.y)).r * (1. - shift);\n    float colG = texture2D(u_texture, vec2(uv.x - shift, uv.y)).g * (1. - shift);\n    float colB = texture2D(u_texture, vec2(uv.x - shift, uv.y)).b * (1. - shift);\n\n    vec3 f = vec3(colR, colG, colB);\n    return vec4(f, texture2D(u_texture, vec2(uv.x - shift, uv.y)).a);\n  ");var an=function(e){function t(){var e;N(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return M(e=A(this,t,[].concat(r)),"name","fadeOut"),e}return R(t,e),E(t,null,[{key:"getEffectKey",value:function(){return"fadeOut"}},{key:"resolveDefaults",value:function(e){var t;return{fade:null!==(t=e.fade)&&void 0!==t?t:10}}}])}(Nt);M(an,"z$__type__Props",void 0),M(an,"uniforms",{fade:{value:0,method:"uniform4fv",type:"vec4",validator:function(e){var t=e;return Array.isArray(t)?2===t.length?t=[t[0],t[1],t[0],t[1]]:3===t.length?t=[t[0],t[1],t[2],t[0]]:4!==t.length&&(t=[t[0],t[0],t[0],t[0]]):"number"==typeof t&&(t=[t,t,t,t]),t}}}),M(an,"onColorize","\n  vec2 point = v_textureCoordinate.xy * u_dimensions.xy;\n  vec2 pos1;\n  vec2 pos2;\n  vec2 d;\n  float c;\n  vec4 result = maskColor;\n\n\n  if(fade[0] > 0.0) {\n    pos1 = vec2(point.x, point.y);\n    pos2 = vec2(point.x, point.y + fade[0]);\n    d = pos2 - pos1;\n    c = dot(pos1, d) / dot(d, d);\n    result = mix(vec4(0.0), result, smoothstep(0.0, 1.0, clamp(c, 0.0, 1.0)));\n  }\n\n  if(fade[1] > 0.0) {\n    pos1 = vec2(point.x - u_dimensions.x - fade[1], v_textureCoordinate.y);\n    pos2 = vec2(point.x - u_dimensions.x, v_textureCoordinate.y);\n    d = pos1 - pos2;\n    c = dot(pos2, d) / dot(d, d);\n    result = mix(vec4(0.0), result, smoothstep(0.0, 1.0, clamp(c, 0.0, 1.0)));\n  }\n\n  if(fade[2] > 0.0) {\n    pos1 = vec2(v_textureCoordinate.x, point.y - u_dimensions.y - fade[2]);\n    pos2 = vec2(v_textureCoordinate.x, point.y - u_dimensions.y);\n    d = pos1 - pos2;\n    c = dot(pos2, d) / dot(d, d);\n    result = mix(vec4(0.0), result, smoothstep(0.0, 1.0, clamp(c, 0.0, 1.0)));\n  }\n\n  if(fade[3] > 0.0) {\n    pos1 = vec2(point.x, point.y);\n    pos2 = vec2(point.x + fade[3], point.y);\n    d = pos2 - pos1;\n    c = dot(pos1, d) / dot(d, d);\n    result = mix(vec4(0.0), result, smoothstep(0.0, 1.0, clamp(c, 0.0, 1.0)));\n  }\n\n  return result;\n  ");var sn=function(e){function t(){var e;N(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return M(e=A(this,t,[].concat(r)),"name","radialGradient"),e}return R(t,e),E(t,null,[{key:"getEffectKey",value:function(e){return`radialGradient${e.colors.length}`}},{key:"resolveDefaults",value:function(e){var t,n,r,o,i,a=null!==(t=e.colors)&&void 0!==t?t:[4278190080,4294967295],s=e.stops||[];if(0===s.length||s.length!==a.length){for(var l=a.length,u=0,c=s;u<l;u++)s[u]?(c[u]=s[u],void 0===s[u-1]&&void 0!==c[u-2]&&(c[u-1]=c[u-2]+(s[u]-c[u-2])/2)):c[u]=u*(1/(a.length-1));s=c}return{colors:a,stops:s,width:null!==(n=e.width)&&void 0!==n?n:0,height:null!==(r=null!==(o=e.height)&&void 0!==o?o:e.width)&&void 0!==r?r:0,pivot:null!==(i=e.pivot)&&void 0!==i?i:[.5,.5]}}}])}(Nt);he=sn,M(sn,"z$__type__Props",void 0),M(sn,"uniforms",{width:{value:0,method:"uniform1f",type:"float"},height:{value:0,method:"uniform1f",type:"float"},pivot:{value:[.5,.5],method:"uniform2fv",type:"vec2"},colors:{value:4294967295,validator:function(e){return e.map((function(e){return j(e)})).reduce((function(e,t){return e.concat(t)}),[])},size:function(e){return e.colors.length},method:"uniform4fv",type:"vec4"},stops:{value:[],size:function(e){return e.colors.length},method:"uniform1fv",type:"float"}}),M(sn,"ColorLoop",(function(e){for(var t="",n=2;n<e;n++)t+=`colorOut = mix(colorOut, colors[${n}], clamp((dist - stops[${n-1}]) / (stops[${n}] - stops[${n-1}]), 0.0, 1.0));`;return t})),M(sn,"onColorize",(function(e){var t=e.colors.length||1;return`\n      vec2 point = v_textureCoordinate.xy * u_dimensions;\n      vec2 projection = vec2(pivot.x * u_dimensions.x, pivot.y * u_dimensions.y);\n\n      float dist = length((point - projection) / vec2(width, height));\n\n      float stopCalc = (dist - stops[0]) / (stops[1] - stops[0]);\n      vec4 colorOut = mix(colors[0], colors[1], stopCalc);\n      ${he.ColorLoop(t)}\n      return mix(maskColor, colorOut, clamp(colorOut.a, 0.0, 1.0));\n    `}));var ln=function(e){function t(){var e;N(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return M(e=A(this,t,[].concat(r)),"name","radialProgress"),e}return R(t,e),E(t,null,[{key:"getEffectKey",value:function(){return"radialProgress"}},{key:"resolveDefaults",value:function(e){var t,n,r,o,i,a,s;return{width:null!==(t=e.width)&&void 0!==t?t:10,progress:null!==(n=e.progress)&&void 0!==n?n:.5,offset:null!==(r=e.offset)&&void 0!==r?r:0,range:null!==(o=e.range)&&void 0!==o?o:2*Math.PI,rounded:null!==(i=e.rounded)&&void 0!==i&&i,radius:null!==(a=e.radius)&&void 0!==a?a:1,color:null!==(s=e.color)&&void 0!==s?s:4294967295}}}])}(Nt);M(ln,"z$__type__Props",void 0),M(ln,"uniforms",{width:{value:0,method:"uniform1f",type:"float"},progress:{value:.5,method:"uniform1f",type:"float"},offset:{value:0,method:"uniform1f",type:"float"},range:{value:0,method:"uniform1f",type:"float"},rounded:{value:0,method:"uniform1f",type:"float",validator:function(e){return e?1:0}},radius:{value:1,method:"uniform1f",type:"float"},color:{value:4294967295,validator:function(e){return j(e)},method:"uniform4fv",type:"vec4"}}),M(ln,"methods",{rotateUV:"\n    vec2 function(vec2 uv, float d) {\n      float s = sin(d);\n      float c = cos(d);\n      mat2 rotMatrix = mat2(c, -s, s, c);\n      return uv * rotMatrix;\n    }\n    ",drawDot:"\n    float function(vec2 uv, vec2 p, float r) {\n      uv += p;\n      float circle = length(uv) - r;\n      return clamp(-circle, 0.0, 1.0);\n    }\n    "}),M(ln,"onEffectMask","\n    float outerRadius = radius * u_dimensions.y * 0.5;\n\n    float endAngle = range * progress - 0.0005;\n\n    vec2 uv = v_textureCoordinate.xy * u_dimensions.xy - u_dimensions * 0.5;\n\n    uv = $rotateUV(uv, -(offset));\n    float linewidth = width * u_pixelRatio;\n    float circle = length(uv) - (outerRadius - linewidth) ;\n    circle = abs(circle) - linewidth;\n    circle = clamp(-circle, 0.0, 1.0);\n\n    float angle = (atan(uv.x, -uv.y) / 3.14159265359 * 0.5);\n    float p = endAngle / (PI * 2.);\n\n    circle *= step(fract(angle), fract(p));\n\n    circle = rounded < 1. ? circle : max(circle, $drawDot(uv, vec2(0, outerRadius - linewidth), linewidth));\n    circle = rounded < 1. ? circle : max(circle, $drawDot($rotateUV(uv, -(endAngle)), vec2(0, outerRadius - linewidth), linewidth));\n\n    return mix(shaderColor, maskColor, circle);\n  "),M(ln,"onColorize","\n    return color;\n  ");var un=function(e){function t(){var e;N(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return M(e=A(this,t,[].concat(r)),"name","holePunch"),e}return R(t,e),E(t,null,[{key:"getEffectKey",value:function(){return"holePunch"}},{key:"resolveDefaults",value:function(e){var t;return{x:e.x||0,y:e.y||0,width:e.width||50,height:e.height||50,radius:null!==(t=e.radius)&&void 0!==t?t:0}}}])}(Nt);M(un,"z$__type__Props",void 0),M(un,"uniforms",{x:{value:0,method:"uniform1f",type:"float"},y:{value:0,method:"uniform1f",type:"float"},width:{value:0,method:"uniform1f",type:"float"},height:{value:0,method:"uniform1f",type:"float"},radius:{value:0,method:"uniform4fv",type:"vec4",validator:function(e){var t=e;return Array.isArray(t)?2===t.length?t=[t[0],t[1],t[0],t[1]]:3===t.length?t=[t[0],t[1],t[2],t[0]]:4!==t.length&&(t=[t[0],t[0],t[0],t[0]]):"number"==typeof t&&(t=[t,t,t,t]),t}}}),M(un,"methods",{fillMask:"\n      float function(float dist) {\n        return clamp(-dist, 0.0, 1.0);\n      }\n    ",boxDist:"\n      float function(vec2 p, vec2 size, float radius) {\n        size -= vec2(radius);\n        vec2 d = abs(p) - size;\n        return min(max(d.x, d.y), 0.0) + length(max(d, 0.0)) - radius;\n      }\n    "}),M(un,"onShaderMask","\n  vec2 halfDimensions = u_dimensions * 0.5;\n  vec2 size = vec2(width, height) * 0.5;\n  vec2 basePos = v_textureCoordinate.xy * u_dimensions.xy - vec2(x, y);\n  vec2 pos = basePos - size;\n  float r = radius[0] * step(pos.x, 0.5) * step(pos.y, 0.5);\n  r = r + radius[1] * step(0.5, pos.x) * step(pos.y, 0.5);\n  r = r + radius[2] * step(0.5, pos.x) * step(0.5, pos.y);\n  r = r + radius[3] * step(pos.x, 0.5) * step(0.5, pos.y);\n  return $boxDist(pos, size, r);\n  "),M(un,"onEffectMask","\n  return mix(maskColor, vec4(0.0), $fillMask(shaderMask));\n  ");var cn=function(){return E((function e(){N(this,e),M(this,"shCache",new Map),M(this,"shConstructors",{}),M(this,"attachedShader",null),M(this,"effectConstructors",{}),M(this,"renderer",void 0),this.registerShaderType("DefaultShader",jt),this.registerShaderType("DefaultShaderBatched",Yt),this.registerShaderType("RoundedRectangle",$t),this.registerShaderType("DynamicShader",Kt),this.registerShaderType("SdfShader",Gt),this.registerEffectType("border",Zt),this.registerEffectType("borderBottom",nn),this.registerEffectType("borderLeft",rn),this.registerEffectType("borderRight",en),this.registerEffectType("borderTop",tn),this.registerEffectType("fadeOut",an),this.registerEffectType("linearGradient",qt),this.registerEffectType("radialGradient",sn),this.registerEffectType("grayscale",Jt),this.registerEffectType("glitch",on),this.registerEffectType("radius",Vt),this.registerEffectType("radialProgress",ln),this.registerEffectType("holePunch",un)}),[{key:"registerShaderType",value:function(e,t){this.shConstructors[e]=t}},{key:"registerEffectType",value:function(e,t){this.effectConstructors[e]=t}},{key:"getRegisteredEffects",value:function(){return this.effectConstructors}},{key:"getRegisteredShaders",value:function(){return this.shConstructors}},{key:"loadShader",value:function(e,t){if(!this.renderer)throw new Error("Renderer is not been defined");var n=this.shConstructors[e];if(!n)throw new Error(`Shader type "${e}" is not registered`);if("DynamicShader"===e)return this.loadDynamicShader(t);var r=n.resolveDefaults(t),o=n.makeCacheKey(r)||n.name;if(o&&this.shCache.has(o))return{shader:this.shCache.get(o),props:r};var i=new n(this.renderer,t);return o&&this.shCache.set(o,i),{shader:i,props:r}}},{key:"loadDynamicShader",value:function(e){if(!this.renderer)throw new Error("Renderer is not been defined");var t=Kt.resolveDefaults(e,this.effectConstructors),n=Kt.makeCacheKey(t,this.effectConstructors);if(n&&this.shCache.has(n))return{shader:this.shCache.get(n),props:t};var r=new Kt(this.renderer,e,this.effectConstructors);return n&&this.shCache.set(n,r),{shader:r,props:t}}},{key:"useShader",value:function(e){this.attachedShader!==e&&(this.attachedShader&&this.attachedShader.detach(),e.attach(),this.attachedShader=e)}}])}(),dn=function(){return E((function e(){N(this,e),M(this,"data",{})}),[{key:"reset",value:function(){this.data={}}},{key:"increment",value:function(e){this.data[e]||(this.data[e]=0),this.data[e]++}},{key:"getData",value:function(){return z({},this.data)}}])}();var fn=function(){var e=w(x().mark((function e(t){var n,r;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.arrayBuffer();case 5:if(r=e.sent,-1===t.indexOf(".ktx")){e.next=8;break}return e.abrupt("return",hn(r));case 8:return e.abrupt("return",pn(r));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),hn=function(){var e=w(x().mark((function e(t){var n,r,o,i,a,s,l;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=new DataView(t),r=16909060===n.getUint32(12),o=[],i={glInternalFormat:n.getUint32(28,r),pixelWidth:n.getUint32(36,r),pixelHeight:n.getUint32(40,r),numberOfMipmapLevels:n.getUint32(56,r),bytesOfKeyValueData:n.getUint32(60,r)},a=64,a+=i.bytesOfKeyValueData,s=0;s<i.numberOfMipmapLevels;s++)l=n.getUint32(a),a+=4,o.push(n.buffer.slice(a,l)),a+=l;return e.abrupt("return",{data:{glInternalFormat:i.glInternalFormat,mipmaps:o,width:i.pixelWidth||0,height:i.pixelHeight||0,type:"ktx"},premultiplyAlpha:!1});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pn=function(){var e=w(x().mark((function e(t){var n,r,o,i,a,s,l,u,c,d,f,h;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(13,36196,7,6,11,12,n=t,r=new Int32Array(n,0,13),o=r[12]+52,i=new Uint8Array(n,o),a=[],s={pixelWidth:r[7],pixelHeight:r[6],numberOfMipmapLevels:r[11]||0},l=0,u=s.pixelWidth||0,c=s.pixelHeight||0,d=0;d<s.numberOfMipmapLevels;d++)f=(u+3>>2)*(c+3>>2)*8,h=new Uint8Array(n,i.byteOffset+l,f),a.push(h),l+=f,u>>=1,c>>=1;return e.abrupt("return",{data:{glInternalFormat:36196,mipmaps:a,width:s.pixelWidth||0,height:s.pixelHeight||0,type:"pvr"},premultiplyAlpha:!1});case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),vn=function(e){function t(e,n){var r;return N(this,t),M(r=A(this,t,[e]),"props",void 0),r.props=t.resolveDefaults(n),r}return R(t,e),E(t,[{key:"hasAlphaChannel",value:function(e){return-1!==e.indexOf("image/png")}},{key:"getTextureData",value:(n=w(x().mark((function e(){var t,n,r,o,i,a,s;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,n=t.src,r=t.premultiplyAlpha,n){e.next=3;break}return e.abrupt("return",{data:null});case 3:if(!(n instanceof ImageData)){e.next=5;break}return e.abrupt("return",{data:n,premultiplyAlpha:r});case 5:if(!/\.(ktx|pvr)$/.test(n)){e.next=7;break}return e.abrupt("return",fn(n));case 7:if(!this.txManager.imageWorkerManager){e.next=13;break}return e.next=10,this.txManager.imageWorkerManager.getImage(n,r);case 10:return e.abrupt("return",e.sent);case 13:if(!this.txManager.hasCreateImageBitmap){e.next=28;break}return e.next=16,fetch(n);case 16:return o=e.sent,e.next=19,o.blob();case 19:return i=e.sent,a=null!=r?r:this.hasAlphaChannel(i.type),e.next=23,createImageBitmap(i,{premultiplyAlpha:a?"premultiply":"none",colorSpaceConversion:"none",imageOrientation:"none"});case 23:return e.t0=e.sent,e.t1=a,e.abrupt("return",{data:e.t0,premultiplyAlpha:e.t1});case 28:return s=new Image,"data:"!=n.substr(0,5)&&(s.crossOrigin="Anonymous"),s.src=n,e.next=33,new Promise((function(e,t){s.onload=function(){return e()},s.onerror=function(){return t(new Error("Failed to load image"))}})).catch((function(e){console.error(e)}));case 33:return e.abrupt("return",{data:s,premultiplyAlpha:null==r||r});case 34:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})}],[{key:"makeCacheKey",value:function(e){var n=t.resolveDefaults(e);return!(n.src instanceof ImageData)&&`ImageTexture,${n.src},${n.premultiplyAlpha}`}},{key:"resolveDefaults",value:function(e){var t,n;return{src:null!==(t=e.src)&&void 0!==t?t:"",premultiplyAlpha:null===(n=e.premultiplyAlpha)||void 0===n||n}}}]);var n}(G);M(vn,"z$__type__Props",void 0);var gn=function(){return E((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;N(this,e),M(this,"iterator",void 0),M(this,"peekBuffer",[]),M(this,"_lastIndex",void 0),this.iterator=t,this.iterator=t,this._lastIndex=n-1,this.peekBuffer=[]}),[{key:"next",value:function(){var e=this.peekBuffer.length>0?this.peekBuffer.pop():this.iterator.next();return e.done?this._lastIndex=-1:this._lastIndex++,e}},{key:"peek",value:function(){if(this.peekBuffer.length>0)return this.peekBuffer[0];var e=this.iterator.next();return this.peekBuffer.push(e),e}},{key:"lastIndex",get:function(){return this._lastIndex}}])}();function yn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return x().mark((function n(){var r,o;return x().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=t;case 1:if(!(r<e.length)){n.next=10;break}if(void 0!==(o=e.codePointAt(r))){n.next=5;break}throw new Error("Invalid Unicode code point");case 5:return n.next=7,o;case 7:r+=o<=65535?1:2,n.next=1;break;case 10:case"end":return n.stop()}}),n)}))()}function mn(e,t,n,r,o,i,a,s,l,u,c,d,f,h,p,v,g,y,m){I(p,"Font face must be loaded"),I(p.loaded,"Font face must be loaded"),I(p.data,"Font face must be loaded"),I(p.shaper,"Font face must be loaded");for(var x,b=s/p.data.info.size,w=l/b,k=i/b,A=u/b,S=f[e],C=(null==S?void 0:S.codepointIndex)||0,T=(null==S?void 0:S.maxX)||0,_=(null==S?void 0:S.maxY)||0,R=t,B=n,E=0,N={codepointIndex:-1,bufferOffset:-1,xStart:-1},F=p.shaper,L={letterSpacing:A},z=F.shapeText(L,new gn(yn(r,C),C)),M=-1,P=[],O=a/b,U=function(e,t,n){var r,o=0,i=D(n.shapeText(t,new gn(yn(e,0),0)));try{for(i.s();!(r=i.n()).done;){var a=r.value;a.mapped&&(o+=a.xAdvance)}}catch(s){i.e(s)}finally{i.f()}return o}(y,L,F),W=!0;W;){for(var j=(0===m||e+1<m)&&("both"!==d||g||B+w+p.maxCharHeight<=O),Y=j?k:k-U,H=0,Q=B+w>=h.y1,K=B<=h.y2,$=Q&&K;(x=z.next())&&!x.done;){var X=x.value;if(e===f.length)f.push({codepointIndex:X.cluster,maxY:_,maxX:T});else if(e>f.length)throw new Error("Unexpected lineCache length");if(32===X.codepoint||10===X.codepoint?-1!==N.codepointIndex&&(N.codepointIndex=-1,H=R):-1===N.codepointIndex&&(N.codepointIndex=X.cluster,N.bufferOffset=E,N.xStart=H),X.mapped){var G=R+X.xOffset+X.width;if("none"!==d&&G>=Y&&-1!==N.codepointIndex&&N.xStart>0){if(j){z=F.shapeText(L,new gn(yn(r,N.codepointIndex),N.codepointIndex)),E=N.bufferOffset;break}z=F.shapeText(L,new gn(yn(y,0),0)),R=N.xStart,E=N.bufferOffset,d="none"}else{var V=R+X.xOffset,Z=B+X.yOffset;if($){-1===M&&(M=E);var q=p.getAtlasEntry(X.glyphId),J=q.x/p.data.common.scaleW,ee=q.y/p.data.common.scaleH,te=q.width/p.data.common.scaleW,ne=q.height/p.data.common.scaleH;c[E++]=V,c[E++]=Z,c[E++]=J,c[E++]=ee,c[E++]=V+X.width,c[E++]=Z,c[E++]=J+te,c[E++]=ee,c[E++]=V,c[E++]=Z+X.height,c[E++]=J,c[E++]=ee+ne,c[E++]=V+X.width,c[E++]=Z+X.height,c[E++]=J+te,c[E++]=ee+ne}_=Math.max(_,Z+X.height),T=Math.max(T,V+X.width),R+=X.xAdvance}}else if(10===X.codepoint){if(j)break;z=F.shapeText(L,new gn(yn(y,0),0)),d="none"}}-1!==M&&(P.push({bufferStart:M,bufferEnd:E}),M=-1),R=0,B+=w,e++,N.codepointIndex=-1,H=0,!v&&"both"===d&&B>h.y2||x&&x.done?W=!1:j||(W=!1)}if("center"===o)for(var re="none"===d?T:k,oe=0;oe<P.length;oe++)for(var ie=P[oe],ae=(re-(c[ie.bufferEnd-4]-c[ie.bufferStart]))/2,se=ie.bufferStart;se<ie.bufferEnd;se+=4)c[se]+=ae;else if("right"===o)for(var le="none"===d?T:k,ue=0;ue<P.length;ue++)for(var ce=P[ue],de=le-(ce.bufferEnd===ce.bufferStart?0:c[ce.bufferEnd-4]-c[ce.bufferStart]),fe=ce.bufferStart;fe<ce.bufferEnd;fe+=4)c[fe]+=de;return I(x),{bufferNumFloats:E,bufferNumQuads:E/16,layoutNumCharacters:x.done?r.length-C:x.value.cluster-C+1,fullyProcessed:!!x.done,maxX:T,maxY:_}}function xn(e,t,n,r,o,i,a,s){var l,u,c=e.screen,d=e.sdf;if(V(a)){var f=a.x1-t,h=f+(a.x2-a.x1),p=a.y1-n+r,v=(l=p-i,u=o||1,Math.floor(l/u)*u),g=function(e,t){return Math.ceil(e/t)*t}(p+(a.y2-a.y1)+i,o||1);c.x1=f,c.y1=v,c.x2=h,c.y2=g,d.x1=f/s,d.y1=v/s,d.x2=h/s,d.y2=g/s,e.numLines=Math.ceil((g-v)/o),e.firstLineIdx=o?Math.floor(v/o):0}else c.x1=0,c.y1=0,c.x2=0,c.y2=0,d.x1=0,d.y1=0,d.x2=0,d.y2=0,e.numLines=0,e.firstLineIdx=0;e.valid=!0}var bn={normal:400,bold:700,bolder:900,lighter:100},wn=function(e){return"number"==typeof e?e:bn[e]||400};var kn=X((function(e,t,n,r,o){var i,a=wn(n),s=D(e);try{for(s.s();!(i=s.n()).done;){var l=i.value[t];if(l){if(1===l.size)return console.warn(`TrFontManager: Only one font face found for family: '${t}' - will be used for all weights and styles`),l.values().next().value;var u,c=new Map,d=D(l);try{for(d.s();!(u=d.n()).done;){var f=u.value,h=wn(f.descriptors.weight);if(h===a&&f.descriptors.style===r&&f.descriptors.stretch===o)return f;c.set(h,f)}}catch(v){d.e(v)}finally{d.f()}var p=`TrFontManager: No exact match: '${t} Weight: ${a} Style: ${r} Stretch: ${o}'`;if(console.error(p),400===a&&c.has(500))return c.get(500);if(500===a&&c.has(400))return c.get(400);if(a<400){for(;a>0;){if(c.has(a))return c.get(a);a-=100}a=600}for(;a<1e3;){if(c.has(a))return c.get(a);a+=100}for(a=500;a>0;){if(c.has(a))return c.get(a);a-=100}}}}catch(v){s.e(v)}finally{s.f()}})),An=function(){return E((function e(t){N(this,e),M(this,"textRenderers",void 0),this.textRenderers=t}),[{key:"addFontFace",value:function(e){for(var t in this.textRenderers){var n=this.textRenderers[t];n&&n.isFontFaceSupported(e)&&n.addFontFace(e)}}}],[{key:"resolveFontFace",value:function(e,t){var n=t.fontFamily,r=t.fontWeight,o=t.fontStyle,i=t.fontStretch;return kn(e,n,r,o,i)}}])}(),Sn={x:0,y:0,width:0,height:0},Cn=function(e){function t(e){var n;return N(this,t),M(n=A(this,t,[e]),"ssdfFontFamilies",{}),M(n,"msdfFontFamilies",{}),M(n,"fontFamilyArray",[n.ssdfFontFamilies,n.msdfFontFamilies]),M(n,"sdfShader",void 0),M(n,"rendererBounds",void 0),n.sdfShader=n.stage.shManager.loadShader("SdfShader").shader,n.rendererBounds={x1:0,y1:0,x2:n.stage.options.appWidth,y2:n.stage.options.appHeight},n}return R(t,e),E(t,[{key:"getPropertySetters",value:function(){var e=this;return{fontFamily:function(t,n){t.props.fontFamily=n,e.releaseFontFace(t),e.invalidateLayoutCache(t)},fontWeight:function(t,n){t.props.fontWeight=n,e.releaseFontFace(t),e.invalidateLayoutCache(t)},fontStyle:function(t,n){t.props.fontStyle=n,e.releaseFontFace(t),e.invalidateLayoutCache(t)},fontStretch:function(t,n){t.props.fontStretch=n,e.releaseFontFace(t),e.invalidateLayoutCache(t)},fontSize:function(t,n){t.props.fontSize=n,e.invalidateLayoutCache(t)},text:function(t,n){t.props.text=n,e.invalidateLayoutCache(t)},textAlign:function(t,n){t.props.textAlign=n,e.invalidateLayoutCache(t)},color:function(e,t){e.props.color=t},x:function(t,n){t.props.x=n,t.elementBounds.valid&&(e.setElementBoundsX(t),!t.renderWindow.valid&&Z(t.elementBounds,e.rendererBounds)&&e.scheduleUpdateState(t))},y:function(t,n){t.props.y=n,t.elementBounds.valid&&(e.setElementBoundsY(t),!t.renderWindow.valid&&Z(t.elementBounds,e.rendererBounds)&&e.scheduleUpdateState(t))},contain:function(t,n){t.props.contain=n,e.invalidateLayoutCache(t)},width:function(t,n){t.props.width=n,"none"!==t.props.contain&&e.invalidateLayoutCache(t)},height:function(t,n){t.props.height=n,"both"===t.props.contain&&e.invalidateLayoutCache(t)},offsetY:function(t,n){t.props.offsetY=n,e.invalidateLayoutCache(t)},scrollable:function(t,n){t.props.scrollable=n,e.invalidateLayoutCache(t)},scrollY:function(t,n){t.props.scrollY=n,e.scheduleUpdateState(t)},letterSpacing:function(t,n){t.props.letterSpacing=n,e.invalidateLayoutCache(t)},lineHeight:function(t,n){t.props.lineHeight=n,e.invalidateLayoutCache(t)},maxLines:function(t,n){t.props.maxLines=n,e.invalidateLayoutCache(t)},textBaseline:function(t,n){t.props.textBaseline=n,e.invalidateLayoutCache(t)},verticalAlign:function(t,n){t.props.verticalAlign=n,e.invalidateLayoutCache(t)},overflowSuffix:function(t,n){t.props.overflowSuffix=n,e.invalidateLayoutCache(t)},debug:function(e,t){e.props.debug=t}}}},{key:"canRenderFont",value:function(e){var t=e.fontFamily;return t in this.ssdfFontFamilies||t in this.msdfFontFamilies||"$$SDF_FAILURE_TEST$$"===t}},{key:"isFontFaceSupported",value:function(e){return e instanceof q}},{key:"addFontFace",value:function(e){I(e instanceof q);var t=e.fontFamily,n="ssdf"===e.type?this.ssdfFontFamilies:"msdf"===e.type?this.msdfFontFamilies:void 0;if(n){var r=n[t];r||(r=new Set,n[t]=r),r.add(e)}else console.warn(`Invalid font face type: ${e.type}`)}},{key:"createState",value:function(e){return{props:e,status:"initialState",updateScheduled:!1,emitter:new W,lineCache:[],forceFullLayoutCalc:!1,renderWindow:{screen:{x1:0,y1:0,x2:0,y2:0},sdf:{x1:0,y1:0,x2:0,y2:0},firstLineIdx:0,numLines:0,valid:!1},elementBounds:{x1:0,y1:0,x2:0,y2:0,valid:!1},clippingRect:{x:0,y:0,width:0,height:0,valid:!1},bufferNumFloats:0,bufferNumQuads:0,vertexBuffer:void 0,webGlBuffers:null,bufferUploaded:!1,textH:void 0,textW:void 0,distanceRange:0,trFontFace:void 0,isRenderable:!1,debugData:{updateCount:0,layoutCount:0,lastLayoutNumCharacters:0,layoutSum:0,drawSum:0,drawCount:0,bufferSize:0}}}},{key:"updateState",value:function(e){var t=this,n=e.trFontFace,r=e.textH,o=e.lineCache,i=e.debugData,a=e.forceFullLayoutCalc;if(i.updateCount++,"initialState"===e.status&&this.setStatus(e,"loading"),!n){if(n=this.resolveFontFace(e.props),e.trFontFace=n,!n){var s=`SdfTextRenderer: Could not resolve font face for family: '${e.props.fontFamily}'`;return console.error(s),void this.setStatus(e,"failed",new Error(s))}n.texture.setRenderableOwner(e,e.isRenderable)}if(n.loaded){I(n.data,"Font face data should be loaded");var l=e.props,u=l.text,c=l.fontSize,d=l.x,f=l.y,h=l.contain,p=l.width,v=l.height,g=l.lineHeight,y=l.verticalAlign,m=l.scrollable,x=l.overflowSuffix,b=l.maxLines,w="both"===h&&m?e.props.scrollY:0,k=e.renderWindow,A=n.data.info.size,S=c/A,C=g/S;e.distanceRange=S*n.data.distanceField.distanceRange;var T=24*u.length,_=e.vertexBuffer;(!_||_.length<T)&&(_=new Float32Array(2*T));var R=e.elementBounds;if(R.valid||(this.setElementBoundsX(e),this.setElementBoundsY(e),R.valid=!0),!a&&k.valid){var B=k.screen;if(d+B.x1<=R.x1&&d+B.x2>=R.x2&&f-w+B.y1<=R.y1&&f-w+B.y2>=R.y2)return void this.setStatus(e,"loaded");k.valid=!1,this.setStatus(e,"loading")}var E=e.props,N=E.offsetY,F=E.textAlign;if(!k.valid){if(!Z(R,this.rendererBounds))return;xn(k,d,f,w,g,"both"===h?R.y2-R.y1:0,R,S)}var L=function(e,t,n,r,o,i,a,s,l){var u=Math.min(Math.max(a.firstLineIdx,0),s.length),c=0;"middle"===r?c=(t-e)/2:"bottom"===r&&(c=t-e);var d=o/i+u*t+c;if(!(l&&d>=l/i))return{sdfX:0,sdfY:d,lineIndex:u}}(A,C,0,y,N,S,k,o,r);if(L){var z=e.props.letterSpacing,M=mn(L.lineIndex,L.sdfX,L.sdfY,u,F,p,v,c,g,z,_,h,o,k.sdf,n,a,m,x,b);e.bufferUploaded=!1,e.bufferNumFloats=M.bufferNumFloats,e.bufferNumQuads=M.bufferNumQuads,e.vertexBuffer=_,e.renderWindow=k,i.lastLayoutNumCharacters=M.layoutNumCharacters,i.bufferSize=_.byteLength,M.fullyProcessed&&(e.textW=M.maxX*S,e.textH=M.maxY*S),this.setStatus(e,"loaded")}else this.setStatus(e,"loaded")}else n.once("loaded",(function(){t.scheduleUpdateState(e)}))}},{key:"renderQuads",value:function(e,t,n,r,o,i){var a,s;if(e.vertexBuffer){var l=this.stage.renderer,u=e.props,c=u.fontSize,d=u.color,f=u.contain,h=u.scrollable,p=u.zIndex,v=u.debug,g="both"===f&&h?e.props.scrollY:0,y=e.textW,m=void 0===y?0:y,x=e.textH,b=void 0===x?0:x,w=e.distanceRange,k=e.vertexBuffer,A=e.bufferUploaded,S=e.trFontFace,C=e.elementBounds,T=e.webGlBuffers;if(!T){var _=l.glw,R=4*Float32Array.BYTES_PER_ELEMENT,B=_.createBuffer();I(B),e.webGlBuffers=new J([{buffer:B,attributes:{a_position:{name:"a_position",size:2,type:_.FLOAT,normalized:!1,stride:R,offset:0},a_textureCoordinate:{name:"a_textureCoordinate",size:2,type:_.FLOAT,normalized:!1,stride:R,offset:2*Float32Array.BYTES_PER_ELEMENT}}}]),e.bufferUploaded=!1,I(e.webGlBuffers),T=e.webGlBuffers}if(!A){var E,N,F=l.glw,L=null!==(E=null===(N=T)||void 0===N?void 0:N.getBuffer("a_textureCoordinate"))&&void 0!==E?E:null;F.arrayBufferData(L,k,F.STATIC_DRAW),e.bufferUploaded=!0}if(I(S),h&&"both"===f){I(C.valid);var z=ee(C,Sn);n.valid?(e.clippingRect.valid=!0,n=H(n,z,e.clippingRect)):(e.clippingRect.valid=!0,n=te(z,e.clippingRect))}var M=new ne(l.glw,l.options,T,this.sdfShader,{transform:t.data,color:re(d,r),size:c/((null===(a=S.data)||void 0===a?void 0:a.info.size)||0),scrollY:g,distanceRange:w,debug:v.sdfShaderDebug},r,n,{height:b,width:m},0,p,!1,o,i),P=null===(s=e.trFontFace)||void 0===s?void 0:s.texture;I(P);var O=this.stage.txManager.getCtxTexture(P);M.addTexture(O),M.length=e.bufferNumFloats,M.numQuads=e.bufferNumQuads,l.addRenderOp(M)}}},{key:"setIsRenderable",value:function(e,n){var r;k(_(t.prototype),"setIsRenderable",this).call(this,e,n),null===(r=e.trFontFace)||void 0===r||r.texture.setRenderableOwner(e,n)}},{key:"destroyState",value:function(e){var n;k(_(t.prototype),"destroyState",this).call(this,e),null===(n=e.trFontFace)||void 0===n||n.texture.setRenderableOwner(e,!1)}},{key:"resolveFontFace",value:function(e){return An.resolveFontFace(this.fontFamilyArray,e)}},{key:"releaseFontFace",value:function(e){e.trFontFace&&(e.trFontFace.texture.setRenderableOwner(e,!1),e.trFontFace=void 0)}},{key:"invalidateLayoutCache",value:function(e){e.renderWindow.valid=!1,e.elementBounds.valid=!1,e.textH=void 0,e.textW=void 0,e.lineCache=[],this.setStatus(e,"loading"),this.scheduleUpdateState(e)}},{key:"setElementBoundsX",value:function(e){var t=e.props,n=t.x,r=t.contain,o=t.width,i=e.elementBounds;i.x1=n,i.x2="none"!==r?n+o:1/0}},{key:"setElementBoundsY",value:function(e){var t=e.props,n=t.y,r=t.contain,o=t.height,i=e.elementBounds;i.y1=n,i.y2="both"===r?n+o:1/0}}])}(Lt);function Tn(e,t){return _n.apply(this,arguments)}function _n(){return(_n=w(x().mark((function e(t,n){var r,o,i;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Loading core extension",t),e.next=4,Et((function(){return T.import(t)}),void 0);case 4:r=e.sent,e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(0),console.error(`The core extension module at '${t}' could not be loaded.`),console.error(e.t0),e.abrupt("return");case 12:if(r.default){e.next=15;break}return console.error(`The core extension module at '${t}' does not have a default export.`),e.abrupt("return");case 15:if(o=r.default,!(o.prototype instanceof oe)){e.next=29;break}return i=new o,e.prev=18,e.next=21,i.run(n);case 21:e.next=27;break;case 23:e.prev=23,e.t1=e.catch(18),console.error(`The core extension at '${t}' threw an error.`),console.error(e.t1);case 27:e.next=30;break;case 29:console.error(`The core extension at '${t}' does not extend CoreExtension.`);case 30:case"end":return e.stop()}}),e,null,[[0,7],[18,23]])})))).apply(this,arguments)}function Rn(e){for(var t={boolean:!0,string:!0,number:!0},n=Object.keys(e),r=0;r<n.length;r++){var o=n[r];if(o){var i=e[o],a=typeof i;"string"===a&&i.length>2048&&(console.warn(`Custom Data value for ${o} is too long, it will be truncated to 2048 characters`),e[o]=i.substring(0,2048)),t[a]||(console.warn(`Custom Data value for ${o} is not a boolean, string, or number, it will be ignored`),delete e[o])}}return e}var In,Bn=function(e){function t(e,n,r){var o,i,a,s,l;N(this,t),M(l=A(this,t),"root",null),M(l,"driver",void 0),M(l,"canvas",void 0),M(l,"settings",void 0),M(l,"inspector",null),M(l,"nodes",new Map),M(l,"nextTextureId",1),M(l,"textureTracker",void 0);var u={appWidth:e.appWidth||1920,appHeight:e.appHeight||1080,txMemByteThreshold:e.txMemByteThreshold||124e6,boundsMargin:e.boundsMargin||0,deviceLogicalPixelRatio:e.deviceLogicalPixelRatio||1,devicePhysicalPixelRatio:e.devicePhysicalPixelRatio||window.devicePixelRatio,clearColor:null!==(o=e.clearColor)&&void 0!==o?o:0,coreExtensionModule:e.coreExtensionModule||null,experimental_FinalizationRegistryTextureUsageTracker:null!==(i=e.experimental_FinalizationRegistryTextureUsageTracker)&&void 0!==i&&i,textureCleanupOptions:e.textureCleanupOptions||{},fpsUpdateInterval:e.fpsUpdateInterval||0,numImageWorkers:void 0!==e.numImageWorkers?e.numImageWorkers:2,enableContextSpy:null!==(a=e.enableContextSpy)&&void 0!==a&&a,enableInspector:null!==(s=e.enableInspector)&&void 0!==s&&s};l.settings=u;var c=u.appWidth,d=u.appHeight,f=u.deviceLogicalPixelRatio,h=u.devicePhysicalPixelRatio,p=u.enableInspector,v=function(e){l.driver.releaseTexture(e)},g=u.experimental_FinalizationRegistryTextureUsageTracker&&"function"==typeof FinalizationRegistry;l.textureTracker=g?new Tt(v):new Ct(v,l.settings.textureCleanupOptions);var y=c*f,m=d*f;l.driver=r;var x,b=document.createElement("canvas");if(l.canvas=b,b.width=y*h,b.height=m*h,b.style.width=`${y}px`,b.style.height=`${m}px`,!(x="string"==typeof n?document.getElementById(n):n))throw new Error("Could not find target element");return r.onCreateNode=function(e){l.nodes.set(e.id,e)},r.onBeforeDestroyNode=function(e){l.nodes.delete(e.id)},r.onFpsUpdate=function(e){l.emit("fpsUpdate",e)},r.onFrameTick=function(e){l.emit("frameTick",e)},r.onIdle=function(){l.emit("idle")},x.appendChild(b),p&&!B()&&(l.inspector=new Bt(b,u)),l}return R(t,e),E(t,[{key:"init",value:(n=w(x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.driver.init(this,this.settings,this.canvas);case 2:this.root=this.driver.getRootNode();case 3:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"createNode",value:function(e){return this.inspector?this.inspector.createNode(this.driver,this.resolveNodeDefaults(e)):this.driver.createNode(this.resolveNodeDefaults(e))}},{key:"createTextNode",value:function(e){var t,n,r,o,i,a,s,l,u,c,d,f,h,p,v,g,y,m,x,b=null!==(t=e.fontSize)&&void 0!==t?t:16,w=z(z({},this.resolveNodeDefaults(e)),{},{text:null!==(n=e.text)&&void 0!==n?n:"",textRendererOverride:null!==(r=e.textRendererOverride)&&void 0!==r?r:null,fontSize:b,fontFamily:null!==(o=e.fontFamily)&&void 0!==o?o:"sans-serif",fontStyle:null!==(i=e.fontStyle)&&void 0!==i?i:"normal",fontWeight:null!==(a=e.fontWeight)&&void 0!==a?a:"normal",fontStretch:null!==(s=e.fontStretch)&&void 0!==s?s:"normal",textAlign:null!==(l=e.textAlign)&&void 0!==l?l:"left",contain:null!==(u=e.contain)&&void 0!==u?u:"none",scrollable:null!==(c=e.scrollable)&&void 0!==c&&c,scrollY:null!==(d=e.scrollY)&&void 0!==d?d:0,offsetY:null!==(f=e.offsetY)&&void 0!==f?f:0,letterSpacing:null!==(h=e.letterSpacing)&&void 0!==h?h:0,lineHeight:null!==(p=e.lineHeight)&&void 0!==p?p:b,maxLines:null!==(v=e.maxLines)&&void 0!==v?v:0,textBaseline:null!==(g=e.textBaseline)&&void 0!==g?g:"alphabetic",verticalAlign:null!==(y=e.verticalAlign)&&void 0!==y?y:"top",overflowSuffix:null!==(m=e.overflowSuffix)&&void 0!==m?m:"...",debug:null!==(x=e.debug)&&void 0!==x?x:{}});return this.inspector?this.inspector.createTextNode(this.driver,w):this.driver.createTextNode(w)}},{key:"resolveNodeDefaults",value:function(e){var t,n,r,o,i,a,s,l,u,c,d,f,h,p,v,g,y,m,x,b,w,k,A,S,C,T,_,R,I,B,E,N,F,L,z,M,P,O,D,U,W,j,Y,H,Q,K,$,X,G,V,Z,q,J=null!==(t=e.color)&&void 0!==t?t:4294967295,ee=null!==(n=null!==(r=null!==(o=e.colorTl)&&void 0!==o?o:e.colorTop)&&void 0!==r?r:e.colorLeft)&&void 0!==n?n:J,te=null!==(i=null!==(a=null!==(s=e.colorTr)&&void 0!==s?s:e.colorTop)&&void 0!==a?a:e.colorRight)&&void 0!==i?i:J,ne=null!==(l=null!==(u=null!==(c=e.colorBl)&&void 0!==c?c:e.colorBottom)&&void 0!==u?u:e.colorLeft)&&void 0!==l?l:J,re=null!==(d=null!==(f=null!==(h=e.colorBr)&&void 0!==h?h:e.colorBottom)&&void 0!==f?f:e.colorRight)&&void 0!==d?d:J,oe=Rn(null!==(p=e.data)&&void 0!==p?p:{}),ie=null!==(v=null!==(g=null===(y=e.parent)||void 0===y?void 0:y.rtt)&&void 0!==g?g:null===(m=e.parent)||void 0===m?void 0:m.parentHasRenderTexture)&&void 0!==v&&v;return{x:null!==(x=e.x)&&void 0!==x?x:0,y:null!==(b=e.y)&&void 0!==b?b:0,width:null!==(w=e.width)&&void 0!==w?w:0,height:null!==(k=e.height)&&void 0!==k?k:0,alpha:null!==(A=e.alpha)&&void 0!==A?A:1,autosize:null!==(S=e.autosize)&&void 0!==S&&S,clipping:null!==(C=e.clipping)&&void 0!==C&&C,color:J,colorTop:null!==(T=e.colorTop)&&void 0!==T?T:J,colorBottom:null!==(_=e.colorBottom)&&void 0!==_?_:J,colorLeft:null!==(R=e.colorLeft)&&void 0!==R?R:J,colorRight:null!==(I=e.colorRight)&&void 0!==I?I:J,colorBl:ne,colorBr:re,colorTl:ee,colorTr:te,zIndex:null!==(B=e.zIndex)&&void 0!==B?B:0,zIndexLocked:null!==(E=e.zIndexLocked)&&void 0!==E?E:0,parent:null!==(N=e.parent)&&void 0!==N?N:null,texture:null!==(F=e.texture)&&void 0!==F?F:null,shader:null!==(L=e.shader)&&void 0!==L?L:null,src:null!==(z=e.src)&&void 0!==z?z:"",scale:null!==(M=e.scale)&&void 0!==M?M:null,scaleX:null!==(P=null!==(O=e.scaleX)&&void 0!==O?O:e.scale)&&void 0!==P?P:1,scaleY:null!==(D=null!==(U=e.scaleY)&&void 0!==U?U:e.scale)&&void 0!==D?D:1,mount:null!==(W=e.mount)&&void 0!==W?W:0,mountX:null!==(j=null!==(Y=e.mountX)&&void 0!==Y?Y:e.mount)&&void 0!==j?j:0,mountY:null!==(H=null!==(Q=e.mountY)&&void 0!==Q?Q:e.mount)&&void 0!==H?H:0,pivot:null!==(K=e.pivot)&&void 0!==K?K:.5,pivotX:null!==($=null!==(X=e.pivotX)&&void 0!==X?X:e.pivot)&&void 0!==$?$:.5,pivotY:null!==(G=null!==(V=e.pivotY)&&void 0!==V?V:e.pivot)&&void 0!==G?G:.5,rotation:null!==(Z=e.rotation)&&void 0!==Z?Z:0,rtt:null!==(q=e.rtt)&&void 0!==q&&q,parentHasRenderTexture:ie,data:oe}}},{key:"destroyNode",value:function(e){return this.inspector&&this.inspector.destroyNode(e),this.driver.destroyNode(e)}},{key:"createTexture",value:function(e,t,n){var r=this.nextTextureId++,o={descType:"texture",txType:e,props:t,options:z(z({},n),{},{id:r})};return this.textureTracker.registerTexture(o),o}},{key:"createShader",value:function(e,t){return{descType:"shader",shType:e,props:t}}},{key:"getNodeById",value:function(e){return this.nodes.get(e)||null}},{key:"toggleFreeze",value:function(){throw new Error("Not implemented")}},{key:"advanceFrame",value:function(){throw new Error("Not implemented")}},{key:"rerender",value:function(){throw new Error("Not implemented")}}]);var n}(W),En=function(e){function t(e,n,r){var o;return N(this,t),M(o=A(this,t),"node",void 0),M(o,"props",void 0),M(o,"settings",void 0),M(o,"propStartValues",{}),M(o,"restoreValues",{}),M(o,"progress",0),M(o,"delayFor",0),M(o,"timingFunction",void 0),M(o,"propsList",void 0),o.node=e,o.props=n,o.settings=r,o.propStartValues={},o.propsList=Object.keys(n),o.propsList.forEach((function(t){o.propStartValues[t]=e[t]})),o.timingFunction=function(e){return e},r.easing&&"string"==typeof r.easing&&(o.timingFunction=ie(r.easing)),o.delayFor=r.delay||0,o}return R(t,e),E(t,[{key:"reset",value:function(){this.progress=0,this.delayFor=this.settings.delay||0,this.update(0)}},{key:"restore",value:function(){var e=this;this.reset(),Object.keys(this.props).forEach((function(t){e.node[t]=e.propStartValues[t]}))}},{key:"reverse",value:function(){var e=this;this.progress=0,Object.keys(this.props).forEach((function(t){var n=e.props[t],r=e.propStartValues[t];e.props[t]=r,e.propStartValues[t]=n})),this.settings.loop||(this.settings.stopMethod=!1)}},{key:"applyEasing",value:function(e,t,n){return(this.timingFunction(e)||e)*(n-t)+t}},{key:"update",value:function(e){var t=this.settings,n=t.duration,r=t.loop,o=t.easing,i=t.stopMethod;if(n)if(this.delayFor>0)this.delayFor-=e;else if(this.delayFor<=0&&0===this.progress&&this.emit("start",{}),this.progress+=e/n,this.progress>1&&(this.progress=r?0:1,i))this.emit("finished",{});else{for(var a=0;a<this.propsList.length;a++){var s=this.propsList[a],l=this.props[s],u=this.propStartValues[s],c=l;if(-1===s.indexOf("color"))this.node[s]=o?this.applyEasing(this.progress,u,c):u+(c-u)*this.progress;else{if(u===c){this.node[s]=u;continue}if(o){var d=this.timingFunction(this.progress)||this.progress,f=ae(u,c,d);this.node[s]=f;continue}this.node[s]=ae(u,c,this.progress)}}1===this.progress&&this.emit("finished",{})}else this.emit("finished",{})}}])}(W),Nn=function(){return E((function e(t,n){N(this,e),M(this,"manager",void 0),M(this,"animation",void 0),M(this,"startedPromise",null),M(this,"startedResolve",null),M(this,"stoppedPromise",null),M(this,"stoppedResolve",null),M(this,"state",void 0),this.manager=t,this.animation=n,this.state="stopped"}),[{key:"start",value:function(){return this.makeStartedPromise(),this.animation.once("start",this.started.bind(this)),this.makeStoppedPromise(),this.animation.once("finished",this.finished.bind(this)),this.manager.activeAnimations.has(this.animation)||this.manager.registerAnimation(this.animation),this.state="running",this}},{key:"stop",value:function(){return this.manager.unregisterAnimation(this.animation),null!==this.stoppedResolve&&(this.stoppedResolve(),this.stoppedResolve=null),this.animation.reset(),this.state="stopped",this}},{key:"pause",value:function(){return this.manager.unregisterAnimation(this.animation),this.state="paused",this}},{key:"restore",value:function(){return this.stoppedResolve=null,this.animation.restore(),this}},{key:"waitUntilStarted",value:function(){this.makeStartedPromise();var e=this.startedPromise;return I(e),e}},{key:"waitUntilStopped",value:function(){this.makeStoppedPromise();var e=this.stoppedPromise;return I(e),e}},{key:"makeStartedPromise",value:function(){var e=this;null===this.startedResolve&&(this.startedPromise=new Promise((function(t){e.startedResolve=t})))}},{key:"makeStoppedPromise",value:function(){var e=this;null===this.stoppedResolve&&(this.stoppedPromise=new Promise((function(t){e.stoppedResolve=t})))}},{key:"started",value:function(){I(this.startedResolve),this.startedResolve(this),this.startedResolve=null}},{key:"finished",value:function(){I(this.stoppedResolve);var e=this.animation.settings,t=e.loop;if("reverse"===e.stopMethod)return this.animation.reverse(),void this.start();this.stoppedResolve(),this.stoppedResolve=null,t||this.manager.unregisterAnimation(this.animation)}}])}(),Fn=function(){function e(t){N(this,e),M(this,"data",void 0),t?(this.data=new Float32Array(9),this.data[0]=t[0],this.data[3]=t[3],this.data[6]=t[6],this.data[1]=t[1],this.data[4]=t[4],this.data[7]=t[7],this.data[2]=t[2],this.data[5]=t[5],this.data[8]=t[8]):this.data=new Float32Array(9)}return E(e,[{key:"translate",value:function(e,t){return this.data[6]=this.data[0]*e+this.data[3]*t+this.data[6],this.data[7]=this.data[1]*e+this.data[4]*t+this.data[7],this}},{key:"scale",value:function(e,t){return this.data[0]=this.data[0]*e,this.data[3]=this.data[3]*t,this.data[1]=this.data[1]*e,this.data[4]=this.data[4]*t,this}},{key:"rotate",value:function(e){if(0===e||!(e%Math.PI*2))return this;var t=Math.cos(e),n=Math.sin(e),r=this.data[0]*t+this.data[3]*n,o=this.data[3]*t-this.data[0]*n,i=this.data[1]*t+this.data[4]*n,a=this.data[4]*t-this.data[1]*n;return this.data[0]=r,this.data[3]=o,this.data[1]=i,this.data[4]=a,this}},{key:"multiply",value:function(t){return e.multiply(this,t,this)}},{key:"tx",get:function(){return this.data[6]}},{key:"ty",get:function(){return this.data[7]}},{key:"ta",get:function(){return this.data[0]}},{key:"tb",get:function(){return this.data[3]}},{key:"tc",get:function(){return this.data[1]}},{key:"td",get:function(){return this.data[4]}},{key:"transformPoint",value:function(e,t){return[this.data[0]*e+this.data[3]*t+this.data[6],this.data[1]*e+this.data[4]*t+this.data[1]]}}],[{key:"temp",get:function(){return Ln}},{key:"multiply",value:function(t,n,r){var o=t.data[0]*n.data[0]+t.data[3]*n.data[1]+t.data[6]*n.data[2],i=t.data[0]*n.data[3]+t.data[3]*n.data[4]+t.data[6]*n.data[5],a=t.data[0]*n.data[6]+t.data[3]*n.data[7]+t.data[6]*n.data[8],s=t.data[1]*n.data[0]+t.data[4]*n.data[1]+t.data[7]*n.data[2],l=t.data[1]*n.data[3]+t.data[4]*n.data[4]+t.data[7]*n.data[5],u=t.data[1]*n.data[6]+t.data[4]*n.data[7]+t.data[7]*n.data[8],c=t.data[2]*n.data[0]+t.data[5]*n.data[1]+t.data[8]*n.data[2],d=t.data[2]*n.data[3]+t.data[5]*n.data[4]+t.data[8]*n.data[5],f=t.data[2]*n.data[6]+t.data[5]*n.data[7]+t.data[8]*n.data[8];return r||(r=new e),r.data[0]=o,r.data[3]=i,r.data[6]=a,r.data[1]=s,r.data[4]=l,r.data[7]=u,r.data[2]=c,r.data[5]=d,r.data[8]=f,r}},{key:"identity",value:function(t){return t||(t=new e),t.data[0]=1,t.data[3]=0,t.data[6]=0,t.data[1]=0,t.data[4]=1,t.data[7]=0,t.data[2]=0,t.data[5]=0,t.data[8]=1,t}},{key:"translate",value:function(t,n,r){return r||(r=new e),r.data[0]=1,r.data[3]=0,r.data[6]=t,r.data[1]=0,r.data[4]=1,r.data[7]=n,r.data[2]=0,r.data[5]=0,r.data[8]=1,r}},{key:"scale",value:function(t,n,r){return r||(r=new e),r.data[0]=t,r.data[3]=0,r.data[6]=0,r.data[1]=0,r.data[4]=n,r.data[7]=0,r.data[2]=0,r.data[5]=0,r.data[8]=1,r}},{key:"rotate",value:function(t,n){var r=Math.cos(t),o=Math.sin(t);return n||(n=new e),n.data[0]=r,n.data[3]=-o,n.data[6]=0,n.data[1]=o,n.data[4]=r,n.data[7]=0,n.data[2]=0,n.data[5]=0,n.data[8]=1,n}},{key:"copy",value:function(t,n,r){return n||(n=new e),n.data[0]=t.data[0],n.data[1]=t.data[1],n.data[2]=t.data[2],n.data[3]=t.data[3],n.data[4]=t.data[4],n.data[5]=t.data[5],n.data[6]=t.data[6],n.data[7]=t.data[7],n.data[8]=t.data[8],n}}])}(),Ln=new Fn,zn=function(){function e(t){N(this,e),M(this,"data",void 0),this.data=new Float32Array(8),t&&(this.data[0]=t[0],this.data[2]=t[2],this.data[4]=t[4],this.data[6]=t[6],this.data[1]=t[1],this.data[3]=t[3],this.data[5]=t[5],this.data[7]=t[7])}return E(e,[{key:"x1",get:function(){return this.data[0]}},{key:"x2",get:function(){return this.data[2]}},{key:"x3",get:function(){return this.data[4]}},{key:"x4",get:function(){return this.data[6]}},{key:"y1",get:function(){return this.data[1]}},{key:"y2",get:function(){return this.data[3]}},{key:"y3",get:function(){return this.data[5]}},{key:"y4",get:function(){return this.data[7]}}],[{key:"translate",value:function(t,n,r,o,i,a,s,l,u){return u||(u=new e),u.data[0]=t,u.data[2]=r,u.data[4]=i,u.data[6]=s,u.data[1]=n,u.data[3]=o,u.data[5]=a,u.data[7]=l,u}}])}();!function(e){e[e.Init=0]="Init",e[e.OutOfBounds=2]="OutOfBounds",e[e.InBounds=4]="InBounds",e[e.InViewport=8]="InViewport"}(In||(In={}));var Mn,Pn=new Map;Pn.set(In.Init,"init"),Pn.set(In.OutOfBounds,"outOfBounds"),Pn.set(In.InBounds,"inBounds"),Pn.set(In.InViewport,"inViewport"),function(e){e[e.Children=1]="Children",e[e.ScaleRotate=2]="ScaleRotate",e[e.Local=4]="Local",e[e.Global=8]="Global",e[e.Clipping=16]="Clipping",e[e.CalculatedZIndex=32]="CalculatedZIndex",e[e.ZIndexSortedChildren=64]="ZIndexSortedChildren",e[e.PremultipliedColors=128]="PremultipliedColors",e[e.WorldAlpha=256]="WorldAlpha",e[e.RenderState=512]="RenderState",e[e.IsRenderable=1024]="IsRenderable",e[e.None=0]="None",e[e.All=2047]="All"}(Mn||(Mn={}));var On=function(e){function t(e,n){var r;return N(this,t),M(r=A(this,t),"stage",void 0),M(r,"children",[]),M(r,"props",void 0),M(r,"updateType",Mn.All),M(r,"globalTransform",void 0),M(r,"scaleRotateTransform",void 0),M(r,"localTransform",void 0),M(r,"renderCoords",void 0),M(r,"renderBound",void 0),M(r,"strictBound",void 0),M(r,"preloadBound",void 0),M(r,"clippingRect",{x:0,y:0,width:0,height:0,valid:!1}),M(r,"isRenderable",!1),M(r,"renderState",In.Init),M(r,"worldAlpha",1),M(r,"premultipliedColorTl",0),M(r,"premultipliedColorTr",0),M(r,"premultipliedColorBl",0),M(r,"premultipliedColorBr",0),M(r,"calcZIndex",0),M(r,"hasRTTupdates",!1),M(r,"onTextureLoaded",(function(e,t){r.autosizeNode(t),r.parentHasRenderTexture&&r.setRTTUpdates(1),r.emit("loaded",{type:"texture",dimensions:t}),queueMicrotask((function(){r.stage.requestRender()}))})),M(r,"onTextureFailed",(function(e,t){r.emit("failed",{type:"texture",error:t})})),M(r,"onTextureFreed",(function(e){r.emit("freed",{type:"texture"})})),r.stage=e,r.props=z(z({},n),{},{parent:null,parentHasRenderTexture:!1}),r.parent=n.parent,r.rtt=n.rtt,r.updateScaleRotateTransform(),r}return R(t,e),E(t,[{key:"loadTexture",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.props.texture&&this.unloadTexture();var o=this.stage.txManager.loadTexture(e,t,r);this.props.texture=o,this.props.textureOptions=r,this.setUpdateType(Mn.IsRenderable),queueMicrotask((function(){"loaded"===o.state?n.onTextureLoaded(o,o.dimensions):"failed"===o.state?n.onTextureFailed(o,o.error):"freed"===o.state&&n.onTextureFreed(o),o.on("loaded",n.onTextureLoaded),o.on("failed",n.onTextureFailed),o.on("freed",n.onTextureFreed)}))}},{key:"unloadTexture",value:function(){if(this.props.texture){var e=this.props.texture;e.off("loaded",this.onTextureLoaded),e.off("failed",this.onTextureFailed),e.off("freed",this.onTextureFreed),e.setRenderableOwner(this,!1)}this.props.texture=null,this.props.textureOptions=null,this.setUpdateType(Mn.IsRenderable)}},{key:"autosizeNode",value:function(e){this.autosize&&(this.width=e.width,this.height=e.height)}},{key:"loadShader",value:function(e,t){var n=this.stage.renderer.getShaderManager();I(n);var r=n.loadShader(e,t),o=r.shader,i=r.props;this.props.shader=o,this.props.shaderProps=i,this.setUpdateType(Mn.IsRenderable)}},{key:"setUpdateType",value:function(e){this.updateType|=e;var t=this.props.parent;!t||t.updateType&Mn.Children||t.setUpdateType(Mn.Children),this.parentHasRenderTexture&&this.setRTTUpdates(e)}},{key:"sortChildren",value:function(){this.children.sort((function(e,t){return e.calcZIndex-t.calcZIndex}))}},{key:"updateScaleRotateTransform",value:function(){this.scaleRotateTransform=Fn.rotate(this.props.rotation,this.scaleRotateTransform).scale(this.props.scaleX,this.props.scaleY)}},{key:"updateLocalTransform",value:function(){I(this.scaleRotateTransform);var e=this.props.pivotX*this.props.width,t=this.props.pivotY*this.props.height,n=this.props.mountX*this.props.width,r=this.props.mountY*this.props.height;this.localTransform=Fn.translate(e-n+this.props.x,t-r+this.props.y,this.localTransform).multiply(this.scaleRotateTransform).translate(-e,-t),this.setUpdateType(Mn.Global)}},{key:"update",value:function(e,t){var n=this;this.updateType&Mn.ScaleRotate&&(this.updateScaleRotateTransform(),this.setUpdateType(Mn.Local)),this.updateType&Mn.Local&&(this.updateLocalTransform(),this.setUpdateType(Mn.Global));var r,o=this.props.parent,i=Mn.None;this.updateType&Mn.Global&&(I(this.localTransform),this.globalTransform=Fn.copy((null==o?void 0:o.globalTransform)||this.localTransform,this.globalTransform),this.parentHasRenderTexture&&null!==(r=this.props.parent)&&void 0!==r&&r.rtt&&(this.globalTransform=Fn.identity()),o&&this.globalTransform.multiply(this.localTransform),this.calculateRenderCoords(),this.updateBoundingRect(),this.setUpdateType(Mn.Clipping|Mn.RenderState|Mn.Children),i|=Mn.Global);this.updateType&Mn.Clipping&&(this.calculateClippingRect(t),this.setUpdateType(Mn.Children),i|=Mn.Clipping),this.updateType&Mn.WorldAlpha&&(this.worldAlpha=o?o.worldAlpha*this.props.alpha:this.props.alpha,this.setUpdateType(Mn.Children|Mn.PremultipliedColors|Mn.IsRenderable),i|=Mn.WorldAlpha),this.updateType&Mn.PremultipliedColors&&(this.premultipliedColorTl=K(this.props.colorTl,this.worldAlpha,!0),this.props.colorTl===this.props.colorTr&&this.props.colorBl===this.props.colorBr&&this.props.colorTl===this.props.colorBl?this.premultipliedColorTr=this.premultipliedColorBl=this.premultipliedColorBr=this.premultipliedColorTl:(this.premultipliedColorTr=K(this.props.colorTr,this.worldAlpha,!0),this.premultipliedColorBl=K(this.props.colorBl,this.worldAlpha,!0),this.premultipliedColorBr=K(this.props.colorBr,this.worldAlpha,!0))),this.updateType&Mn.RenderState&&(this.updateRenderState(t),this.setUpdateType(Mn.IsRenderable)),this.updateType&Mn.IsRenderable&&this.updateIsRenderable(),o&&this.updateType&Mn.CalculatedZIndex&&(this.calculateZIndex(),o.setUpdateType(Mn.ZIndexSortedChildren)),this.updateType&Mn.Children&&this.children.length&&!this.rtt&&this.children.forEach((function(t){t.setUpdateType(i),0!==t.updateType&&t.update(e,n.clippingRect)})),this.updateType&Mn.ZIndexSortedChildren&&this.sortChildren(),this.updateType=0}},{key:"checkRenderProps",value:function(){return!!this.props.texture||!(!this.props.width||!this.props.height)&&(!!this.props.shader||(!!this.props.clipping||(0!==this.props.color||(0!==this.props.colorTop||(0!==this.props.colorBottom||(0!==this.props.colorLeft||(0!==this.props.colorRight||(0!==this.props.colorTl||(0!==this.props.colorTr||(0!==this.props.colorBl||0!==this.props.colorBr))))))))))}},{key:"checkRenderBounds",value:function(e){I(this.renderBound);var t=e.width||this.stage.root.width,n=e.height||this.stage.root.height;this.strictBound=U(e.x,e.y,e.x+t,e.y+n,this.strictBound);var r=this.stage.boundsMargin;return this.preloadBound=U(e.x-r[3],e.y-r[0],e.x+t+r[1],e.y+n+r[2],this.preloadBound),se(this.renderBound,this.strictBound)?In.InViewport:se(this.renderBound,this.preloadBound)?In.InBounds:In.OutOfBounds}},{key:"updateRenderState",value:function(e){var t=this.checkRenderBounds(e);if(t!==this.renderState){var n=this.renderState;this.renderState=t,n===In.InViewport&&this.emit("outOfViewport",{previous:n,current:t}),(n<In.InBounds&&t===In.InViewport||n>In.InBounds&&t===In.OutOfBounds)&&(this.emit(Pn.get(In.InBounds),{previous:n,current:t}),n=In.InBounds);var r=Pn.get(t);I(r),this.emit(r,{previous:n,current:t})}}},{key:"setRenderState",value:function(e){e!==this.renderState&&(this.renderState=e,this.emit(In[e]))}},{key:"updateIsRenderable",value:function(){var e;e=!(0===this.worldAlpha||!this.checkRenderProps())&&this.renderState>In.OutOfBounds,this.isRenderable!==e&&(this.isRenderable=e,this.onChangeIsRenderable(e))}},{key:"onChangeIsRenderable",value:function(e){var t;null===(t=this.props.texture)||void 0===t||t.setRenderableOwner(this,e)}},{key:"calculateRenderCoords",value:function(){var e=this.width,t=this.height,n=this.globalTransform;I(n);var r=n.tx,o=n.ty,i=n.ta,a=n.tb,s=n.tc,l=n.td;if(0===a&&0===s){var u=r,c=r+e*i,d=o,f=o+t*l;this.renderCoords=zn.translate(u,d,c,d,c,f,u,f,this.renderCoords)}else this.renderCoords=zn.translate(r,o,r+e*i,o+e*s,r+e*i+t*a,o+e*s+t*l,r+t*a,o+t*l,this.renderCoords)}},{key:"updateBoundingRect",value:function(){var e=this.renderCoords,t=this.globalTransform;I(t),I(e);var n=t.tb,r=t.tc,o=e.x1,i=e.y1,a=e.x3,s=e.y3;if(0===n||0===r)this.renderBound=U(o,i,a,s,this.renderBound);else{var l=e.x2,u=e.x4,c=e.y2,d=e.y4;this.renderBound=U(Math.min(o,l,a,u),Math.min(i,c,s,d),Math.max(o,l,a,u),Math.max(i,c,s,d),this.renderBound)}}},{key:"calculateClippingRect",value:function(e){I(this.globalTransform);var t=this.clippingRect,n=this.props,r=this.globalTransform,o=n.clipping,i=0!==r.tb||0!==r.tc;o&&!i?(t.x=r.tx,t.y=r.ty,t.width=this.width*r.ta,t.height=this.height*r.td,t.valid=!0):t.valid=!1,e.valid&&t.valid?H(e,t,t):e.valid&&(te(e,t),t.valid=!0)}},{key:"calculateZIndex",value:function(){var e,t,n=this.props,r=n.zIndex||0,o=(null===(e=n.parent)||void 0===e?void 0:e.zIndex)||0,i=r;null!==(t=n.parent)&&void 0!==t&&t.zIndexLocked&&(i=r<o?r:o),this.calcZIndex=i}},{key:"destroy",value:function(){this.unloadTexture(),this.clippingRect.valid=!1,this.isRenderable=!1,delete this.renderCoords,delete this.renderBound,delete this.strictBound,delete this.preloadBound,delete this.globalTransform,delete this.scaleRotateTransform,delete this.localTransform,this.props.texture=null,this.props.shader=null,this.removeAllListeners(),this.parent=null}},{key:"renderQuads",value:function(e){var t=this.props,n=t.width,r=t.height,o=t.texture,i=t.textureOptions,a=t.shader,s=t.shaderProps,l=t.rtt,u=t.parentHasRenderTexture;if(u){if(!e.renderToTextureActive)return;if(this.parentRenderTexture!==e.activeRttNode)return}var c=this.premultipliedColorTl,d=this.premultipliedColorTr,f=this.premultipliedColorBl,h=this.premultipliedColorBr,p=this.zIndex,v=this.worldAlpha,g=this.globalTransform,y=this.clippingRect;I(g),e.addQuad({width:n,height:r,colorTl:c,colorTr:d,colorBl:f,colorBr:h,texture:o,textureOptions:i,zIndex:p,shader:a,shaderProps:s,alpha:v,clippingRect:y,tx:g.tx,ty:g.ty,ta:g.ta,tb:g.tb,tc:g.tc,td:g.td,rtt:l,parentHasRenderTexture:u,framebufferDimensions:this.framebufferDimensions})}},{key:"id",get:function(){return this.props.id}},{key:"x",get:function(){return this.props.x},set:function(e){this.props.x!==e&&(this.props.x=e,this.setUpdateType(Mn.Local))}},{key:"absX",get:function(){var e,t;return this.props.x+((null===(e=this.props.parent)||void 0===e?void 0:e.absX)||(null===(t=this.props.parent)||void 0===t||null===(t=t.globalTransform)||void 0===t?void 0:t.tx)||0)}},{key:"absY",get:function(){var e,t;return this.props.y+(null!==(e=null===(t=this.props.parent)||void 0===t?void 0:t.absY)&&void 0!==e?e:0)}},{key:"y",get:function(){return this.props.y},set:function(e){this.props.y!==e&&(this.props.y=e,this.setUpdateType(Mn.Local))}},{key:"width",get:function(){return this.props.width},set:function(e){this.props.width!==e&&(this.props.width=e,this.setUpdateType(Mn.Local))}},{key:"height",get:function(){return this.props.height},set:function(e){this.props.height!==e&&(this.props.height=e,this.setUpdateType(Mn.Local))}},{key:"scale",get:function(){return this.scaleX},set:function(e){this.scaleX=e,this.scaleY=e}},{key:"scaleX",get:function(){return this.props.scaleX},set:function(e){this.props.scaleX!==e&&(this.props.scaleX=e,this.setUpdateType(Mn.ScaleRotate))}},{key:"scaleY",get:function(){return this.props.scaleY},set:function(e){this.props.scaleY!==e&&(this.props.scaleY=e,this.setUpdateType(Mn.ScaleRotate))}},{key:"mount",get:function(){return this.props.mount},set:function(e){this.props.mountX===e&&this.props.mountY===e||(this.props.mountX=e,this.props.mountY=e,this.props.mount=e,this.setUpdateType(Mn.Local))}},{key:"mountX",get:function(){return this.props.mountX},set:function(e){this.props.mountX!==e&&(this.props.mountX=e,this.setUpdateType(Mn.Local))}},{key:"mountY",get:function(){return this.props.mountY},set:function(e){this.props.mountY!==e&&(this.props.mountY=e,this.setUpdateType(Mn.Local))}},{key:"pivot",get:function(){return this.props.pivot},set:function(e){this.props.pivotX===e&&this.props.pivotY===e||(this.props.pivotX=e,this.props.pivotY=e,this.props.pivot=e,this.setUpdateType(Mn.Local))}},{key:"pivotX",get:function(){return this.props.pivotX},set:function(e){this.props.pivotX!==e&&(this.props.pivotX=e,this.setUpdateType(Mn.Local))}},{key:"pivotY",get:function(){return this.props.pivotY},set:function(e){this.props.pivotY!==e&&(this.props.pivotY=e,this.setUpdateType(Mn.Local))}},{key:"rotation",get:function(){return this.props.rotation},set:function(e){this.props.rotation!==e&&(this.props.rotation=e,this.setUpdateType(Mn.ScaleRotate))}},{key:"alpha",get:function(){return this.props.alpha},set:function(e){this.props.alpha=e,this.setUpdateType(Mn.PremultipliedColors|Mn.WorldAlpha)}},{key:"autosize",get:function(){return this.props.autosize},set:function(e){this.props.autosize=e}},{key:"clipping",get:function(){return this.props.clipping},set:function(e){this.props.clipping=e,this.setUpdateType(Mn.Clipping)}},{key:"color",get:function(){return this.props.color},set:function(e){this.props.colorTl===e&&this.props.colorTr===e&&this.props.colorBl===e&&this.props.colorBr===e||(this.colorTl=e,this.colorTr=e,this.colorBl=e,this.colorBr=e),this.props.color=e,this.setUpdateType(Mn.PremultipliedColors)}},{key:"colorTop",get:function(){return this.props.colorTop},set:function(e){this.props.colorTl===e&&this.props.colorTr===e||(this.colorTl=e,this.colorTr=e),this.props.colorTop=e,this.setUpdateType(Mn.PremultipliedColors)}},{key:"colorBottom",get:function(){return this.props.colorBottom},set:function(e){this.props.colorBl===e&&this.props.colorBr===e||(this.colorBl=e,this.colorBr=e),this.props.colorBottom=e,this.setUpdateType(Mn.PremultipliedColors)}},{key:"colorLeft",get:function(){return this.props.colorLeft},set:function(e){this.props.colorTl===e&&this.props.colorBl===e||(this.colorTl=e,this.colorBl=e),this.props.colorLeft=e,this.setUpdateType(Mn.PremultipliedColors)}},{key:"colorRight",get:function(){return this.props.colorRight},set:function(e){this.props.colorTr===e&&this.props.colorBr===e||(this.colorTr=e,this.colorBr=e),this.props.colorRight=e,this.setUpdateType(Mn.PremultipliedColors)}},{key:"colorTl",get:function(){return this.props.colorTl},set:function(e){this.props.colorTl=e,this.setUpdateType(Mn.PremultipliedColors)}},{key:"colorTr",get:function(){return this.props.colorTr},set:function(e){this.props.colorTr=e,this.setUpdateType(Mn.PremultipliedColors)}},{key:"colorBl",get:function(){return this.props.colorBl},set:function(e){this.props.colorBl=e,this.setUpdateType(Mn.PremultipliedColors)}},{key:"colorBr",get:function(){return this.props.colorBr},set:function(e){this.props.colorBr=e,this.setUpdateType(Mn.PremultipliedColors)}},{key:"zIndexLocked",get:function(){return this.props.zIndexLocked||0},set:function(e){this.props.zIndexLocked=e,this.setUpdateType(Mn.CalculatedZIndex|Mn.Children),this.children.forEach((function(e){e.setUpdateType(Mn.CalculatedZIndex)}))}},{key:"zIndex",get:function(){return this.props.zIndex},set:function(e){this.props.zIndex=e,this.setUpdateType(Mn.CalculatedZIndex|Mn.Children),this.children.forEach((function(e){e.setUpdateType(Mn.CalculatedZIndex)}))}},{key:"parent",get:function(){return this.props.parent},set:function(e){var t=this.props.parent;if(t!==e){if(this.props.parent=e,t){var n=t.children.indexOf(this);I(-1!==n,"CoreNode.parent: Node not found in old parent's children!"),t.children.splice(n,1),t.setUpdateType(Mn.Children|Mn.ZIndexSortedChildren)}e&&(e.children.push(this),this.setUpdateType(Mn.All),e.setUpdateType(Mn.Children|Mn.ZIndexSortedChildren),(e.rtt||e.parentHasRenderTexture)&&this.setRTTUpdates(Mn.All)),this.parentHasRenderTexture=(null==e?void 0:e.rtt)||(null==e?void 0:e.parentHasRenderTexture),this.updateScaleRotateTransform()}}},{key:"rtt",get:function(){return this.props.rtt},set:function(e){var t;e&&(this.props.rtt=!0,this.hasRTTupdates=!0,null===(t=this.stage.renderer)||void 0===t||t.renderToTexture(this))}},{key:"parentHasRenderTexture",get:function(){return this.props.parentHasRenderTexture},set:function(e){this.props.parentHasRenderTexture=!!e}},{key:"framebufferDimensions",get:function(){var e;return this.parentHasRenderTexture&&!this.rtt?null===(e=this.parent)||void 0===e?void 0:e.framebufferDimensions:{width:this.width,height:this.height}}},{key:"parentRenderTexture",get:function(){for(var e=this.parent;e;){if(e.rtt)return e;e=e.parent}return null}},{key:"texture",get:function(){return this.props.texture}},{key:"setRTTUpdates",value:function(e){var t;this.hasRTTupdates=!0,null===(t=this.parent)||void 0===t||t.setRTTUpdates(e)}}])}(W),Dn=1;function Un(){return Dn++}var Wn=function(e){function t(e,n,r,o){var i,a;return N(this,t),M(a=A(this,t),"rendererMain",void 0),M(a,"stage",void 0),M(a,"id",void 0),M(a,"coreNode",void 0),M(a,"_children",[]),M(a,"_src",""),M(a,"_parent",null),M(a,"_texture",null),M(a,"_shader",null),M(a,"_data",{}),M(a,"onTextureLoaded",(function(e,t){a.emit("loaded",t)})),M(a,"onTextureFailed",(function(e,t){a.emit("failed",t)})),M(a,"onTextureFreed",(function(e,t){a.emit("freed",t)})),M(a,"onOutOfBounds",(function(e,t){a.emit("outOfBounds",t)})),M(a,"onInBounds",(function(e,t){a.emit("inBounds",t)})),M(a,"onOutOfViewport",(function(e,t){a.emit("outOfViewport",t)})),M(a,"onInViewport",(function(e,t){a.emit("inViewport",t)})),a.rendererMain=n,a.stage=r,a.id=null!==(i=null==o?void 0:o.id)&&void 0!==i?i:Un(),a.coreNode=o||new On(a.stage,{id:a.id,x:e.x,y:e.y,width:e.width,height:e.height,alpha:e.alpha,autosize:e.autosize,clipping:e.clipping,color:e.color,colorTop:e.colorTop,colorBottom:e.colorBottom,colorLeft:e.colorLeft,colorRight:e.colorRight,colorTl:e.colorTl,colorTr:e.colorTr,colorBl:e.colorBl,colorBr:e.colorBr,zIndex:e.zIndex,zIndexLocked:e.zIndexLocked,scaleX:e.scaleX,scaleY:e.scaleY,mountX:e.mountX,mountY:e.mountY,mount:e.mount,pivot:e.pivot,pivotX:e.pivotX,pivotY:e.pivotY,rotation:e.rotation,parent:null,shader:null,shaderProps:null,texture:null,textureOptions:null,rtt:e.rtt,parentHasRenderTexture:e.parentHasRenderTexture}),a.coreNode.on("loaded",a.onTextureLoaded),a.coreNode.on("failed",a.onTextureFailed),a.coreNode.on("freed",a.onTextureFreed),a.coreNode.on("outOfBounds",a.onOutOfBounds),a.coreNode.on("inBounds",a.onInBounds),a.coreNode.on("outOfViewport",a.onOutOfViewport),a.coreNode.on("inViewport",a.onInViewport),a.parent=e.parent,a.shader=e.shader,a.texture=e.texture,a.src=e.src,a.rtt=e.rtt,a._data=e.data,a}return R(t,e),E(t,[{key:"x",get:function(){return this.coreNode.x},set:function(e){this.coreNode.x=e}},{key:"y",get:function(){return this.coreNode.y},set:function(e){this.coreNode.y=e}},{key:"width",get:function(){return this.coreNode.width},set:function(e){this.coreNode.width=e}},{key:"height",get:function(){return this.coreNode.height},set:function(e){this.coreNode.height=e}},{key:"alpha",get:function(){return this.coreNode.alpha},set:function(e){this.coreNode.alpha=e}},{key:"autosize",get:function(){return this.coreNode.autosize},set:function(e){this.coreNode.autosize=e}},{key:"clipping",get:function(){return this.coreNode.clipping},set:function(e){this.coreNode.clipping=e}},{key:"color",get:function(){return this.coreNode.color},set:function(e){this.coreNode.color=e}},{key:"colorTop",get:function(){return this.coreNode.colorTop},set:function(e){this.coreNode.colorTop=e}},{key:"colorBottom",get:function(){return this.coreNode.colorBottom},set:function(e){this.coreNode.colorBottom=e}},{key:"colorLeft",get:function(){return this.coreNode.colorLeft},set:function(e){this.coreNode.colorLeft=e}},{key:"colorRight",get:function(){return this.coreNode.colorRight},set:function(e){this.coreNode.colorRight=e}},{key:"colorTl",get:function(){return this.coreNode.colorTl},set:function(e){this.coreNode.colorTl=e}},{key:"colorTr",get:function(){return this.coreNode.colorTr},set:function(e){this.coreNode.colorTr=e}},{key:"colorBl",get:function(){return this.coreNode.colorBl},set:function(e){this.coreNode.colorBl=e}},{key:"colorBr",get:function(){return this.coreNode.colorBr},set:function(e){this.coreNode.colorBr=e}},{key:"scale",get:function(){return this.scaleX!==this.scaleY?null:this.coreNode.scaleX},set:function(e){null!==e&&(this.coreNode.scaleX=e,this.coreNode.scaleY=e)}},{key:"scaleX",get:function(){return this.coreNode.scaleX},set:function(e){this.coreNode.scaleX=e}},{key:"scaleY",get:function(){return this.coreNode.scaleY},set:function(e){this.coreNode.scaleY=e}},{key:"mount",get:function(){return this.coreNode.mount},set:function(e){this.coreNode.mount=e}},{key:"mountX",get:function(){return this.coreNode.mountX},set:function(e){this.coreNode.mountX=e}},{key:"mountY",get:function(){return this.coreNode.mountY},set:function(e){this.coreNode.mountY=e}},{key:"pivot",get:function(){return this.coreNode.pivot},set:function(e){this.coreNode.pivot=e}},{key:"pivotX",get:function(){return this.coreNode.pivotX},set:function(e){this.coreNode.pivotX=e}},{key:"pivotY",get:function(){return this.coreNode.pivotY},set:function(e){this.coreNode.pivotY=e}},{key:"rotation",get:function(){return this.coreNode.rotation},set:function(e){this.coreNode.rotation=e}},{key:"parent",get:function(){return this._parent},set:function(e){var t,n=this._parent;if(this._parent=e,this.coreNode.parent=null!==(t=null==e?void 0:e.coreNode)&&void 0!==t?t:null,n){var r=n.children.indexOf(this);I(-1!==r,"MainOnlyNode.parent: Node not found in old parent's children!"),n.children.splice(r,1)}e&&e.children.push(this)}},{key:"children",get:function(){return this._children}},{key:"zIndex",get:function(){return this.coreNode.zIndex},set:function(e){this.coreNode.zIndex=e}},{key:"zIndexLocked",get:function(){return this.coreNode.zIndexLocked},set:function(e){this.coreNode.zIndexLocked=e}},{key:"src",get:function(){return this._src},set:function(e){this._src!==e&&(this._src=e,this.texture=e?this.rendererMain.createTexture("ImageTexture",{src:e}):null)}},{key:"texture",get:function(){return this._texture},set:function(e){this._texture!==e&&(this._texture&&this.rendererMain.textureTracker.decrementTextureRefCount(this._texture),e&&this.rendererMain.textureTracker.incrementTextureRefCount(e),this._texture=e,e?this.coreNode.loadTexture(e.txType,e.props,e.options):this.coreNode.unloadTexture())}},{key:"rtt",get:function(){return this.coreNode.rtt},set:function(e){e&&(this.texture=this.rendererMain.createTexture("RenderTexture",{width:this.width,height:this.height},{preload:!0,flipY:!0})),this.coreNode.rtt=e}},{key:"parentHasRenderTexture",get:function(){return this.coreNode.parentHasRenderTexture},set:function(e){this.coreNode.parentHasRenderTexture=e}},{key:"shader",get:function(){return this._shader},set:function(e){this._shader!==e&&(this._shader=e,e&&this.coreNode.loadShader(e.shType,e.props))}},{key:"data",get:function(){return this._data},set:function(e){this._data=Rn(e)}},{key:"destroy",value:function(){this.emit("beforeDestroy",{});for(var e=this.children[0];e;)e.destroy(),e=this.children[0];this.coreNode.destroy(),this.parent=null,this.texture=null,this.emit("afterDestroy",{}),this.removeAllListeners()}},{key:"flush",value:function(){}},{key:"animate",value:function(e,t){var n=new En(this.coreNode,e,t);return new Nn(this.stage.animationManager,n)}}])}(W),jn=function(){return E((function e(){N(this,e),M(this,"activeAnimations",new Set)}),[{key:"registerAnimation",value:function(e){this.activeAnimations.add(e)}},{key:"unregisterAnimation",value:function(e){this.activeAnimations.delete(e)}},{key:"update",value:function(e){this.activeAnimations.forEach((function(t){t.update(e)}))}}])}(),Yn=function(){return E((function e(t){var n=this;N(this,e),M(this,"imageWorkersEnabled",!0),M(this,"messageManager",{}),M(this,"workers",[]),M(this,"workerIndex",0),this.workers=this.createWorkers(t),this.workers.forEach((function(e){e.onmessage=n.handleMessage.bind(n)}))}),[{key:"handleMessage",value:function(e){var t=e.data,n=t.src,r=t.data,o=t.error,i=this.messageManager[n];if(i){var a=O(i,2),s=a[0],l=a[1];delete this.messageManager[n],o?l(new Error(o)):s(r)}}},{key:"createWorkers",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=new Blob(["\n      function hasAlphaChannel(mimeType) {\n          return (mimeType.indexOf(\"image/png\") !== -1);\n      }\n\n      function getImage(src, premultiplyAlpha) {\n        return new Promise(function(resolve, reject) {\n          var xhr = new XMLHttpRequest();\n          xhr.open('GET', src, true);\n          xhr.responseType = 'blob';\n\n          xhr.onload = function() {\n            if (xhr.status === 200) {\n              var blob = xhr.response;\n              var hasAlphaChannel = premultiplyAlpha !== undefined ? premultiplyAlpha : hasAlphaChannel(blob.type);\n\n              createImageBitmap(blob, {\n                premultiplyAlpha: hasAlphaChannel ? 'premultiply' : 'none',\n                colorSpaceConversion: 'none',\n                imageOrientation: 'none'\n              }).then(function(data) {\n                resolve({ data: data, premultiplyAlpha: premultiplyAlpha });\n              }).catch(function(error) {\n                reject(error);\n              });\n            } else {\n              reject(new Error('Failed to load image: ' + xhr.statusText));\n            }\n          };\n\n          xhr.onerror = function() {\n            reject(new Error('Network error occurred while trying to fetch the image.'));\n          };\n\n          xhr.send();\n        });\n      }\n\n      self.onmessage = (event) => {\n        var src = event.data.src;\n        var premultiplyAlpha = event.data.premultiplyAlpha;\n\n        getImage(src, premultiplyAlpha)\n          .then(function(data) {\n              self.postMessage({ src: src, data: data }, [data.data]);\n          })\n          .catch(function(error) {\n              self.postMessage({ src: src, error: error.message });\n          });\n      };\n    ".replace('"use strict";',"")],{type:"application/javascript"}),n=(self.URL?URL:webkitURL).createObjectURL(t),r=[],o=0;o<e;o++)r.push(new Worker(n));return r}},{key:"getNextWorker",value:function(){var e=this.workers[this.workerIndex];return this.workerIndex=(this.workerIndex+1)%this.workers.length,e}},{key:"convertUrlToAbsolute",value:function(e){return new URL(e,self.location.href).href}},{key:"getImage",value:function(e,t){var n=this;return new Promise((function(r,o){try{if(n.workers){var i=n.convertUrlToAbsolute(e);n.messageManager[i]=[r,o],n.getNextWorker().postMessage({src:i,premultiplyAlpha:t})}}catch(a){o(a)}}))}}])}(),Hn=function(e){function t(e,n){var r;return N(this,t),M(r=A(this,t,[e]),"props",void 0),r.props=t.resolveDefaults(n),r}return R(t,e),E(t,[{key:"getTextureData",value:(n=w(x().mark((function e(){var t,n,r,o,i,a,s;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=this.props,n=t.width,r=t.height,o=n*r*4,i=new Uint8ClampedArray(o),a=0;a<o;a+=4)s=Math.floor(256*Math.random()),i[a]=s,i[a+1]=s,i[a+2]=s,i[a+3]=255;return e.abrupt("return",{data:new ImageData(i,n,r)});case 5:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})}],[{key:"makeCacheKey",value:function(e){var n=t.resolveDefaults(e);return`NoiseTexture,${n.width},${n.height},${n.cacheId}`}},{key:"resolveDefaults",value:function(e){var t,n,r;return{width:null!==(t=e.width)&&void 0!==t?t:128,height:null!==(n=e.height)&&void 0!==n?n:128,cacheId:null!==(r=e.cacheId)&&void 0!==r?r:0}}}]);var n}(G);M(Hn,"z$__type__Props",void 0);var Qn,Kn,$n=function(){return E((function e(t){N(this,e),M(this,"usedMemory",0),M(this,"txConstructors",{}),M(this,"textureKeyCache",new Map),M(this,"textureIdCache",new Map),M(this,"ctxTextureCache",new WeakMap),M(this,"textureRefCountMap",new WeakMap),M(this,"imageWorkerManager",null),M(this,"hasCreateImageBitmap",!!self.createImageBitmap),M(this,"hasWorker",!!self.Worker),M(this,"renderer",void 0),this.hasCreateImageBitmap&&this.hasWorker&&(this.imageWorkerManager=new Yn(t)),this.hasCreateImageBitmap||console.warn("[Lightning] createImageBitmap is not supported on this browser. ImageTexture will be slower."),this.registerTextureType("ImageTexture",vn),this.registerTextureType("ColorTexture",le),this.registerTextureType("NoiseTexture",Hn),this.registerTextureType("SubTexture",ue),this.registerTextureType("RenderTexture",ce)}),[{key:"registerTextureType",value:function(e,t){this.txConstructors[e]=t}},{key:"loadTexture",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=this.txConstructors[e];if(!o)throw new Error(`Texture type "${e}" is not registered`);if(void 0!==(null==r?void 0:r.id)&&this.textureIdCache.has(r.id)&&(n=this.textureIdCache.get(r.id)),!n){var i,a=null==r?void 0:r.id,s=null!==(i=null==r?void 0:r.cacheKey)&&void 0!==i?i:o.makeCacheKey(t);n=s&&this.textureKeyCache.has(s)?this.textureKeyCache.get(s):new o(this,t),a&&this.addTextureIdToCache(a,s,n)}null!=r&&r.preload&&this.getCtxTexture(n).load();return n}},{key:"addTextureIdToCache",value:function(e,t,n){var r=this.textureIdCache,o=this.textureRefCountMap;r.set(e,n),o.has(n)?o.get(n).count++:(o.set(n,{cacheKey:t,count:1}),t&&this.textureKeyCache.set(t,n))}},{key:"removeTextureIdFromCache",value:function(e){var t,n=this.textureIdCache,r=this.textureRefCountMap,o=n.get(e);if(o){if(n.delete(e),r.has(o)){var i=r.get(o);I(i),i.count--,0===i.count&&(r.delete(o),i.cacheKey&&this.textureKeyCache.delete(i.cacheKey))}null===(t=this.ctxTextureCache.get(o))||void 0===t||t.free()}}},{key:"getDebugInfo",value:function(){return{keyCacheSize:this.textureKeyCache.size,idCacheSize:this.textureIdCache.size}}},{key:"getCtxTexture",value:function(e){if(this.ctxTextureCache.has(e))return this.ctxTextureCache.get(e);var t=this.renderer.createCtxTexture(e);return this.ctxTextureCache.set(e,t),t}}])}(),Xn=function(){return E((function e(t){N(this,e),M(this,"memUsed",0),M(this,"textures",new Map),M(this,"threshold",void 0),this.threshold=t,0===t&&(this.setTextureMemUse=function(){})}),[{key:"setTextureMemUse",value:function(e,t){this.textures.has(e)&&(this.memUsed-=this.textures.get(e)),0!==t?(this.memUsed+=t,this.textures.set(e,t),this.memUsed>this.threshold&&this.gc()):this.textures.delete(e)}},{key:"gc",value:function(){this.textures.forEach((function(e,t){t.renderable||t.free()}))}}])}(),Gn=function(e){function t(e){var n;N(this,t),M(n=A(this,t),"options",void 0),M(n,"animationManager",void 0),M(n,"txManager",void 0),M(n,"txMemManager",void 0),M(n,"fontManager",void 0),M(n,"textRenderers",void 0),M(n,"shManager",void 0),M(n,"renderer",void 0),M(n,"root",void 0),M(n,"boundsMargin",void 0),M(n,"deltaTime",0),M(n,"lastFrameTime",0),M(n,"currentFrameTime",0),M(n,"fpsNumFrames",0),M(n,"fpsElapsedTime",0),M(n,"renderRequested",!1),M(n,"contextSpy",null),n.options=e;var r=e.canvas,o=e.clearColor,i=e.rootId,a=e.debug,s=e.appWidth,l=e.appHeight,u=e.boundsMargin,c=e.enableContextSpy,d=e.numImageWorkers,f=e.txMemByteThreshold;n.txManager=new $n(d),n.txMemManager=new Xn(f),n.shManager=new cn,n.animationManager=new jn,n.contextSpy=c?new dn:null;var h=[0,0,0,0];u&&(h=Array.isArray(u)?u:[u,u,u,u]),n.boundsMargin=h,null!=a&&a.monitorTextureCache&&setInterval((function(){I(n.txManager);var e=n.txManager.getDebugInfo();console.log("Texture ID Cache Size: ",e.idCacheSize),console.log("Texture Key Cache Size: ",e.keyCacheSize)}),1e3),n.renderer=new de({stage:n,canvas:r,pixelRatio:e.devicePhysicalPixelRatio*e.deviceLogicalPixelRatio,clearColor:null!=o?o:4278190080,bufferMemory:2e6,txManager:n.txManager,txMemManager:n.txMemManager,shManager:n.shManager,contextSpy:n.contextSpy}),n.txManager.renderer=n.renderer,n.textRenderers={canvas:new Wt(n),sdf:new Cn(n)},n.fontManager=new An(n.textRenderers);var p,v,g=new On(n,{id:i,x:0,y:0,width:s,height:l,alpha:1,autosize:!1,clipping:!1,color:0,colorTop:0,colorBottom:0,colorLeft:0,colorRight:0,colorTl:0,colorTr:0,colorBl:0,colorBr:0,zIndex:0,zIndexLocked:0,scaleX:1,scaleY:1,mountX:0,mountY:0,mount:0,pivot:.5,pivotX:.5,pivotY:.5,rotation:0,parent:null,texture:null,textureOptions:null,shader:null,shaderProps:null,rtt:!1});return n.root=g,p=n,v=!1,requestAnimationFrame((function e(){if(p.updateAnimations(),!p.hasSceneUpdates())return p.calculateFps(),setTimeout(e,16.666666666666668),void(v||(p.emit("idle"),v=!0));v=!1,p.drawFrame(),requestAnimationFrame(e)})),n}return R(t,e),E(t,[{key:"updateAnimations",value:function(){var e=this.animationManager;this.root&&(this.lastFrameTime=this.currentFrameTime,this.currentFrameTime=performance?performance.now():Date.now(),this.deltaTime=this.lastFrameTime?this.currentFrameTime-this.lastFrameTime:100/6,this.emit("frameTick",{time:this.currentFrameTime,delta:this.deltaTime}),e.update(this.deltaTime))}},{key:"hasSceneUpdates",value:function(){return!!this.root.updateType||this.renderRequested}},{key:"drawFrame",value:function(){var e=this.renderer,t=this.renderRequested;0!==this.root.updateType&&this.root.update(this.deltaTime,this.root.clippingRect),null==e||e.reset(),e.rttNodes.length>0&&e.renderRTTNodes(),this.addQuads(this.root),null==e||e.render(),this.calculateFps(),t&&(this.renderRequested=!1)}},{key:"calculateFps",value:function(){var e=this.options.fpsUpdateInterval;if(e&&(this.fpsNumFrames++,this.fpsElapsedTime+=this.deltaTime,this.fpsElapsedTime>=e)){var t,n,r,o=Math.round(1e3*this.fpsNumFrames/this.fpsElapsedTime);this.fpsNumFrames=0,this.fpsElapsedTime=0,this.emit("fpsUpdate",{fps:o,contextSpyData:null!==(t=null===(n=this.contextSpy)||void 0===n?void 0:n.getData())&&void 0!==t?t:null}),null===(r=this.contextSpy)||void 0===r||r.reset()}}},{key:"addQuads",value:function(e){I(this.renderer&&e.globalTransform),e.isRenderable&&e.renderQuads(this.renderer);for(var t=0;t<e.children.length;t++){var n=e.children[t];n&&(0!==(null==n?void 0:n.worldAlpha)&&this.addQuads(n))}}},{key:"requestRender",value:function(){this.renderRequested=!0}},{key:"resolveTextRenderer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=!1;if(t){var r=this.textRenderers[t];r?r.canRenderFont(e)||(console.warn(`Cannot use override text renderer '${t}' for font`,e),t=null,n=!0):(console.warn(`Text renderer override '${t}' not found.`),t=null,n=!0)}if(!t){for(var o=0,i=Object.entries(this.textRenderers);o<i.length;o++){var a=O(i[o],2),s=a[0],l=a[1];if("canvas"!==s&&l.canRenderFont(e)){t=s;break}}t||(t="canvas")}n&&console.warn(`Falling back to text renderer ${String(t)}`);var u=this.textRenderers[t];return I(u,"resolvedTextRenderer undefined"),u}}])}(W),Vn=function(e){function t(e,n){var r;N(this,t),M(r=A(this,t,[e,n]),"textRenderer",void 0),M(r,"trState",void 0),M(r,"_textRendererOverride",null),M(r,"onTextLoaded",(function(){var e=r.contain,t=r.trState.props.width,n=r.trState.props.height,o=r.trState.textW||0,i=r.trState.textH||0;"both"===e?(r.props.width=t,r.props.height=n):"width"===e?(r.props.width=t,r.props.height=i):"none"===e&&(r.props.width=o,r.props.height=i),r.updateLocalTransform(),r.stage.requestRender(),r.emit("loaded",{type:"text",dimensions:{width:r.trState.textW||0,height:r.trState.textH||0}})})),M(r,"onTextFailed",(function(e,t){r.emit("failed",{type:"text",error:t})})),r._textRendererOverride=n.textRendererOverride;var o=r.resolveTextRendererAndState({x:r.absX,y:r.absY,width:n.width,height:n.height,textAlign:n.textAlign,color:n.color,zIndex:n.zIndex,contain:n.contain,scrollable:n.scrollable,scrollY:n.scrollY,offsetY:n.offsetY,letterSpacing:n.letterSpacing,debug:n.debug,fontFamily:n.fontFamily,fontSize:n.fontSize,fontStretch:n.fontStretch,fontStyle:n.fontStyle,fontWeight:n.fontWeight,text:n.text,lineHeight:n.lineHeight,maxLines:n.maxLines,textBaseline:n.textBaseline,verticalAlign:n.verticalAlign,overflowSuffix:n.overflowSuffix}),i=o.resolvedTextRenderer,a=o.textRendererState;return r.textRenderer=i,r.trState=a,r}return R(t,e),E(t,[{key:"width",get:function(){return this.props.width},set:function(e){this.props.width=e,this.textRenderer.set.width(this.trState,e),"none"===this.contain&&this.setUpdateType(Mn.Local)}},{key:"height",get:function(){return this.props.height},set:function(e){this.props.height=e,this.textRenderer.set.height(this.trState,e),"both"!==this.contain&&this.setUpdateType(Mn.Local)}},{key:"color",get:function(){return this.trState.props.color},set:function(e){this.textRenderer.set.color(this.trState,e)}},{key:"text",get:function(){return this.trState.props.text},set:function(e){this.textRenderer.set.text(this.trState,e)}},{key:"textRendererOverride",get:function(){return this._textRendererOverride},set:function(e){this._textRendererOverride=e,this.textRenderer.destroyState(this.trState);var t=this.resolveTextRendererAndState(this.trState.props),n=t.resolvedTextRenderer,r=t.textRendererState;this.textRenderer=n,this.trState=r}},{key:"fontSize",get:function(){return this.trState.props.fontSize},set:function(e){this.textRenderer.set.fontSize(this.trState,e)}},{key:"fontFamily",get:function(){return this.trState.props.fontFamily},set:function(e){this.textRenderer.set.fontFamily(this.trState,e)}},{key:"fontStretch",get:function(){return this.trState.props.fontStretch},set:function(e){this.textRenderer.set.fontStretch(this.trState,e)}},{key:"fontStyle",get:function(){return this.trState.props.fontStyle},set:function(e){this.textRenderer.set.fontStyle(this.trState,e)}},{key:"fontWeight",get:function(){return this.trState.props.fontWeight},set:function(e){this.textRenderer.set.fontWeight(this.trState,e)}},{key:"textAlign",get:function(){return this.trState.props.textAlign},set:function(e){this.textRenderer.set.textAlign(this.trState,e)}},{key:"contain",get:function(){return this.trState.props.contain},set:function(e){this.textRenderer.set.contain(this.trState,e)}},{key:"scrollable",get:function(){return this.trState.props.scrollable},set:function(e){this.textRenderer.set.scrollable(this.trState,e)}},{key:"scrollY",get:function(){return this.trState.props.scrollY},set:function(e){this.textRenderer.set.scrollY(this.trState,e)}},{key:"offsetY",get:function(){return this.trState.props.offsetY},set:function(e){this.textRenderer.set.offsetY(this.trState,e)}},{key:"letterSpacing",get:function(){return this.trState.props.letterSpacing},set:function(e){this.textRenderer.set.letterSpacing(this.trState,e)}},{key:"lineHeight",get:function(){return this.trState.props.lineHeight},set:function(e){this.textRenderer.set.lineHeight&&this.textRenderer.set.lineHeight(this.trState,e)}},{key:"maxLines",get:function(){return this.trState.props.maxLines},set:function(e){this.textRenderer.set.maxLines&&this.textRenderer.set.maxLines(this.trState,e)}},{key:"textBaseline",get:function(){return this.trState.props.textBaseline},set:function(e){this.textRenderer.set.textBaseline&&this.textRenderer.set.textBaseline(this.trState,e)}},{key:"verticalAlign",get:function(){return this.trState.props.verticalAlign},set:function(e){this.textRenderer.set.verticalAlign&&this.textRenderer.set.verticalAlign(this.trState,e)}},{key:"overflowSuffix",get:function(){return this.trState.props.overflowSuffix},set:function(e){this.textRenderer.set.overflowSuffix&&this.textRenderer.set.overflowSuffix(this.trState,e)}},{key:"debug",get:function(){return this.trState.props.debug},set:function(e){this.textRenderer.set.debug(this.trState,e)}},{key:"update",value:function(e,n){k(_(t.prototype),"update",this).call(this,e,n),I(this.globalTransform),this.textRenderer.set.x(this.trState,this.globalTransform.tx),this.textRenderer.set.y(this.trState,this.globalTransform.ty)}},{key:"checkRenderProps",value:function(){return""!==this.trState.props.text||k(_(t.prototype),"checkRenderProps",this).call(this)}},{key:"onChangeIsRenderable",value:function(e){k(_(t.prototype),"onChangeIsRenderable",this).call(this,e),this.textRenderer.setIsRenderable(this.trState,e)}},{key:"renderQuads",value:function(e){var t,n;if(I(this.globalTransform),this.parentHasRenderTexture){if(!e.renderToTextureActive)return;if(this.parentRenderTexture!==e.activeRttNode)return}this.parentHasRenderTexture&&null!==(t=this.props.parent)&&void 0!==t&&t.rtt&&(this.globalTransform=Fn.identity(),this.globalTransform.multiply(null!==(n=this.localTransform)&&void 0!==n?n:Fn.identity()));I(this.globalTransform),this.textRenderer.renderQuads(this.trState,this.globalTransform,this.clippingRect,this.worldAlpha,this.parentHasRenderTexture,this.framebufferDimensions)}},{key:"destroy",value:function(){k(_(t.prototype),"destroy",this).call(this),this.textRenderer.destroyState(this.trState)}},{key:"resolveTextRendererAndState",value:function(e){var t=this.stage.resolveTextRenderer(e,this._textRendererOverride),n=t.createState(e);return n.emitter.on("loaded",this.onTextLoaded),n.emitter.on("failed",this.onTextFailed),t.scheduleUpdateState(n),{resolvedTextRenderer:t,textRendererState:n}}}])}(On),Zn=function(e){function t(e,n,r){return N(this,t),A(this,t,[e,n,r,new Vn(r,{id:Un(),x:e.x,y:e.y,width:e.width,height:e.height,alpha:e.alpha,autosize:e.autosize,clipping:e.clipping,color:e.color,colorTop:e.colorTop,colorBottom:e.colorBottom,colorLeft:e.colorLeft,colorRight:e.colorRight,colorTl:e.colorTl,colorTr:e.colorTr,colorBl:e.colorBl,colorBr:e.colorBr,zIndex:e.zIndex,zIndexLocked:e.zIndexLocked,scaleX:e.scaleX,scaleY:e.scaleY,mountX:e.mountX,mountY:e.mountY,mount:e.mount,pivot:e.pivot,pivotX:e.pivotX,pivotY:e.pivotY,rotation:e.rotation,text:e.text,fontSize:e.fontSize,fontFamily:e.fontFamily,fontWeight:e.fontWeight,fontStretch:e.fontStretch,fontStyle:e.fontStyle,contain:e.contain,scrollable:e.scrollable,letterSpacing:e.letterSpacing,textAlign:e.textAlign,scrollY:e.scrollY,offsetY:e.offsetY,textRendererOverride:e.textRendererOverride,lineHeight:e.lineHeight,maxLines:e.maxLines,textBaseline:e.textBaseline,verticalAlign:e.verticalAlign,overflowSuffix:e.overflowSuffix,debug:e.debug,parent:null,texture:null,textureOptions:null,shader:null,shaderProps:null,rtt:!1,parentHasRenderTexture:!1})])}return R(t,e),E(t,[{key:"text",get:function(){return this.coreNode.text},set:function(e){this.coreNode.text=e}},{key:"textRendererOverride",get:function(){return this.coreNode.textRendererOverride},set:function(e){this.coreNode.textRendererOverride=e}},{key:"fontSize",get:function(){return this.coreNode.fontSize},set:function(e){this.coreNode.fontSize=e}},{key:"fontFamily",get:function(){return this.coreNode.fontFamily},set:function(e){this.coreNode.fontFamily=e}},{key:"fontWeight",get:function(){return this.coreNode.fontWeight},set:function(e){this.coreNode.fontWeight=e}},{key:"fontStretch",get:function(){return this.coreNode.fontStretch},set:function(e){this.coreNode.fontStretch=e}},{key:"fontStyle",get:function(){return this.coreNode.fontStyle},set:function(e){this.coreNode.fontStyle=e}},{key:"textAlign",get:function(){return this.coreNode.textAlign},set:function(e){this.coreNode.textAlign=e}},{key:"contain",get:function(){return this.coreNode.contain},set:function(e){this.coreNode.contain=e}},{key:"scrollable",get:function(){return this.coreNode.scrollable},set:function(e){this.coreNode.scrollable=e}},{key:"scrollY",get:function(){return this.coreNode.scrollY},set:function(e){this.coreNode.scrollY=e}},{key:"offsetY",get:function(){return this.coreNode.offsetY},set:function(e){this.coreNode.offsetY=e}},{key:"letterSpacing",get:function(){return this.coreNode.letterSpacing},set:function(e){this.coreNode.letterSpacing=e}},{key:"lineHeight",get:function(){return this.coreNode.lineHeight},set:function(e){e&&(this.coreNode.lineHeight=e)}},{key:"maxLines",get:function(){return this.coreNode.maxLines},set:function(e){e&&(this.coreNode.maxLines=e)}},{key:"textBaseline",get:function(){return this.coreNode.textBaseline},set:function(e){e&&(this.coreNode.textBaseline=e)}},{key:"verticalAlign",get:function(){return this.coreNode.verticalAlign},set:function(e){e&&(this.coreNode.verticalAlign=e)}},{key:"overflowSuffix",get:function(){return this.coreNode.overflowSuffix},set:function(e){e&&(this.coreNode.overflowSuffix=e)}},{key:"debug",get:function(){return this.coreNode.debug},set:function(e){this.coreNode.debug=e}}])}(Wn),qn=function(){return E((function e(){N(this,e),M(this,"root",null),M(this,"stage",null),M(this,"rendererMain",null)}),[{key:"init",value:(e=w(x().mark((function e(t,n,r){var o,i=this;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.stage=new Gn({rootId:Un(),appWidth:n.appWidth,appHeight:n.appHeight,txMemByteThreshold:n.txMemByteThreshold,boundsMargin:n.boundsMargin,deviceLogicalPixelRatio:n.deviceLogicalPixelRatio,devicePhysicalPixelRatio:n.devicePhysicalPixelRatio,clearColor:n.clearColor,canvas:r,fpsUpdateInterval:n.fpsUpdateInterval,enableContextSpy:n.enableContextSpy,numImageWorkers:n.numImageWorkers,debug:{monitorTextureCache:!1}}),this.rendererMain=t,I(this.stage.root),o=new Wn(t.resolveNodeDefaults({}),this.rendererMain,this.stage,this.stage.root),this.root=o,o.once("beforeDestroy",this.onBeforeDestroyNode.bind(this,o)),this.onCreateNode(o),!n.coreExtensionModule){e.next=10;break}return e.next=10,Tn(n.coreExtensionModule,this.stage);case 10:this.stage.on("fpsUpdate",(function(e,t){i.onFpsUpdate(t)})),this.stage.on("frameTick",(function(e,t){i.onFrameTick(t)})),this.stage.on("idle",(function(){i.onIdle()}));case 13:case"end":return e.stop()}}),e,this)}))),function(t,n,r){return e.apply(this,arguments)})},{key:"createNode",value:function(e){I(this.rendererMain),I(this.stage);var t=new Wn(e,this.rendererMain,this.stage);return t.once("beforeDestroy",this.onBeforeDestroyNode.bind(this,t)),this.onCreateNode(t),t}},{key:"createTextNode",value:function(e){I(this.rendererMain),I(this.stage);var t=new Zn(e,this.rendererMain,this.stage);return t.once("beforeDestroy",this.onBeforeDestroyNode.bind(this,t)),this.onCreateNode(t),t}},{key:"destroyNode",value:function(e){e.destroy()}},{key:"releaseTexture",value:function(e){var t=this.stage;I(t),t.txManager.removeTextureIdFromCache(e)}},{key:"getRootNode",value:function(){return I(this.root),this.root}},{key:"onCreateNode",value:function(e){throw new Error("Method not implemented.")}},{key:"onBeforeDestroyNode",value:function(e){throw new Error("Method not implemented.")}},{key:"onFpsUpdate",value:function(e){throw new Error("Method not implemented.")}},{key:"onFrameTick",value:function(e){throw new Error("Method not implemented.")}},{key:"onIdle",value:function(){throw new Error("Method not implemented.")}}]);var e}();function Jn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"app",n=new qn;return Qn=new Bn(e,t,n),Kn=Qn.createShader.bind(Qn),Qn}var er=function(e){function t(e){var n;return N(this,t),(n=A(this,t))._parent=e,n}return R(t,e),E(t,[{key:"selected",get:function(){return this[this._parent.selected||0]}},{key:"firstChild",get:function(){return this[0]}},{key:"insert",value:function(e,t){if(t){var n=this.indexOf(t);this.splice(n,0,e)}else this.push(e);e.parent=this._parent,this._parent._isDirty=!0}},{key:"remove",value:function(e){var t=this.indexOf(e);t>=0&&this.splice(t,1)}}])}(m(Array));var tr={debug:!1,animationsEnabled:!0,animationSettings:{duration:250,easing:"ease-in-out"},fontSettings:{fontFamily:"Ubuntu",fontSize:100}};function nr(e){return"function"==typeof e}function rr(e){return Array.isArray(e)}function or(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(rr(e))e.forEach((function(e){or(e,t)}));else if(e)for(var n in e)void 0===t[n]&&(t[n]=e[n]);return t}var ir=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return N(this,t),rr(r)?n=A(this,t,F(r)):n=A(this,t,"string"==typeof r?[r]:F(Object.entries(r).filter((function(e){var t=O(e,2);t[0];return t[1]})).map((function(e){return O(e,1)[0]})))),n.onChange=e,S(n,C(n))}return R(t,e),E(t,[{key:"has",value:function(e){return this.indexOf(e)>=0}},{key:"is",value:function(e){return this.indexOf(e)>=0}},{key:"add",value:function(e){this.push(e),this.onChange()}},{key:"toggle",value:function(e){this.has(e)?this.remove(e):this.add(e)}},{key:"remove",value:function(e){var t=this.indexOf(e);t>=0&&(this.splice(t,1),this.onChange())}}])}(m(Array));var ar=tr.animationSettings;function sr(e){for(var t=[],n=0,r=Object.entries(e);n<r.length;n++){var o=O(r[n],2),i=o[0],a=o[1];t.push({type:i,props:a})}return Kn("DynamicShader",{effects:t})}function lr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{set:function(t){"number"==typeof t&&(t={width:t,color:255}),this.effects=z(z({},this.effects||{}),M({},`border${e}`,t)),this[`_border${e}`]=t},get:function(){return this[`_border${e}`]}}}for(var ur=function(e){function t(e){var n;return N(this,t),(n=A(this,t))._animationQueue=[],n._animationRunning=!1,n.name=e,n._renderProps={},n.children=new er(n),n}return R(t,e),E(t,[{key:"effects",get:function(){return this._effects},set:function(e){this._effects=e,this.lng&&(this.shader=sr(e))}},{key:"parent",get:function(){return this._parent},set:function(e){var t;(this._parent=e,this.lng)&&(this.lng.parent=null!==(t=null==e?void 0:e.lng)&&void 0!==t?t:null)}},{key:"shader",get:function(){return this._shader},set:function(e){rr(e)?this._shader=Kn.apply(void 0,F(e)):this._shader=e,this._sendToLightning("shader",this._shader)}},{key:"_sendToLightningAnimatable",value:function(e,t){if(this.lng){if(tr.animationsEnabled&&this.transition&&(!0===this.transition||this.transition[e])){var n=!0===this.transition||!0===this.transition[e]?void 0:this.transition[e];return this.animate(M({},e,t),n).start()}this.lng[e]=t}else this._renderProps[e]=t}},{key:"_sendToLightning",value:function(e,t){this.lng?this.lng[e]=t:this._renderProps[e]=t}},{key:"animate",value:function(e,t){return I(this.lng,"Node must be rendered before animating"),this.lng.animate(e,t||this.animationSettings)}},{key:"chain",value:function(e,t){return this._animationRunning&&(this._animationQueue=[],this._animationRunning=!1),t?this._animationQueueSettings=t:this._animationQueueSettings||(this._animationQueueSettings=t||this.animationSettings),t=t||this._animationQueueSettings,this._animationQueue.push({props:e,animationSettings:t}),this}},{key:"start",value:(n=w(x().mark((function e(){var t;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this._animationQueue.shift();case 1:if(!t){e.next=8;break}return this._animationRunning=!0,e.next=5,this.animate(t.props,t.animationSettings).start().waitUntilStopped();case 5:t=this._animationQueue.shift(),e.next=1;break;case 8:this._animationRunning=!1,this._animationQueueSettings=void 0;case 10:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"setFocus",value:function(){var e=this;if(this.lng){if(void 0!==this.forwardFocus)if(nr(this.forwardFocus)){if(!1!==this.forwardFocus.call(this,this))return}else{var n="number"==typeof this.forwardFocus?this.forwardFocus:null;if(null!==n&&n<this.children.length){var r=this.children[n];return void(r instanceof t&&r.setFocus())}}queueMicrotask((function(){return At(e)}))}else this.autofocus=!0}},{key:"isTextNode",value:function(){return"text"===this.name}},{key:"_resizeOnTextLoad",value:function(){var e=this;this.lng.on("loaded",(function(t,n){if("text"===n.type){var r=n.dimensions;e.parent.updateLayout(e,r)}}))}},{key:"getText",value:function(){return this.children.map((function(e){return e.text})).join("")}},{key:"destroy",value:function(){var e;this._queueDelete&&(null===(e=this.lng)||void 0===e||e.destroy())}},{key:"onEvents",get:function(){return this._events||[]},set:function(e){this._events=e}},{key:"style",get:function(){return this._style},set:function(e){for(var t in rr(e)?this._style=or(e):this._style=e,this._style)void 0===this[t]&&(this[t]=this._style[t])}},{key:"hasChildren",get:function(){return this.children.length>0}},{key:"getChildById",value:function(e){return this.children.find((function(t){return t.id===e}))}},{key:"searchChildrenById",value:function(e){var n,r=D(this.children);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.id===e)return o;if(o instanceof t){var i=o.searchChildrenById(e);if(i)return i}}}catch(a){r.e(a)}finally{r.f()}}},{key:"states",get:function(){return this._states=this._states||new ir(this._stateChanged.bind(this)),this._states},set:function(e){this._states=new ir(this._stateChanged.bind(this),e),this.lng&&this._stateChanged()}},{key:"animationSettings",get:function(){return this._animationSettings||ar},set:function(e){this._animationSettings=e}},{key:"updateLayout",value:function(e,t){if(this.hasChildren){var n,r=!1;if(nr(this.onBeforeLayout)&&(r=this.onBeforeLayout.call(this,e,t)),"flex"===this.display){if(function(e){for(var t=[],n=!1,r=0;r<e.children.length;r++){var o=e.children[r];if("TextNode"!==o.name&&!1!==o.flexItem){if("text"===o.name&&""!==o.text&&!o.width&&!o.height)return!1;void 0!==o.flexOrder&&(n=!0),t.push(o)}}n&&t.sort((function(e,t){return(e.flexOrder||0)-(t.flexOrder||0)}));var i=t.length,a="row"===(e.flexDirection||"row"),s=a?"width":"height",l=a?"height":"width",u=a?"marginLeft":"marginTop",c=a?"marginRight":"marginBottom",d=a?"x":"y",f=a?"y":"x",h=e[s]||0,p=e[l]||0,v=e.gap||0,g=e.justifyContent||"flexStart",y=e.alignItems,m=0;["center","spaceBetween","spaceEvenly"].includes(g)&&(m=t.reduce((function(e,t){return e+(t[s]||0)}),0));var x=p&&y?function(e){"flexStart"===y?e[f]=0:"center"===y?e[f]=(p-(e[l]||0))/2:"flexEnd"===y&&(e[f]=p-(e[l]||0))}:function(e){return e};if("flexStart"===g){var b=0;if(t.forEach((function(e){e[d]=b+(e[u]||0),b+=(e[s]||0)+v+(e[u]||0)+(e[c]||0),x(e)})),"fixed"!==e.flexBoundary){var w=b-v;if(w!==e[s])return e[s]=w,!0}}else if("flexEnd"===g)for(var k=h,A=i-1;A>=0;A--){var S=t[A];I(S),S[d]=k-(S[s]||0)-(S[c]||0),k-=(S[s]||0)+v+(S[u]||0)+(S[c]||0),x(S)}else if("center"===g){var C=(h-(m+v*(i-1)))/2;t.forEach((function(e){e[d]=C,C+=(e[s]||0)+v,x(e)}))}else if("spaceBetween"===g){var T=(h-m)/(i-1),_=0;t.forEach((function(e){e[d]=_,_+=(e[s]||0)+T,x(e)}))}else if("spaceEvenly"===g){var R=(h-m)/(i+1),B=R;t.forEach((function(e){e[d]=B,B+=(e[s]||0)+R,x(e)}))}return!1}(this)||r)null===(n=this.parent)||void 0===n||n.updateLayout()}else if(r){var o;null===(o=this.parent)||void 0===o||o.updateLayout()}nr(this.onLayout)&&this.onLayout.call(this,e,t)}}},{key:"_stateChanged",value:function(){var e=this;if(this.states,this.forwardStates){var t=this.states.slice();this.children.forEach((function(e){return e.states=t}))}var n=this.states;if(this._undoStyles||this.style&&function(e,t){var n,r=D(t);try{for(r.s();!(n=r.n()).done;)if(n.value in e)return!0}catch(o){r.e(o)}finally{r.f()}return!1}(this.style,n)){this._undoStyles=this._undoStyles||[];var r={};this._undoStyles.forEach((function(t){r[t]=e.style[t]}));var o=n.reduce((function(t,n){var r=e.style[n];return r&&(t=z(z({},t),r)),t}),{});this._undoStyles=Object.keys(o),void 0!==o.transition&&(this.transition=o.transition),Object.assign(this,r,o)}}},{key:"render",value:function(){var e=this,t=this.parent;if(t)if(t.lng)if(this.lng)console.warn("Node already rendered: ",this);else{t._isDirty&&(t.updateLayout(),t._isDirty=!1),this.states.length&&this._stateChanged();var n=e._renderProps;if(n.x=n.x||0,n.y=n.y||0,t.lng&&(n.parent=t.lng),e._effects&&(this.shader=sr(e._effects)),e.isTextNode()){if(tr.fontSettings)for(var r in tr.fontSettings)void 0===n[r]&&(n[r]=tr.fontSettings[r]);n.text=e.getText(),n.contain&&(n.width||(n.width=(t.width||0)-n.x-(n.marginRight||0),e._autosized=!0),"both"!==n.contain||n.height||n.maxLines||(n.height=(t.height||0)-n.y-(n.marginBottom||0),e._autosized=!0)),e.lng=Qn.createTextNode(n),n.width&&n.height||(e._autosized=!0,e._resizeOnTextLoad())}else n.texture||(isNaN(n.width)&&(n.width=(t.width||0)-n.x,e._autosized=!0),isNaN(n.height)&&(n.height=(t.height||0)-n.y,e._autosized=!0),n.color||n.src||(n.color=0)),e.lng=Qn.createNode(n);e.onFail&&e.lng.on("failed",e.onFail),e.onLoad&&e.lng.on("loaded",e.onLoad),nr(this.onCreate)&&this.onCreate.call(this,e),e.onEvents.forEach((function(t){var n,r=O(t,2),o=r[0],i=r[1];null===(n=e.lng)||void 0===n||n.on(o,(function(t,n){return i(e,n)}))})),e.lng.div&&(e.lng.div.solid=e),"text"!==e.name&&e.children.forEach((function(e){e.render?e.render():""!==e.text&&console.warn("TextNode outside of <Text>: ",e)})),e.autofocus&&e.setFocus(),delete this._renderProps}else console.warn("Parent not rendered yet: ",this);else console.warn("Parent not set - no node created for: ",this)}}]);var n}(m(Object)),cr=function(){var e=fr[dr];Object.defineProperty(ur.prototype,e,{get:function(){return this.lng?this.lng[e]:this._renderProps[e]},set:function(t){this._sendToLightningAnimatable(e,t)}})},dr=0,fr=["alpha","color","colorTop","colorRight","colorLeft","colorBottom","colorTl","colorTr","colorBl","colorBr","height","fontSize","lineHeight","mount","mountX","mountY","pivot","pivotX","pivotY","rotation","scale","width","worldX","worldY","x","y","zIndex","zIndexLocked"];dr<fr.length;dr++)cr();for(var hr=function(){var e=vr[pr];Object.defineProperty(ur.prototype,e,{get:function(){return this.lng?this.lng[e]:this._renderProps[e]},set:function(t){this._sendToLightning(e,t)}})},pr=0,vr=["autosize","clipping","contain","fontFamily","fontStretch","fontStyle","fontWeight","letterSpacing","maxLines","offsetY","overflowSuffix","rtt","scrollable","scrollY","src","text","textAlign","textBaseline","textOverflow","texture","verticalAlign","wordWrap"];pr<vr.length;pr++)hr();Object.defineProperties(ur.prototype,{borderRadius:{set:function(e){this._borderRadius=e,this.effects=z(z({},this.effects||{}),{radius:{radius:e}})},get:function(){return this._borderRadius}},border:lr(),borderLeft:lr("Left"),borderRight:lr("Right"),borderTop:lr("Top"),borderBottom:lr("Bottom")}),Object.defineProperties(ur.prototype,{linearGradient:{set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._linearGradient=e,this.effects=z(z({},this.effects||{}),{linearGradient:e})},get:function(){return this._linearGradient}}});var gr=function(e){return t=Sr("text"),Tr(t,e,!1),t;var t},yr=function(e){return t=Sr("node"),Tr(t,e,!1),t;var t};function mr(e){var t=e.createElement,n=e.createTextNode,r=e.isTextNode,o=e.replaceText,i=e.insertNode,a=e.removeNode,s=e.setProperty,l=e.getParentNode,u=e.getFirstChild,c=e.getNextSibling;function d(e,t,n,r){if(void 0===n||r||(r=[]),"function"!=typeof t)return f(e,t,r,n);Le((function(r){return f(e,t(),r,n)}),r)}function f(e,t,a,s,l){for(;"function"==typeof a;)a=a();if(t===a)return a;var c=typeof t,d=void 0!==s;if("string"===c||"number"===c)if("number"===c&&(t=t.toString()),d){var m=a[0];m&&r(m)?o(m,t):m=n(t),a=v(e,a,s,m)}else""!==a&&"string"==typeof a?o(u(e),a=t):(v(e,a,s,n(t)),a=t);else if(null==t||"boolean"===c)a=v(e,a,s);else{if("function"===c)return Le((function(){for(var n=t();"function"==typeof n;)n=n();a=f(e,n,a,s)})),function(){return a};if(Array.isArray(t)){var x=[];if(h(x,t,l))return Le((function(){return a=f(e,x,a,s,!0)})),function(){return a};if(0===x.length){var b=v(e,a,s);if(d)return a=b}else Array.isArray(a)?0===a.length?g(e,x,s):p(e,a,x):null==a||""===a?g(e,x):p(e,d&&a||[u(e)],x);a=x}else{if(Array.isArray(a)){if(d)return a=v(e,a,s,t);v(e,a,null,t)}else null!=a&&""!==a&&u(e)?y(e,t,u(e)):i(e,t);a=t}}return a}function h(e,t,r){for(var o=!1,i=0,a=t.length;i<a;i++){var s=t[i],l=void 0;if(null==s||!0===s||!1===s);else if(Array.isArray(s))o=h(e,s)||o;else if("string"==(l=typeof s)||"number"===l)e.push(n(s));else if("function"===l)if(r){for(;"function"==typeof s;)s=s();o=h(e,Array.isArray(s)?s:[s])||o}else e.push(s),o=!0;else e.push(s)}return o}function p(e,t,n){for(var r=n.length,o=t.length,s=r,l=0,u=0,d=c(t[o-1]),f=null;l<o||u<s;)if(t[l]!==n[u]){for(;t[o-1]===n[s-1];)o--,s--;if(o===l)for(var h=s<r?u?c(n[u-1]):n[s-u]:d;u<s;)i(e,n[u++],h);else if(s===u)for(;l<o;)f&&f.has(t[l])||a(e,t[l]),l++;else if(t[l]===n[s-1]&&n[u]===t[o-1]){var p=c(t[--o]);i(e,n[u++],c(t[l++])),i(e,n[--s],p),t[o]=n[s]}else{if(!f){f=new Map;for(var v=u;v<s;)f.set(n[v],v++)}var g=f.get(t[l]);if(null!=g)if(u<g&&g<s){for(var m=l,x=1,b=void 0;++m<o&&m<s&&null!=(b=f.get(t[m]))&&b===g+x;)x++;if(x>g-u)for(var w=t[l];u<g;)i(e,n[u++],w);else y(e,n[u++],t[l++])}else l++;else a(e,t[l++])}}else l++,u++}function v(e,t,r,o){if(void 0===r){for(var s;s=u(e);)a(e,s);return o&&i(e,o),""}var c=o||n("");if(t.length)for(var d=!1,f=t.length-1;f>=0;f--){var h=t[f];if(c!==h){var p=l(h)===e;d||f?p&&a(e,h):p?y(e,c,h):i(e,c,r)}else d=!0}else i(e,c,r);return[c]}function g(e,t,n){for(var r=0,o=t.length;r<o;r++)i(e,t[r],n)}function y(e,t,n){i(e,t,n),a(e,n)}function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t||(t={}),(arguments.length>3?arguments[3]:void 0)||Le((function(){return n.children=f(e,t.children,n.children)})),Le((function(){return t.ref&&t.ref(e)})),Le((function(){for(var r in t)if("children"!==r&&"ref"!==r){var o=t[r];o!==n[r]&&(s(e,r,o,n[r]),n[r]=o)}})),n}return{render:function(e,t){var n;return Ee((function(r){n=r,d(t,e())})),n},insert:d,spread:function(e,t,n){"function"==typeof t?Le((function(r){return m(e,t(),r,n)})):m(e,t,void 0,n)},createElement:t,createTextNode:n,insertNode:i,setProp:function(e,t,n,r){return s(e,t,n,r),n},mergeProps:yt,effect:Le,memo:Me,createComponent:ft,use:function(e,t,n){return De((function(){return e(t,n)}))}}}var xr={createElement:function(e){return new ur(e)},createTextNode:function(e){return{name:"TextNode",text:e,parent:void 0}},replaceText:function(e,t){e.text=t;var n=e.parent;I(n),n.text=n.getText()},setProperty:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e[t]=n},insertNode:function(e,t,n){e.children.insert(t,n),t._queueDelete=!1,t instanceof ur?e.lng&&t.render():e.isTextNode()&&(e.text=e.getText())},isTextNode:function(e){return e.isTextNode()},removeNode:function(e,t){e.children.remove(t),t._queueDelete=!0,t instanceof ur&&queueMicrotask((function(){return t.destroy()}))},getParentNode:function(e){return e.parent},getFirstChild:function(e){return e.children[0]},getNextSibling:function(e){var t=e.parent.children||[],n=t.indexOf(e)+1;if(n<t.length)return t[n]}},br=function(e){var t=mr(e);return t.mergeProps=yt,t}(xr),wr=function(){var e=w(x().mark((function e(t,n){var r,o,i;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jn(tr.rendererOptions,n),e.next=3,r.init();case 3:return(o=new ur("App")).lng=r.root,i=br.render(t,o),e.abrupt("return",{dispose:i,rootNode:o,renderer:r});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),kr=(br.effect,br.memo),Ar=br.createComponent,Sr=br.createElement,Cr=(br.createTextNode,br.insertNode,br.insert),Tr=br.spread,_r=br.setProp,Rr=br.mergeProps,Ir=br.use;function Br(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e=t,Number.isInteger(e)?t:"string"==typeof t?t.startsWith("#")?Number(t.replace("#","0x")+(7===t.length?"ff":"")):t.startsWith("0x")?Number(t):Number("0x"+(6===t.length?t+"ff":t)):0}var Er="_$DX_DELEGATE";function Nr(e){var t=`$$${e.type}`,n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get:function(){return n||document}});n;){var r=n[t];if(r&&!n.disabled){var o=n[`${t}Data`];if(void 0!==o?r.call(n,o,e):r.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}var Fr;function Lr(){var e=new Set;var t=!1;return{subscribe:function(t){return e.add(t),function(){return e.delete(t)}},confirm:function(n,r){if(t)return!(t=!1);var o,i={to:n,options:r,defaultPrevented:!1,preventDefault:function(){return i.defaultPrevented=!0}},a=D(e);try{var s=function(){var e=o.value;e.listener(z(z({},i),{},{from:e.location,retry:function(o){o&&(t=!0),e.navigate(n,z(z({},r),{},{resolve:!1}))}}))};for(a.s();!(o=a.n()).done;)s()}catch(l){a.e(l)}finally{a.f()}return!i.defaultPrevented}}}function zr(){window.history.state&&null!=window.history.state._depth||window.history.replaceState(z(z({},window.history.state),{},{_depth:window.history.length-1}),""),Fr=window.history.state._depth}zr();var Mr=/^(?:[a-z0-9]+:)?\/\//i,Pr=/^\/+|(\/)\/+$/g,Or="http://sr";function Dr(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.replace(Pr,"$1");return n?t||/^[?#]/.test(n)?n:"/"+n:""}function Ur(e,t,n){if(!Mr.test(t)){var r=Dr(e),o=n&&Dr(n),i="";return((i=!o||t.startsWith("/")?r:0!==o.toLowerCase().indexOf(r.toLowerCase())?r+o:o)||"/")+Dr(t,!i)}}function Wr(e){var t={};return e.searchParams.forEach((function(e,n){t[n]=e})),t}function jr(e,t,n){var r=O(e.split("/*",2),2),o=r[0],i=r[1],a=o.split("/").filter(Boolean),s=a.length;return function(e){var r=e.split("/").filter(Boolean),o=r.length-s;if(o<0||o>0&&void 0===i&&!t)return null;for(var l={path:s?"":"/",params:{}},u=function(e){return void 0===n?void 0:n[e]},c=0;c<s;c++){var d=a[c],f=r[c],h=":"===d[0],p=h?d.slice(1):d;if(h&&Yr(f,u(p)))l.params[p]=f;else if(h||!Yr(f,d))return null;l.path+=`/${f}`}if(i){var v=o?r.slice(-o).join("/"):"";if(!Yr(v,u(i)))return null;l.params[i]=v}return l}}function Yr(e,t){var n=function(t){return 0===t.localeCompare(e,void 0,{sensitivity:"base"})};return void 0===t||("string"==typeof t?n(t):"function"==typeof t?t(e):Array.isArray(t)?t.some(n):t instanceof RegExp&&t.test(e))}function Hr(e){var t=new Map,n=Ye();return new Proxy({},{get:function(r,o){return t.has(o)||He(n,(function(){return t.set(o,Me((function(){return e()[o]})))})),t.get(o)()},getOwnPropertyDescriptor:function(){return{enumerable:!0,configurable:!0}},ownKeys:function(){return Reflect.ownKeys(e())}})}function Qr(e){var t=/(\/?\:[^\/]+)\?/.exec(e);if(!t)return[e];for(var n=e.slice(0,t.index),r=e.slice(t.index+t[0].length),o=[n,n+=t[1]];t=/^(\/\:[^\/]+)\?/.exec(r);)o.push(n+=t[1]),r=r.slice(t[0].length);return Qr(r).reduce((function(e,t){return[].concat(F(e),F(o.map((function(e){return e+t}))))}),[])}var Kr,$r=Ke(),Xr=Ke(),Gr=function(){return function(e,t){if(null==e)throw new Error(t);return e}($e($r),"<A> and 'use' router primitives can be only used inside a Route.")},Vr=function(){return Gr().navigatorFactory()},Zr=function(){return Gr().location},qr=function(){return Gr().params};function Jr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e.component,r=e.load,o=e.children,i=e.info,a=!o||Array.isArray(o)&&!o.length,s={key:e,component:n,load:r,info:i};return to(e.path).reduce((function(n,r){var o,i,l=D(Qr(r));try{for(l.s();!(o=l.n()).done;){var u=o.value,c=(i=u,Dr(t).replace(/\/*(\*.*)?$/g,"")+Dr(i)),d=a?c:c.split("/*",1)[0];d=d.split("/").map((function(e){return e.startsWith(":")||e.startsWith("*")?e:encodeURIComponent(e)})).join("/"),n.push(z(z({},s),{},{originalPath:u,pattern:d,matcher:jr(d,!a,e.matchFilters)}))}}catch(f){l.e(f)}finally{l.f()}return n}),[])}function eo(e){var t,n,r,o,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{routes:e,score:1e4*(t=e[e.length-1],n=O(t.pattern.split("/*",2),2),r=n[0],o=n[1],i=r.split("/").filter(Boolean),i.reduce((function(e,t){return e+(t.startsWith(":")?2:3)}),i.length-(void 0===o?0:1)))-a,matcher:function(t){for(var n=[],r=e.length-1;r>=0;r--){var o=e[r],i=o.matcher(t);if(!i)return null;n.unshift(z(z({},i),{},{route:o}))}return n}}}function to(e){return Array.isArray(e)?e:[e]}function no(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=to(e),i=0,a=o.length;i<a;i++){var s=o[i];if(s&&"object"==typeof s){s.hasOwnProperty("path")||(s.path="");var l,u=D(Jr(s,t));try{for(u.s();!(l=u.n()).done;){var c=l.value;n.push(c);var d=Array.isArray(s.children)&&0===s.children.length;if(s.children&&!d)no(s.children,c.pattern,n,r);else{var f=eo(F(n),r.length);r.push(f)}n.pop()}}catch(h){u.e(h)}finally{u.f()}}}return n.length?r:r.sort((function(e,t){return t.score-e.score}))}function ro(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n].matcher(t);if(o)return o}return[]}function oo(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=O(e.signal,2),i=o[0],a=o[1],s=e.utils,l=void 0===s?{}:s,u=l.parsePath||function(e){return e},c=l.renderPath||function(e){return e},d=l.beforeLeave||Lr(),f=Ur("",r.base||"");if(void 0===f)throw new Error(`${f} is not a valid base path`);f&&!i().value&&a({value:f,replace:!0,scroll:!1});var h=O(Ne(!1),2),p=h[0],v=h[1],g=function(){var e=w(x().mark((function e(t){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.prev=1,e.next=4,Qe(t);case 4:return e.prev=4,v(!1),e.finish(4);case 7:case"end":return e.stop()}}),e,null,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}(),y=O(Ne(i().value),2),m=y[0],b=y[1],k=O(Ne(i().state),2),A=k[0],S=k[1],C=function(e,t){var n=new URL(Or),r=Me((function(t){var r=e();try{return new URL(r,n)}catch(o){return console.error(`Invalid path ${r}`),t}}),n,{equals:function(e,t){return e.href===t.href}}),o=Me((function(){return r().pathname})),i=Me((function(){return r().search}),!0),a=Me((function(){return r().hash}));return{get pathname(){return o()},get search(){return i()},get hash(){return a()},get state(){return t()},get key(){return""},query:Hr(Ue(i,(function(){return Wr(r())})))}}(m,A),T=[],_=Ne([]),R=Me((function(){return ro(t(),C.pathname)})),I=Hr((function(){for(var e=R(),t={},n=0;n<e.length;n++)Object.assign(t,e[n].params);return t})),B={pattern:f,path:function(){return f},outlet:function(){return null},resolvePath:function(e){return Ur(f,e)}};return Le((function(){var e=i(),t=e.value,n=e.state;De((function(){t!==m()&&g((function(){Kr="native",b(t),S(n),_[1]([])})).then((function(){Kr=void 0}))}))})),{base:B,location:C,params:I,isRouting:p,renderPath:c,parsePath:u,navigatorFactory:function(e){return e=e||$e(Xr)||B,function(t,n){return function(e,t,n){De((function(){if("number"!=typeof t){var r=z({replace:!1,resolve:!0,scroll:!0},n),o=r.replace,i=r.resolve,s=r.scroll,u=r.state,c=i?e.resolvePath(t):Ur("",t);if(void 0===c)throw new Error(`Path '${t}' is not a routable path`);if(T.length>=100)throw new Error("Too many redirects");var f=m();if((c!==f||u!==A())&&d.confirm(c,n)){var h=T.push({value:f,replace:o,scroll:s,state:A()});g((function(){Kr="navigate",b(c),S(u),_[1]([])})).then((function(){var e,t;T.length===h&&(Kr=void 0,e={value:c,state:u},(t=T[0])&&(e.value===t.value&&e.state===t.state||a(z(z({},e),{},{replace:t.replace,scroll:t.scroll})),T.length=0))}))}}else t&&(l.go?l.go(t):console.warn("Router integration does not support relative routing"))}))}(e,t,n)}},matches:R,beforeLeave:d,preloadRoute:function(e,r){var o=ro(t(),e.pathname),i=Kr;Kr="preload";var a=function(){var t=o[s],i=t.route,a=t.params;i.component&&i.component.preload&&i.component.preload();var l=i.load;r&&l&&He(n(),(function(){return l({params:a,location:{pathname:e.pathname,search:e.search,hash:e.hash,query:Wr(e),state:null,key:""},intent:"preload"})}))};for(var s in o)a();Kr=i},singleFlight:void 0===r.singleFlight||r.singleFlight,submissions:_}}var io=function(e){return function(t){var n,r=t.base,o=Xe((function(){return t.children})),i=Me((function(){return no(o(),t.base||"")})),a=oo(e,i,(function(){return n}),{base:r,singleFlight:t.singleFlight});return e.create&&e.create(a),Ar($r.Provider,{value:a,get children(){return Ar(ao,{routerState:a,get root(){return t.root},get load(){return t.rootLoad},get children(){return[kr((function(){return(n=Ye())&&null})),Ar(so,{routerState:a,get branches(){return i()}})]}})}})}};function ao(e){var t=e.routerState.location,n=e.routerState.params,r=Me((function(){return e.load&&De((function(){return e.load({params:n,location:t,intent:"preload"})}))}));return Ar(bt,{get when(){return e.root},keyed:!0,get fallback(){return e.children},children:function(o){return Ar(o,{params:n,location:t,get data(){return r()},get children(){return e.children}})}})}function so(e){var t,n=[],r=Me(Ue(e.routerState.matches,(function(o,i,a){for(var s=i&&o.length===i.length,l=[],u=function(t){var u=i&&i[t],c=o[t];a&&u&&c.route.key===u.route.key?l[t]=a[t]:(s=!1,n[t]&&n[t](),Ee((function(o){n[t]=o,l[t]=function(e,t,n,r){var o=e.base,i=e.location,a=e.params,s=r().route,l=s.pattern,u=s.component,c=s.load,d=Me((function(){return r().path}));u&&u.preload&&u.preload();var f=c?c({params:a,location:i,intent:Kr||"initial"}):void 0;return{parent:t,pattern:l,path:d,outlet:function(){return u?ft(u,{params:a,location:i,data:f,get children(){return n()}}):n()},resolvePath:function(e){return Ur(o.path(),e,d())}}}(e.routerState,l[t-1]||e.routerState.base,lo((function(){return r()[t+1]})),(function(){return e.routerState.matches()[t]}))})))},c=0,d=o.length;c<d;c++)u(c);return n.splice(o.length).forEach((function(e){return e()})),a&&s?a:(t=l[0],l)})));return lo((function(){return r()&&t}))()}var lo=function(e){return function(){return Ar(bt,{get when(){return e()},keyed:!0,children:function(e){return Ar(Xr.Provider,{value:e,get children(){return e.outlet()}})}})}},uo=function(e){var t=Xe((function(){return e.children}));return yt(e,{get children(){return t()}})};function co(e){var t=!1,n=function(e){return"string"==typeof e?{value:e}:e},r=function(e,t,n){var r=O(e,2),o=r[0],i=r[1];return[t?function(){return t(o())}:o,n?function(e){return i(n(e))}:i]}(Ne(n(e.get()),{equals:function(e,t){return e.value===t.value}}),void 0,(function(n){return!t&&e.set(n),n}));return e.init&&je(e.init((function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.get();t=!0,r[1](n(o)),t=!1}))),io({signal:r,create:e.create,utils:e.utils})}function fo(e,t){var n=function(e){if("#"===e)return null;try{return document.querySelector(e)}catch(t){return null}}(`#${e}`);n?n.scrollIntoView():t&&window.scrollTo(0,0)}var ho=new Map;function po(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/_server";return function(r){var o=r.base.path(),i=r.navigatorFactory(r.base),a={};function s(e){if(!(e.defaultPrevented||0!==e.button||e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)){var n=e.composedPath().find((function(e){return e instanceof Node&&"A"===e.nodeName.toUpperCase()}));if(n&&(!t||n.hasAttribute("link"))){var r="http://www.w3.org/2000/svg"===n.namespaceURI,i=r?n.href.baseVal:n.href;if(!(r?n.target.baseVal:n.target)&&(i||n.hasAttribute("state"))){var a=(n.getAttribute("rel")||"").split(/\s+/);if(!(n.hasAttribute("download")||a&&a.includes("external"))){var s=r?new URL(i,document.baseURI):new URL(i);if(!(s.origin!==window.location.origin||o&&s.pathname&&!s.pathname.toLowerCase().startsWith(o.toLowerCase())))return[n,s]}}}}}function l(e){var t=s(e);if(t){var n=O(t,2),o=n[0],a=n[1],l=r.parsePath(a.pathname+a.search+a.hash),u=o.getAttribute("state");e.preventDefault(),i(l,{resolve:!1,replace:o.hasAttribute("replace"),scroll:!o.hasAttribute("noscroll"),state:u&&JSON.parse(u)})}}function u(e){var t=s(e);if(t){var n=O(t,2),o=n[0],i=n[1];a[i.pathname]||r.preloadRoute(i,"false"!==o.getAttribute("preload"))}}function c(e){var t=s(e);if(t){var n=O(t,2),o=n[0],i=n[1];a[i.pathname]||(a[i.pathname]=setTimeout((function(){r.preloadRoute(i,"false"!==o.getAttribute("preload")),delete a[i.pathname]}),200))}}function d(e){var t=s(e);if(t){var n=O(t,2)[1];a[n.pathname]&&(clearTimeout(a[n.pathname]),delete a[n.pathname])}}function f(e){var t=e.submitter&&e.submitter.hasAttribute("formaction")?e.submitter.getAttribute("formaction"):e.target.getAttribute("action");if(t){if(!t.startsWith("https://action/")){var o=new URL(t,Or);if(!(t=r.parsePath(o.pathname+o.search)).startsWith(n))return}if("POST"!==e.target.method.toUpperCase())throw new Error("Only POST forms are supported for Actions");var i=ho.get(t);if(i){e.preventDefault();var a=new FormData(e.target);e.submitter&&e.submitter.name&&a.append(e.submitter.name,e.submitter.value),i.call({r:r,f:e.target},a)}}}!function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.document,n=t[Er]||(t[Er]=new Set),r=0,o=e.length;r<o;r++){var i=e[r];n.has(i)||(n.add(i),t.addEventListener(i,Nr))}}(["click","submit"]),document.addEventListener("click",l),e&&(document.addEventListener("mouseover",c),document.addEventListener("mouseout",d),document.addEventListener("focusin",u),document.addEventListener("touchstart",u)),document.addEventListener("submit",f),je((function(){document.removeEventListener("click",l),e&&(document.removeEventListener("mouseover",c),document.removeEventListener("mouseout",d),document.removeEventListener("focusin",u),document.removeEventListener("touchstart",u)),document.removeEventListener("submit",f)}))}}function vo(e){var t=e.replace(/^.*?#/,"");if(!t.startsWith("/")){var n=O(window.location.hash.split("#",2),2)[1];return`${void 0===n?"/":n}#${t}`}return t}function go(e){var t=function(){return window.location.hash.slice(1)},n=Lr();return co({get:t,set:function(e){var t=e.value,n=e.replace,r=e.scroll,o=e.state;n?window.history.replaceState(function(e){return z(z({},e),{},{_depth:window.history.state&&window.history.state._depth})}(o),"","#"+t):window.location.hash=t;var i=t.indexOf("#");fo(i>=0?t.slice(i+1):"",r),zr()},init:function(e){return r=window,o="hashchange",i=function(e,t){var n=!1;return function(){var r=Fr;zr();var o=null==r?null:Fr-r;n?n=!1:o&&t(o)?(n=!0,window.history.go(-o)):e()}}(e,(function(e){return!n.confirm(e&&e<0?e:t())})),r.addEventListener(o,i),function(){return r.removeEventListener(o,i)};var r,o,i},create:po(e.preload,e.explicitLinks,e.actionBase),utils:{go:function(e){return window.history.go(e)},renderPath:function(e){return`#${e}`},parsePath:vo,beforeLeave:n}})(e)}var yo=je;function mo(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ye(),o=0;return function(){return o++,je((function(){o--,queueMicrotask((function(){!o&&n&&(n(),n=t=void 0)}))})),n||Ee((function(r){return t=e(n=r)}),r),t}}var xo=mo((function(){var e,t,n,r,o=O(Ne(null),2),i=o[0],a=o[1];return e=window,t="keydown",n=function(e){a(e),setTimeout((function(){return a(null)}))},e.addEventListener(t,n,r),yo(e.removeEventListener.bind(e,t,n,r)),i}));function bo(e){return"function"==typeof e}var wo,ko={ArrowLeft:"Left",ArrowRight:"Right",ArrowUp:"Up",ArrowDown:"Down",Enter:"Enter",l:"Last"," ":"Space",Backspace:"Back",Escape:"Escape"},Ao=O(Ne([]),2),So=Ao[0],Co=Ao[1],To=function(e){var t=xo();if(e)for(var n=function(){var e,t=O(o[r],2),n=t[0],i=t[1];e=i,Array.isArray(e)?i.forEach((function(e){ko[e]=n})):ko[i]=n},r=0,o=Object.entries(e);r<o.length;r++)n();return ze(Ue(kt,(function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=e,o=[];r;)r.states.has("focus")||(r.states.add("focus"),bo(r.onFocus)&&r.onFocus.call(r,e,t)),o.push(r),r=r.parent;return n.forEach((function(n){o.includes(n)||(n.states.remove("focus"),bo(n.onBlur)&&n.onBlur.call(n,e,t))})),Co(o),o}),{defer:!0})),ze((function(){var e=t();if(e){var n=ko[e.key]||ko[e.keyCode];De((function(){var t,r=void 0,o=D(So());try{for(o.s();!(t=o.n()).done;){var i=t.value;if(r=r||i,n){var a=i[`on${n}`];if(bo(a)&&!0===a.call(i,e,i,r))break}else console.log(`Unhandled key event: ${e.key}`);if(bo(i.onKeyPress)&&!0===i.onKeyPress.call(i,e,n,i,r))break}}catch(s){o.e(s)}finally{o.f()}return!1}))}})),So};function _o(e,t){var n,r,o,i,a=t();if(Array.isArray(a))if(2===a.length)n=i=a[0],r=o=a[1];else if(3===a.length)n=a[0],r=o=a[1],i=a[2];else{var s=O(a,4);n=s[0],o=s[1],i=s[2],r=s[3]}else n=o=i=r=a;e.onBeforeLayout=function(t,a){if(a){e.width=e.children.reduce((function(e,t){return e+(t.width||0)}),0)+r+o;var s=e.children[0];s&&(s.x=r,s.marginLeft=r);var l=0;return e.children.forEach((function(e){e.y=n,e.marginTop=n,l=Math.max(l,e.height||0)})),e.height=l+n+i,!0}}}function Ro(e){return new Promise((function(t){setTimeout(t,e)}))}function Io(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en-US",r=window.speechSynthesis;return new Promise((function(o,i){var a=new SpeechSynthesisUtterance(e);a.lang=n,a.onend=function(){o()},a.onerror=function(e){i(e)},t.push(a),r.speak(a)}))}function Bo(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=window.speechSynthesis,o=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[];for(e=0;e<t.length;e++){var r=t[e];if("string"!=typeof r||r.includes("PAUSE-"))break;n.push(t[e])}return[n.join(",\b ")].concat(t.slice(e))}(Array.isArray(e)?e:[e]),i=[],a=[],s=!0;return{series:w(x().mark((function e(){var n,r,l,u,c,d;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;case 1:if(!s||!o.length){e.next=62;break}return e.next=4,Promise.resolve(o.shift());case 4:if(n=e.sent,s){e.next=9;break}return e.abrupt("break",62);case 9:if("string"!=typeof n||!n.includes("PAUSE-")){e.next=16;break}return r=1e3*Number(n.split("PAUSE-")[1]),isNaN(r)&&(r=0),e.next=14,Ro(r);case 14:e.next=60;break;case 16:if("string"!=typeof n||!n.length){e.next=48;break}u=l=3;case 19:if(!(s&&u>0)){e.next=46;break}return e.prev=20,e.next=23,Io(n,a,t);case 23:u=0,e.next=44;break;case 26:if(e.prev=26,e.t0=e.catch(20),!(e.t0 instanceof SpeechSynthesisErrorEvent)){e.next=43;break}if("network"!==e.t0.error){e.next=36;break}return u--,console.warn(`Speech synthesis network error. Retries left: ${u}`),e.next=34,Ro(500*(l-u));case 34:e.next=41;break;case 36:if("canceled"!==e.t0.error&&"interrupted"!==e.t0.error){e.next=40;break}u=0,e.next=41;break;case 40:throw new Error(`SpeechSynthesisErrorEvent: ${e.t0.error}`);case 41:e.next=44;break;case 43:throw e.t0;case 44:e.next=19;break;case 46:e.next=60;break;case 48:if("function"!=typeof n){e.next=55;break}return c=Bo(n(),t,!1),i.push(c),e.next=53,c.series;case 53:e.next=60;break;case 55:if(!Array.isArray(n)){e.next=60;break}return d=Bo(n,t,!1),i.push(d),e.next=60,d.series;case 60:e.next=1;break;case 62:return e.prev=62,s=!1,e.finish(62);case 65:case"end":return e.stop()}}),e,null,[[0,,62,65],[20,26]])})))(),get active(){return s},append:function(e){o.push(e)},cancel:function(){s&&(n&&r.cancel(),i.forEach((function(e){e.cancel()})),s=!1)}}}function Eo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";return wo&&wo.cancel(),wo=Bo(e,t)}var No,Fo,Lo=function(e,t){var n,r=function(){return clearTimeout(n)};Ye()&&je(r);return Object.assign((function(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];void 0!==n&&r(),n=setTimeout((function(){return e.apply(void 0,i)}),t)}),{clear:r})},zo=[],Mo=!1;function Po(e,t){var n,r=Lo(e,t),o=function(e){n=e,r(e)};return o.flush=function(){r.clear(),e(n)},o.clear=r.clear,o}function Oo(e){return e.id||e.name}function Do(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(Uo.onFocusChange&&Uo.enabled){var t=e.every((function(e){return!e.loading})),n=e.filter((function(e){return!zo.includes(e)}));if(No(),t||!Uo.onFocusChange){zo=e.slice(0);var r=[],o=n.reduce((function(e,t){return t.announce?(e.push([Oo(t),"Announce",t.announce]),r.push(t.announce)):t.title?(e.push([Oo(t),"Title",t.title]),r.push(t.title)):e.push([Oo(t),"No Announce",""]),e}),[]);return n.reverse().reduce((function(e,t){return t.announceContext?(e.push([Oo(t),"Context",t.announceContext]),r.push(t.announceContext)):e.push([Oo(t),"No Context",""]),e}),o),Uo.debug&&console.table(o),r.length?Uo.speak(r.reduce((function(e,t){return e.concat(t)}),[])):void 0}Uo.onFocusChange([])}}var Uo={debug:!1,enabled:!0,cancel:function(){Fo&&Fo.cancel()},clearPrevFocus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;zo=zo.slice(0,e),No()},speak:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.append,o=void 0!==r&&r,i=n.notification,a=void 0!==i&&i;Uo.onFocusChange&&Uo.enabled&&(Uo.onFocusChange.flush(),o&&Fo&&Fo.active?Fo.append(e):(Uo.cancel(),function(e){if(!Mo)Fo=Eo(e)}(e)),a&&(Mo=!0,null===(t=Fo)||void 0===t||t.series.finally((function(){Mo=!1,Uo.refresh()})).catch(console.error)));return Fo},refresh:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;Uo.clearPrevFocus(e),Uo.onFocusChange&&Uo.onFocusChange(De((function(){return So()})))},setupTimers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.focusDebounce,n=void 0===t?400:t,r=e.focusChangeTimeout,o=void 0===r?3e5:r;Uo.onFocusChange=Po(Do,n),No=Po((function(){zo=[]}),o)}};var Wo,jo,Yo,Ho,Qo,Ko,$o,Xo,Go,Vo,Zo,qo,Jo,ei,ti,ni,ri,oi,ii=O(Ne(""),2),ai=ii[0],si=ii[1],li={name:"Base Lightning TV",alpha:{primary:1,secondary:.7,tertiary:.1,inactive:.5,full:1,none:0,alpha1:.1,alpha2:.3,alpha3:.5,alpha4:.7,alpha5:.9},animation:{duration:{none:0,xfast:.1,fast:.25,normal:.5,slow:.75,xslow:.9},delay:{none:0,xfast:.01,fast:.025,normal:.05,slow:.075,xslow:.09},expressive:{timingFunction:"cubic-bezier(0, 0, 1, 1)",delay:0,duration:.25},expressiveEntrance:{timingFunction:"cubic-bezier(0, 0, 1, 1)",delay:0,duration:.25},expressiveExit:{timingFunction:"cubic-bezier(0, 0, 1, 1)",delay:0,duration:.25},standard:{timingFunction:"cubic-bezier(0, 0, 1, 1)",delay:0,duration:.25},standardEntrance:{timingFunction:"cubic-bezier(0, 0, 1, 1)",delay:0,duration:.25},standardExit:{timingFunction:"cubic-bezier(0, 0, 1, 1)",delay:0,duration:.25},utility:{timingFunction:"cubic-bezier(0, 0, 1, 1)",delay:0,duration:.25},utilityEntrance:{timingFunction:"cubic-bezier(0, 0, 1, 1)",delay:0,duration:.25},utilityExit:{timingFunction:"cubic-bezier(0, 0, 1, 1)",delay:0,duration:.25}},asset:{arrowLeft:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGKADAAQAAAABAAAAGAAAAADiNXWtAAAAi0lEQVRIDWNgGAWjIfD//38JID5Fk5AAGqwKxPeA+D/VLQCaaQLEr0CGgwBVLQCa5wbEn0EGwwDVLAAaGA3Ev2AGw2iqWAA0rBiI/8EMRaYptgBoWDeygehsci1gIlcjWfqArqZdEMFcBLSEdpGMZAntkimSJbTLaEiW0K6oQLKEdoUdzJJRemiHAAD4n+yzPWCs7QAAAABJRU5ErkJggg==",arrowRight:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGKADAAQAAAABAAAAGAAAAADiNXWtAAAAg0lEQVRIDWNgGAWjIYArBP7//38KiCVwyVMsDjQcBO4BsSrFhmEzAGw8hHgFpEywqaFIDMkCEPMzELtRZCC6ZjQLQNxfQByNro5sPhYLQEL/gLiYbEORNeKwACbcDVPLBGMMOhrmVDSapkFE00imaTKlaUajaVFB28Ju0CXrUQfhDAEAEgHss6NhpLQAAAAASUVORK5CYII=",backspaceOutline:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAACQCAYAAADnRuK4AAAAAXNSR0IArs4c6QAACmpJREFUeF7tnVmoZUcVhv/feY4gBEVEH/KgCCZxCK2itNo4xQQH+kUN0TjEiDGKKBqnaExwBjUaR6KY+NQgiQkOMSYhYEScIopGJOqDE2hHjfP0y4p1Oqdv33v2qr32Prv2Paug6Ye7Vu2qv75TtWvtGohMqUBAAQZ80zUVQAKUEIQUSIBC8qVzApQMhBRIgELypXMClAyEFEiAQvKlcwKUDIQUSIBC8qVzApQMhBRIgELypXMClAyEFEiAQvKlcwKUDIQUSIBC8qVzApQMhBRIgELypXMClAyEFEiAQvKlcwKUDIQUSIBC8qVzApQMhBRIgELypXMClAyEFEiAQvKlcwKUDIQUSIBC8qVzApQMhBRIgELypfPsAJJ0NYC92XRHKPB3AAfLv18BuBLAFSR/NKZWswJI0vkA3jCmILsw75sAvIfkR8eo22wAknQSgMvGEGFD8vwxgFeQvGrI+s4CIEnHAPgugHsMWfkNzevDAM4i+Z8h6t88QJLuXOB5yBAVzjxuVeBaAM8ieXNUjzkAdAmA50Yrmv5HKPATACeQ/GNEm6YBkvRyANblZhpHAXsfekpkOGsWIEmPAHA9gDuOo13mWhS4gOSZfdVoEiBJ9wFwA4D7961Y+lUpsK/v7KxVgL4K4ElOCS4l+Uyn7a41k3Q0gMcC2ANgH4CHV1T2OyStx69OzQEk6TwAZztr8lMAx5P8s9N+Y8wk2cTjfQDu66z080h+zml7yKwpgCSdCOByZyX+BuBRJH/otN84M0kWN/s0gOc4Kv8Nko922B1m0gxAkh4I4AcVwcL9JA/UVnjT7CXdHYD9yEzfVUkAjib5uxqNmgCoBAu/CeBhzsJ/kORZTtuNN5Nk70bXAZ0Hy59G8qIawVoB6LMAnu8suE3tH0/y3077NAMg6esAuoaoC0la7M2dJgdI0ssAXOgs8W8BHEvS/s9UoYCkdwN4bYfL5STto7U7TQpQZbDQehzreawHylSpgKSTAVza4XYDyeNqsp4MoB7BwteQfH9N5dL2NgWK3l0vyAdJWhDXnSYBSNLtANh3GO/KwgMk97trlYbbKiDJPpzea5U8JKuYqDIeql0kvQPAG5352ZLMR5L8q9M+zXZQYFcAJOnJAL7sbGWLMFuk2SLOmYIKzB6gEiz8HoB7O7U4meQXnLZp1qGApD8BuOcsh7AewcL3kuyadg4OjSSbhRxH0j4BjJok2Ufga0j+YdQHlcznDlBNsPAa+xpP8r/rEHbxjAKPbRuyHvKFY0Ik6QUALOprPfIT1gHRbAGSdDoA77aSX5Zg4e8nhGfx6FEgWoJn8Zy1QCTplq5vjc3NwnoEC/eQ/HYD8IwC0TbwrA2i2QHUI1h4JskLGoJnUIhWwLMWiGYFkCSLMX2t5WDhlneeLm5Dw5kDntEhkmRhEVvesWNqZgiTdC6AN3W1Svn72oOFkuxF+WcVIQUrai+IKuA5BBHJ453auc1mA1AJFn7Jsf7EKj9ZsLBHw1ZDtI5neAmaBUBzCxaO2cBj5u2FZtlO0l8A3K3ZIaxHsPB8kt5vYn00c/mM0dBj5OmqzAqjOQDUfLBwJ32HbPAh84pCM5seSNJLAHzcWeFJgoVdZRui4YfIo6ucff8uyVY03LW5IawyWPgvW5u77mChV/QIABFfb/kidk0CVKbDth3Huw35dJLeniqiV2/fniDYx1f7vlWTeoUFah6wZQhrqwcqwUKbrtsaH0+6mOQpHsOpbXpCVFPstcJjBZNkmzHv0swQJultAN7iVO375TyafzjtJzcbEaK1w9McQJXBQlvvYmtsfjE5FZUFGAGiSeBpCqDKYKFtmX0qya9Utl0z5gNCNBk8BSA7CtiODNwxjf4trEew8BySNtTNOg0A0aTwtARQTbDQeh3rfawXmn0KQDQ5PC0B9EkAL3LSkAD9X6hWALIJzJ3mNoSdS9I7U3NyuX6zQO+zKOzkEEmaHqDSFdpZM97tOfkSfRvvk0LUDEAFIgseetf85DS+AYgk/bPr1NvRZ2HLg4ektwI4xzmgZCBxYohaBMjWPeenDOcvaIvZ2oez5gAqQ5mtLbb3oa4z+Bb6nTHW1UP92vFIr54vzJ8BcGplGdYKkSRbCXGHSWdh2z1ckp1taGccroxyFt9cznG4iGuDqFmASk9kZxxakNGTckHZBBA1DVCB6BMAXuwhyA4VmGL/+05l6zlsbdt7DJmXU0uXmSQ7JvD2zQ1hiwJJsotRvlVxXO87SU5+heUYDT5Gni5KVhg1D1DphWqCjOYy6RlAYzb0mHn3gWkWABWIaoKMubHwSBpGebGWZNdc2vmUO6a1BhJXFUSSff/yLuOYamvzzwEcVfFr7tWwPXqi6uN2PXWYG0C1Qca1n8RaDlewl3kPRL3gWXo/XBwo1dXWdk/a3jEOnJoVQGUoqw0yvpLkh7oUHvLvTohC8FRANBo8pT3sxLeVJ/M2M4QtiVYTZJzkNPoOiAaBxwHRqPDMFqBS8Jog4yT3YewA0aDwrIBodHhmDVApvG0mtO3PnjTJjTxbIBoFnm0gWgs8pQ06lxY3N4QtCWZBRgPDezdnHvPr+alV2EiaL0DlF2Dbn20bdB40XtHwQ5nOHqAC0SyCjEM1Wkv57AqACkRvBvB2p7hrDzI6yzU7s90EUPNBxtnR4SjwrgGo9EK1Qca8cM4ByU4mkuz++F93ZHELyZX3iW31n+S+sKWZWfNBxkCbNeUq6ekArugo1I0kH1xT8EkBKj1R80HGGkFbtZVkZ3bb2d2r0tUkn1hTh8kBKhB9DMBLnQWfJMjoLFuTZpJsO/ONAB7UUcBLSHqvX781q1YAqg0yfoDkq5psrQYLJeldAF7nKFr1x+wmACq9kAUZLazvvTV4P8kDDlE22kTSQ4uuK9dCF5HuR/I3NYI1A1CBaB+AK50VsAMj7TJeixNl2kYBSccCsB/ZMQ6Brif5GIfdYSZNAVQg8rzsLSphl/Hapby2LDZTUaBcq/56ALb1fOVxLkuinULy4loRmwOoQGQX7T7DWZnPk3y203bXmkl6AIA91isDOBGADV3e1HsJbasA1QYZvUKl3fYKPI2knXFQnZoEqPRCNUHG6oqnwyEFLiJ5Wl89mgWoQFQTZOyrwSb7WUztcSRtu0+v1DRABaKPADijV+3SaZUCNgE5geTNEZnmAFBtkDGix6b4Xld2BNvJcaHUPEClF6oNMoZE2eXOtm3q1ZFha1mfWQBUINoL4Kqurbm7vPEj1bOAqx3udW0kk62+swGoQHQ2gPOGFGAD8roJgF0t+qkx6jorgApElwE4aQwxZp6n3YNxsPyzA7yst/4iSdvEMFqaHUCjKZEZ91IgAeolWzotFEiAkoWQAglQSL50ToCSgZACCVBIvnROgJKBkAIJUEi+dE6AkoGQAglQSL50ToCSgZACCVBIvnROgJKBkAIJUEi+dE6AkoGQAglQSL50ToCSgZACCVBIvnROgJKBkAIJUEi+dE6AkoGQAglQSL50ToCSgZACCVBIvnROgJKBkAIJUEi+dE6AkoGQAglQSL50ToCSgZACCVBIvnT+H0jPT81J3xWWAAAAAElFTkSuQmCC",check:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAOCAYAAAAi2ky3AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACtSURBVHgBvdPdDcIgEAfwoy8Nb45QN3AGF2s36Ahu4gpuIDoBfSgfpdoTlCbEWEMh6T8hFzjyg5AAkBHOcQe5UWqspRx435sDpMYj6IYQwwVSEiJ2MKVUBWuzLSLl2HL+uxmNCGFO8yaL7RHxve6qRZoAuS4hxac8735elWVx7jrtMKL1o0Gcat9jhExHSukN/kUIFZ7MpDRtzE1isDRkAUtDvrA8ZI597FUf8gWH9P0b4gko9wAAAABJRU5ErkJggg=="},color:{palette:{"blue-20":"0xbecffeff","blue-40":"0x93a9fdff","blue-90":"0x000033ff","grey-05":"0xf8f7faff","grey-40":"0x929096ff","grey-70":"0x48474bff","grey-90":"0x181819ff"},white:"0xffffffff",black:"0x000000ff",grey:"0x929096ff",red:"0xe74c3cff",orange:"0xdc7633ff",yellow:"0xf7dc6fff",green:"0x2ecc71ff",blue:"0x93a9fdff",purple:"0x663399ff",material:"0x181819ff",materialBrand:"0x000033ff",overlay:"0x181819b3",textNeutral:"0xf8f7faff",textNeutralSecondary:"0xf8f7fab3",textNeutralTertiary:"0xf8f7fa1a",textNeutralDisabled:"0xf8f7fa80",textInverse:"0x181819ff",textInverseSecondary:"0x181819b3",textInverseTertiary:"0x1818191a",textInverseDisabled:"0x18181980",textBrand:"0x93a9fdff",textBrandSecondary:"0x93a9fdb3",textBrandTertiary:"0x93a9fd1a",textBrandDisabled:"0x93a9fd80",textPositive:"0x2ecc71ff",textNegative:"0xe74c3cff",textInfo:"0x93a9fdff",textCaution:"0xdc7633ff",fillTransparent:"0xffffff0",fillNeutral:"0xf8f7faff",fillNeutralSecondary:"0xf8f7fab3",fillNeutralTertiary:"0xf8f7fa1a",fillNeutralDisabled:"0xf8f7fa80",fillInverse:"0x181819ff",fillInverseSecondary:"0x181819b3",fillInverseTertiary:"0x1818191a",fillInverseDisabled:"0x18181980",fillBrand:"0x93a9fdff",fillBrandSecondary:"0x93a9fdb3",fillBrandTertiary:"0x93a9fd1a",fillBrandDisabled:"0x93a9fd80",fillPositive:"0x2ecc71ff",fillNegative:"0xe74c3cff",fillInfo:"0x93a9fdff",fillCaution:"0xdc7633ff",strokeNeutral:"0xf8f7faff",strokeNeutralSecondary:"0xf8f7fab3",strokeNeutralTertiary:"0xf8f7fa1a",strokeNeutralDisabled:"0xf8f7fa80",strokeInverse:"0x181819ff",strokeInverseSecondary:"0x181819b3",strokeInverseTertiary:"0x1818191a",strokeInverseDisabled:"0x18181980",strokeBrand:"0x93a9fdff",strokeBrandSecondary:"0x93a9fdb3",strokeBrandTertiary:"0x93a9fd1a",strokeBrandDisabled:"0x93a9fd80",strokePositive:"0x2ecc71ff",strokeNegative:"0xe74c3cff",strokeInfo:"0x93a9fdff",strokeCaution:"0xdc7633ff",interactiveNeutral:"0xffffff1a",interactiveNeutralFocus:"0xffffffff",interactiveNeutralFocusSoft:"0xffffff1a",interactiveInverse:"0x48474b1a",interactiveInverseFocus:"0x48474bff",interactiveInverseFocusSoft:"0x48474b1a",interactiveBrand:"0xbecffe1a",interactiveBrandFocus:"0xbecffeff",interactiveBrandFocusSoft:"0xbecffe1a",shadowNeutral:"0x000000b3",shadowNeutralFocus:"0x000000b3",shadowNeutralFocusSoft:"0x000000b3",shadowNeutralText:"0x000000ff",shadowInverse:"0x000000b3",shadowInverseFocus:"0x000000b3",shadowInverseFocusSoft:"0x000000b3",shadowInverseText:"0x000000ff",shadowBrand:"0x000000b3",shadowBrandFocus:"0x000000b3",shadowBrandFocusSoft:"0x000000b3",shadowBrandText:"0x000000ff"},font:[],layout:{columnCount:10,focusScale:1.2,gutterX:20,gutterY:20,marginX:150,marginY:150,safe:50,screenW:1920,screenH:1080},radius:{none:0,xs:2,sm:4,md:8,lg:16,xl:24},spacer:{none:0,xxs:2,xs:4,sm:8,md:10,lg:20,xl:30,xxl:40,xxxl:50},stroke:{none:0,sm:2,md:4,lg:6,xl:8},typography:{display1:{fontFamily:"Arial",fontSize:75,lineHeight:85,fontWeight:500,verticalAlign:"middle",textBaseline:"bottom"},display2:{fontFamily:"Arial",fontSize:50,lineHeight:60,fontWeight:500,verticalAlign:"middle",textBaseline:"bottom"},headline1:{fontFamily:"Arial",fontSize:35,fontWeight:500,lineHeight:48,verticalAlign:"middle",textBaseline:"bottom"},headline2:{fontFamily:"Arial",fontSize:30,fontWeight:500,lineHeight:40,verticalAlign:"middle",textBaseline:"bottom"},headline3:{fontFamily:"Arial",fontSize:25,fontWeight:500,lineHeight:36,verticalAlign:"middle",textBaseline:"bottom"},body1:{fontFamily:"Arial",fontSize:25,fontWeight:300,lineHeight:40,verticalAlign:"middle",textBaseline:"bottom"},body2:{fontFamily:"Arial",fontSize:22,fontWeight:300,lineHeight:32,verticalAlign:"middle",textBaseline:"bottom"},body3:{fontFamily:"Arial",fontSize:20,fontWeight:300,lineHeight:32,verticalAlign:"middle",textBaseline:"bottom"},button1:{fontFamily:"Arial",fontSize:25,fontWeight:500,lineHeight:32,verticalAlign:"middle",textBaseline:"bottom"},button2:{fontFamily:"Arial",fontSize:20,fontWeight:500,lineHeight:32,verticalAlign:"middle",textBaseline:"bottom"},callout1:{fontFamily:"Arial",fontSize:20,fontWeight:500,lineHeight:32,verticalAlign:"middle",textBaseline:"bottom"},caption1:{fontFamily:"Arial",fontSize:15,fontWeight:500,lineHeight:24,verticalAlign:"middle",textBaseline:"bottom"},tag1:{fontFamily:"Arial",fontSize:20,fontWeight:500,lineHeight:24,verticalAlign:"middle",textBaseline:"bottom"},footnote1:{fontFamily:"Arial",fontSize:22,fontWeight:300,lineHeight:30,verticalAlign:"middle",textBaseline:"bottom"}},componentConfig:{Keyboard:{base:{keyProps:{delete:{title:null,icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAACQCAYAAADnRuK4AAAAAXNSR0IArs4c6QAACmpJREFUeF7tnVmoZUcVhv/feY4gBEVEH/KgCCZxCK2itNo4xQQH+kUN0TjEiDGKKBqnaExwBjUaR6KY+NQgiQkOMSYhYEScIopGJOqDE2hHjfP0y4p1Oqdv33v2qr32Prv2Paug6Ye7Vu2qv75TtWvtGohMqUBAAQZ80zUVQAKUEIQUSIBC8qVzApQMhBRIgELypXMClAyEFEiAQvKlcwKUDIQUSIBC8qVzApQMhBRIgELypXMClAyEFEiAQvKlcwKUDIQUSIBC8qVzApQMhBRIgELypXMClAyEFEiAQvKlcwKUDIQUSIBC8qVzApQMhBRIgELypXMClAyEFEiAQvKlcwKUDIQUSIBC8qVzApQMhBRIgELypfPsAJJ0NYC92XRHKPB3AAfLv18BuBLAFSR/NKZWswJI0vkA3jCmILsw75sAvIfkR8eo22wAknQSgMvGEGFD8vwxgFeQvGrI+s4CIEnHAPgugHsMWfkNzevDAM4i+Z8h6t88QJLuXOB5yBAVzjxuVeBaAM8ieXNUjzkAdAmA50Yrmv5HKPATACeQ/GNEm6YBkvRyANblZhpHAXsfekpkOGsWIEmPAHA9gDuOo13mWhS4gOSZfdVoEiBJ9wFwA4D7961Y+lUpsK/v7KxVgL4K4ElOCS4l+Uyn7a41k3Q0gMcC2ANgH4CHV1T2OyStx69OzQEk6TwAZztr8lMAx5P8s9N+Y8wk2cTjfQDu66z080h+zml7yKwpgCSdCOByZyX+BuBRJH/otN84M0kWN/s0gOc4Kv8Nko922B1m0gxAkh4I4AcVwcL9JA/UVnjT7CXdHYD9yEzfVUkAjib5uxqNmgCoBAu/CeBhzsJ/kORZTtuNN5Nk70bXAZ0Hy59G8qIawVoB6LMAnu8suE3tH0/y3077NAMg6esAuoaoC0la7M2dJgdI0ssAXOgs8W8BHEvS/s9UoYCkdwN4bYfL5STto7U7TQpQZbDQehzreawHylSpgKSTAVza4XYDyeNqsp4MoB7BwteQfH9N5dL2NgWK3l0vyAdJWhDXnSYBSNLtANh3GO/KwgMk97trlYbbKiDJPpzea5U8JKuYqDIeql0kvQPAG5352ZLMR5L8q9M+zXZQYFcAJOnJAL7sbGWLMFuk2SLOmYIKzB6gEiz8HoB7O7U4meQXnLZp1qGApD8BuOcsh7AewcL3kuyadg4OjSSbhRxH0j4BjJok2Ufga0j+YdQHlcznDlBNsPAa+xpP8r/rEHbxjAKPbRuyHvKFY0Ik6QUALOprPfIT1gHRbAGSdDoA77aSX5Zg4e8nhGfx6FEgWoJn8Zy1QCTplq5vjc3NwnoEC/eQ/HYD8IwC0TbwrA2i2QHUI1h4JskLGoJnUIhWwLMWiGYFkCSLMX2t5WDhlneeLm5Dw5kDntEhkmRhEVvesWNqZgiTdC6AN3W1Svn72oOFkuxF+WcVIQUrai+IKuA5BBHJ453auc1mA1AJFn7Jsf7EKj9ZsLBHw1ZDtI5neAmaBUBzCxaO2cBj5u2FZtlO0l8A3K3ZIaxHsPB8kt5vYn00c/mM0dBj5OmqzAqjOQDUfLBwJ32HbPAh84pCM5seSNJLAHzcWeFJgoVdZRui4YfIo6ucff8uyVY03LW5IawyWPgvW5u77mChV/QIABFfb/kidk0CVKbDth3Huw35dJLeniqiV2/fniDYx1f7vlWTeoUFah6wZQhrqwcqwUKbrtsaH0+6mOQpHsOpbXpCVFPstcJjBZNkmzHv0swQJultAN7iVO375TyafzjtJzcbEaK1w9McQJXBQlvvYmtsfjE5FZUFGAGiSeBpCqDKYKFtmX0qya9Utl0z5gNCNBk8BSA7CtiODNwxjf4trEew8BySNtTNOg0A0aTwtARQTbDQeh3rfawXmn0KQDQ5PC0B9EkAL3LSkAD9X6hWALIJzJ3mNoSdS9I7U3NyuX6zQO+zKOzkEEmaHqDSFdpZM97tOfkSfRvvk0LUDEAFIgseetf85DS+AYgk/bPr1NvRZ2HLg4ektwI4xzmgZCBxYohaBMjWPeenDOcvaIvZ2oez5gAqQ5mtLbb3oa4z+Bb6nTHW1UP92vFIr54vzJ8BcGplGdYKkSRbCXGHSWdh2z1ckp1taGccroxyFt9cznG4iGuDqFmASk9kZxxakNGTckHZBBA1DVCB6BMAXuwhyA4VmGL/+05l6zlsbdt7DJmXU0uXmSQ7JvD2zQ1hiwJJsotRvlVxXO87SU5+heUYDT5Gni5KVhg1D1DphWqCjOYy6RlAYzb0mHn3gWkWABWIaoKMubHwSBpGebGWZNdc2vmUO6a1BhJXFUSSff/yLuOYamvzzwEcVfFr7tWwPXqi6uN2PXWYG0C1Qca1n8RaDlewl3kPRL3gWXo/XBwo1dXWdk/a3jEOnJoVQGUoqw0yvpLkh7oUHvLvTohC8FRANBo8pT3sxLeVJ/M2M4QtiVYTZJzkNPoOiAaBxwHRqPDMFqBS8Jog4yT3YewA0aDwrIBodHhmDVApvG0mtO3PnjTJjTxbIBoFnm0gWgs8pQ06lxY3N4QtCWZBRgPDezdnHvPr+alV2EiaL0DlF2Dbn20bdB40XtHwQ5nOHqAC0SyCjEM1Wkv57AqACkRvBvB2p7hrDzI6yzU7s90EUPNBxtnR4SjwrgGo9EK1Qca8cM4ByU4mkuz++F93ZHELyZX3iW31n+S+sKWZWfNBxkCbNeUq6ekArugo1I0kH1xT8EkBKj1R80HGGkFbtZVkZ3bb2d2r0tUkn1hTh8kBKhB9DMBLnQWfJMjoLFuTZpJsO/ONAB7UUcBLSHqvX781q1YAqg0yfoDkq5psrQYLJeldAF7nKFr1x+wmACq9kAUZLazvvTV4P8kDDlE22kTSQ4uuK9dCF5HuR/I3NYI1A1CBaB+AK50VsAMj7TJeixNl2kYBSccCsB/ZMQ6Brif5GIfdYSZNAVQg8rzsLSphl/Hapby2LDZTUaBcq/56ALb1fOVxLkuinULy4loRmwOoQGQX7T7DWZnPk3y203bXmkl6AIA91isDOBGADV3e1HsJbasA1QYZvUKl3fYKPI2knXFQnZoEqPRCNUHG6oqnwyEFLiJ5Wl89mgWoQFQTZOyrwSb7WUztcSRtu0+v1DRABaKPADijV+3SaZUCNgE5geTNEZnmAFBtkDGix6b4Xld2BNvJcaHUPEClF6oNMoZE2eXOtm3q1ZFha1mfWQBUINoL4Kqurbm7vPEj1bOAqx3udW0kk62+swGoQHQ2gPOGFGAD8roJgF0t+qkx6jorgApElwE4aQwxZp6n3YNxsPyzA7yst/4iSdvEMFqaHUCjKZEZ91IgAeolWzotFEiAkoWQAglQSL50ToCSgZACCVBIvnROgJKBkAIJUEi+dE6AkoGQAglQSL50ToCSgZACCVBIvnROgJKBkAIJUEi+dE6AkoGQAglQSL50ToCSgZACCVBIvnROgJKBkAIJUEi+dE6AkoGQAglQSL50ToCSgZACCVBIvnROgJKBkAIJUEi+dE6AkoGQAglQSL50ToCSgZACCVBIvnT+H0jPT81J3xWWAAAAAElFTkSuQmCC"}}}}}};function ui(){var e,t,n,r=0,o={duration:750,easing:"ease-in-out"},i={alpha:1,color:4294967295};return ze(Ue(ai,(function(i){!function(i){i.startsWith("#")?(e.color=Br(i),e.src="",e.alpha=1,r=1,t.alpha=0,n.alpha=0):(e.color=4294967295,n.alpha=1,0===r?(e.src=i,r=1):1===r?(t.src=i,r=2,t.alpha=0,t.animate({alpha:1},o).start(),e.animate({alpha:0},o).start()):2===r&&(e.src=i,r=1,e.alpha=0,e.animate({alpha:1},o).start(),t.animate({alpha:0},o).start()))}(i)}),{defer:!0})),Ar(yr,{width:1920,height:1080,zIndex:-5,get children(){return[Ar(yr,{ref:function(t){"function"==typeof e?e(t):e=t},style:i}),Ar(yr,{ref:function(e){"function"==typeof t?t(e):t=e},style:i,alpha:0}),Ar(yr,{ref:function(e){"function"==typeof n?n(e):n=e},src:"./assets/hero-mask-inverted.png",get color(){return Br(li.color.materialBrand)},width:1920,height:1080})]}})}function ci(e){if(!e||!e[Symbol.iterator])throw new Error("objectFromEntries requires a single iterable argument");var t,n={},r=D(e);try{for(r.s();!(t=r.n()).done;){var o=O(t.value,2),i=o[0],a=o[1];n[i]=a}}catch(s){r.e(s)}finally{r.f()}return n}var di=["focus","disabled"],fi=["brand","inverse","neutral"];function hi(e){var t=e.themeKeys,n=e.base,r=e.modes,o=e.tones,i=e.themeStyles,a=e.modeKeys,s=void 0===a?di:a,l=e.toneKeys,u=void 0===l?fi:l,c=arguments.length>1&&void 0!==arguments[1]&&arguments[1],d=function(e){return ci(Object.entries(t).filter((function(t){var n=O(t,2),r=(n[0],n[1]);return e[r]})).map((function(t){var n=O(t,2),r=n[0],o=n[1];return[r,e[o]]})))};return function(e,t,n){var r,o=(r=i,ci(Object.entries(r).map((function(e){var t=O(e,2),n=t[0],r=t[1],o=d(r);return Object.entries(r).filter((function(e){var t=O(e,2),n=t[0];return t[1],s.includes(n)})).forEach((function(e){var t=O(e,2),n=t[0],r=t[1];o[n]=d(r)})),[n,o]}))));c&&console.log(o);var a=function(e,t){return z(z({},e),t.base)}(e,o);c&&console.log(a);var l=function(e,t){return ci(s.map((function(n){return[n,z(z({},null==e?void 0:e[n]),null==t?void 0:t[n])]})))}(t,o);c&&console.log(l);var f=function(e,t,n){return ci(u.map((function(r){var o,i,a={};return new Set([].concat.apply([],[null!==(o=null==e?void 0:e[r])&&void 0!==o?o:{},null!==(i=null==t?void 0:t[r])&&void 0!==i?i:{}].map(Object.keys))).forEach((function(n){var o,i,l;s.includes(n)||(a[n]=null!==(l=null==(o=null==t?void 0:t[r])?void 0:o[n])&&void 0!==l?l:null==(i=null==e?void 0:e[r])?void 0:i[n])})),s.forEach((function(o){var i,s;a[o]=z(z(z({},n[o]),null==(i=null==e?void 0:e[r])?void 0:i[o]),null==(s=null==t?void 0:t[r])?void 0:s[o])})),[r,a]})))}(n,o,l);return c&&console.log(f),{base:z(z({},a),l),tones:f}}(n,r,o)}function pi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(t,n){var r,o,i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3?arguments[3]:void 0;if(0!==t.children.length){var l="row"===t.flexDirection?"width":"height",u="row"===t.flexDirection?"x":"y",c=t.gap||0,d=t.scroll||"auto",f=function(e){var t,n;"row"===e.flexDirection?(t={position:e.children[e.children.length-1].x,size:e.children[e.children.length-1].width},n=e.width):(t={position:e.children[e.children.length-1].y,size:e.children[e.children.length-1].height},n=e.height);return[t,n]}(t),h=O(f,2),p=h[0],v=h[1],g=null!==(r=t[u])&&void 0!==r?r:0,y=null!==(o=null==n?void 0:n[u])&&void 0!==o?o:0,m=null!==(i=null==n?void 0:n[l])&&void 0!==i?i:0,x=void 0===s?"none":a>s?"positive":"negative",b=g;if("auto"===d)null!=t.scrollIndex&&t.scrollIndex>=0?t.selected>=t.scrollIndex&&(b="positive"===x?g-m-c:g+m+c):(Math.abs(g)+v<p.position+p.size||y<Math.abs(g))&&(b=-y+e);else if("always"===d||"edge"===d&&"negative"===x&&Math.abs(g)>y)b=-y+e;else if("edge"===d&&"positive"===x&&Math.abs(g)+v<y+m)b=g-m-c;else if("edge"===d&&"none"===x){for(var w=0;w<t.children.length&&Math.abs(g)+v<y+m;){var k;g-=(null!==(k=t.children[w++][l])&&void 0!==k?k:0)+c}b=g}"x"===u&&t.x!==b?t.x=b:"y"===u&&t.y!==b&&(t.y=b)}}}var vi=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter((function(e){return"function"==typeof e}));if(0!==r.length)return 1===r.length?r[0]:function(){for(var e,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];var i,a=D(r);try{for(a.s();!(i=a.n()).done;){if(!0===(e=i.value.apply(this,n)))return e}}catch(s){a.e(s)}finally{a.f()}return e}};function gi(){if(!this||void 0===this.selected||0===this.children.length)return!1;for(var e=this.children[this.selected];null==e?void 0:e.skipFocus;)this.selected++,e=this.children[this.selected];return e instanceof ur&&(e.setFocus(),!0)}function yi(e){return function(){var t,n,r,o=this.children.length,i=this.wrap,a=this.selected||0;if(0===o)return!1;if("right"===e||"down"===e){do{if(this.selected=(this.selected||0)%o+1,this.selected>=o){if(!i){this.selected=void 0;break}this.selected=0}}while(null==(t=this.children[this.selected])?void 0:t.skipFocus)}else if("left"===e||"up"===e)do{if(this.selected=(this.selected||0)%o-1,this.selected<0){if(!i){this.selected=void 0;break}this.selected=o-1}}while(null==(n=this.children[this.selected])?void 0:n.skipFocus);if(void 0===this.selected&&(this.selected=a,null==(r=this.children[this.selected])?void 0:r.states.has("focus")))return!1;var s=this.children[this.selected];if(this.onSelectedChanged&&this.onSelectedChanged.call(this,this,s,this.selected,a),this.plinko&&void 0!==a){var l=this.children[a].selected||0;s.selected=l<s.children.length?l:s.children.length-1}return s.setFocus(),!0}}var mi=(null==(Wo=li)?void 0:Wo.componentConfig).Artwork,xi=void 0===mi?{styles:{}}:mi,bi=(xi.defaultTone,y(xi,e));hi({themeKeys:{fillColor:"fillColor",scale:"imageScale",pivotX:"imageScalePivotX",pivotY:"imageScalePivotY"},base:{fallbackSrc:void 0,fillColor:li.color.overlay,gradientColor:li.color.material,pivotX:.5,pivotY:.5,scale:void 0},themeStyles:bi});var wi=(null==(jo=li)?void 0:jo.componentConfig).Badge,ki=void 0===wi?{styles:{}}:wi,Ai=(ki.defaultTone,y(ki,t)),Si={themeKeys:{color:"backgroundColor"},base:{color:li.color.fillInverseSecondary,borderRadius:li.radius.sm,border:{color:li.color.strokeInverse,width:li.stroke.sm},display:"flex",justifyContent:"spaceEvenly",padding:[li.spacer.md-li.stroke.sm,li.spacer.xs+li.stroke.sm,li.spacer.md+li.stroke.sm,li.spacer.md+li.stroke.sm]},tones:{inverse:{color:li.color.fillNeutralSecondary,borderRadius:li.radius.sm,border:{color:li.color.strokeInverseSecondary,width:li.stroke.sm}},brand:{color:li.color.fillBrand,borderRadius:li.radius.sm,border:{color:li.color.strokeInverseSecondary,width:li.stroke.sm}}},themeStyles:Ai},Ci={themeKeys:{color:"textColor"},base:z(z({},li.typography.tag1),{},{color:li.color.textNeutral}),tones:{inverse:{color:li.color.textInverse},brand:{color:li.color.textNeutral}},themeStyles:Ai},Ti={themeKeys:{color:"iconColor"},base:{color:li.color.textNeutral},tones:{inverse:{color:li.color.textInverse},brand:{color:li.color.textNeutral}},themeStyles:Ai};hi(Si),hi(Ti),hi(Ci);var _i=(null==(Yo=li)?void 0:Yo.componentConfig).Button,Ri=void 0===_i?{styles:{}}:_i,Ii=Ri.defaultTone,Bi=y(Ri,n),Ei=(null==(Ho=li)?void 0:Ho.componentConfig).Surface,Ni=void 0===Ei?{styles:{}}:Ei,Fi=Ni.surfaceDefaultTone,Li=y(Ni,r),zi={themeKeys:{textAlign:"textAlign",borderRadius:"radius",color:"backgroundColor",justifyContent:"justifyContent"},base:{height:li.typography.button1.lineHeight+2*li.spacer.xl,display:"flex",padding:[li.spacer.xxxl,li.spacer.xl],color:li.color.interactiveNeutral,justifyContent:"center",alignItems:"center",borderRadius:li.radius.sm,contentColor:li.color.fillNeutral},modes:{focus:{color:li.color.interactiveNeutralFocus,contentColor:li.color.fillInverse},disabled:{color:li.color.fillNeutralDisabled}},tones:{inverse:{color:li.color.interactiveInverse},brand:{color:li.color.interactiveBrand,focus:{color:li.color.fillNeutral}}},themeStyles:z(z({},Li),Bi)},Mi={themeKeys:{color:"contentColor"},base:{color:li.color.textNeutral},modes:{focus:{color:li.color.textInverse},disabled:{color:li.color.textNeutralDisabled}},tones:{inverse:{color:li.color.fillNeutral},brand:{color:li.color.fillBrand,focus:{color:li.color.fillBrand}}},themeStyles:z(z({},Li),Bi)},Pi={themeKeys:{color:"textColor"},base:z({textAlign:"left",color:li.color.textNeutral},li.typography.button1),modes:{focus:{color:li.color.textInverse},disabled:{color:li.color.textNeutralDisabled}},tones:{inverse:{color:li.color.fillNeutral},brand:{color:li.color.fillBrand,focus:{color:li.color.fillBrand}}},themeStyles:z(z({},Li),Bi)},Oi={tone:Ii||Fi||"neutral",Container:hi(zi),Content:hi(Mi),Text:hi(Pi)},Di=function(e){return Ar(yr,Rr(e,{get style(){var t,n;return[].concat(F([e.style].flat()),[null==(n=Oi.Container.tones)?void 0:n[null!==(t=e.tone)&&void 0!==t?t:Oi.tone],Oi.Container.base])},forwardStates:!0,get children(){return Ar(gr,{get style(){var t,n;return[].concat(F([null==(n=e.style)?void 0:n.Text].flat()),[Oi.Text.tones[null!==(t=e.tone)&&void 0!==t?t:Oi.tone],Oi.Text.base])},get children(){return e.children}})}}))},Ui=(null==(Qo=li)?void 0:Qo.componentConfig).Checkbox,Wi=void 0===Ui?{styles:{}}:Ui,ji=(Wi.defaultTone,y(Wi,o)),Yi=li.stroke.sm,Hi=li.spacer.xxl,Qi={themeKeys:{color:"color",borderRadius:"borderRadius",border:"border",justifyContent:"justifyContent"},base:{width:Hi,height:Hi,display:"flex",justifyContent:"center",color:li.color.fillNeutral,alignItems:"center",borderRadius:Hi/4,border:{color:li.color.strokeInverse,width:Yi}},modes:{disabled:{alpha:li.alpha.inactive}},tones:{brand:{borderRadius:Hi/4,border:{color:li.color.strokeNeutralSecondary,width:Yi},color:li.color.fillNeutralSecondary,checked:{borderRadius:Hi/4,border:{color:li.color.strokeNeutralSecondary,width:Yi},color:li.color.fillBrand}},neutral:{borderRadius:Hi/4,border:{color:li.color.strokeNeutralSecondary,width:Yi},color:li.color.fillInverseSecondary,checked:{borderRadius:Hi/4,border:{color:li.color.strokeNeutralSecondary,width:Yi},color:li.color.fillNeutral}},inverse:{borderRadius:Hi/4,border:{color:li.color.strokeInverseSecondary,width:Yi},color:li.color.fillNeutralSecondary,checked:{borderRadius:Hi/4,border:{color:li.color.strokeInverseSecondary,width:Yi},color:li.color.fillInverse}}},modeKeys:["focus","disabled","checked"],themeStyles:ji},Ki={themeKeys:{color:"color"},base:{width:li.spacer.lg,height:li.spacer.lg,src:li.asset.check},tones:{neutral:{color:li.color.fillInverse},inverse:{color:li.color.fillNeutral},brand:{color:li.color.fillInverse}},themeStyles:ji};hi(Qi),hi(Ki);var $i=(null==(Ko=li)?void 0:Ko.componentConfig).Icon,Xi=void 0===$i?{styles:{}}:$i,Gi=(Xi.defaultTone,y(Xi,i));hi({themeKeys:{color:"color"},base:{width:100,height:100,color:li.color.fillInverse},tones:{inverse:{color:li.color.fillInverse},brand:{color:li.color.fillBrand}},themeStyles:Gi});var Vi=(null==($o=li)?void 0:$o.componentConfig).Column,Zi=void 0===Vi?{styles:{}}:Vi,qi=Zi.defaultTone,Ji=y(Zi,a),ea={tone:qi||"neutral",Container:hi({themeKeys:{gap:"itemSpacing",scrollIndex:"scrollIndex",itemTransition:"itemTransition"},base:{display:"flex",flexBoundary:"fixed",flexDirection:"column",gap:li.layout.gutterY,itemTransition:z(z({},li.animation.standardEntrance),{},{duration:li.animation.duration.fast})},themeStyles:Ji})},ta=function(e){var t=yi("up"),n=yi("down");return Ar(yr,Rr(e,{get onUp(){return vi(e.onUp,t)},get onDown(){return vi(e.onDown,n)},get selected(){return e.selected||0},forwardFocus:gi,get onCreate(){return vi((function(t){var n,r;return pi(e.y).call(t,t,t.children[null!==(n=e.selected)&&void 0!==n?n:0],null!==(r=e.selected)&&void 0!==r?r:0,void 0)}),e.onCreate)},get onSelectedChanged(){return vi(e.onSelectedChanged,"none"!==e.scroll?pi(e.y):void 0)},get style(){var t;return[].concat(F([e.style].flat()),[ea.Container.tones[null!==(t=e.tone)&&void 0!==t?t:ea.tone],ea.Container.base])}}))},na=(null==(Xo=li)?void 0:Xo.componentConfig).Label,ra=void 0===na?{styles:{}}:na,oa=(ra.defaultTone,y(ra,s)),ia={themeKeys:{color:"backgroundColor",borderRadius:"radius"},base:{display:"flex",justifyContent:"center",color:li.color.textNeutral,padding:[li.spacer.md,li.spacer.lg],borderRadius:[li.radius.md,li.radius.md,li.radius.md,li.radius.none],height:li.typography.caption1.lineHeight+li.spacer.md,neutral:{backgroundColor:li.color.fillNeutral}},tones:{inverse:{color:li.color.fillInverse},brand:{color:li.color.fillBrand,focus:{color:li.color.orange}}},themeStyles:oa},aa={themeKeys:{color:"textColor"},base:z(z({},li.typography.caption1),{},{color:li.color.textInverse}),tones:{inverse:{color:li.color.textNeutral},brand:{color:li.color.textNeutral}},themeStyles:oa};hi(ia),hi(aa);var sa=(null==(Go=li)?void 0:Go.componentConfig).Rating,la=void 0===sa?{styles:{},defaultTone:"neutral"}:sa,ua=la.styles,ca=(la.defaultTone,{themeKeys:{justifyContent:"justifyContent",itemSpacing:"itemSpacing"},base:{display:"flex",flexDirection:"column",justifyContent:"flexStart",itemSpacing:li.spacer.sm},toneModes:{},themeStyles:ua}),da={themeKeys:{color:"textColor"},base:z({color:li.color.textNeutral},li.typography.body2),toneModes:{},themeStyles:ua},fa={themeKeys:{color:"color"},base:{height:li.typography.body2.lineHeight,width:li.typography.body2.lineHeight,color:li.color.fillNeutral,marginRight:li.spacer.sm},toneModes:{},themeStyles:ua};hi(ca),hi(fa),hi(da);var ha=(null==(Vo=li)?void 0:Vo.componentConfig).Details,pa=void 0===ha?{styles:{}}:ha,va=(pa.defaultTone,y(pa,l)),ga={themeKeys:{alignItems:"alignItems",contentSpacing:"contentSpacing",badgeContentSpacing:"badgeContentSpacing",ratingContentSpacing:"ratingContentSpacing"},base:{display:"flex",flexDirection:"row",alignItems:"center",contentSpacing:li.spacer.lg,badgeContentSpacing:li.spacer.sm,ratingContentSpacing:li.spacer.lg},themeStyles:va},ya={themeKeys:{color:"textColor"},base:z(z({},li.typography.body2),{},{marginRight:li.spacer.lg,color:li.color.textNeutral}),tones:{neutral:{disabled:{color:li.color.textNeutralDisabled}},inverse:{color:li.color.textInverse,disabled:{color:li.color.textNeutralDisabled}},brand:{color:li.color.textNeutral,disabled:{color:li.color.textNeutralDisabled}}},themeStyles:va};hi(ga),hi(ya);var ma=(null==(Zo=li)?void 0:Zo.componentConfig).Metadata,xa=void 0===ma?{styles:{}}:ma,ba=(xa.defaultTone,y(xa,u)),wa={themeKeys:{justifyContent:"justifyContent",alpha:"alpha"},base:{display:"flex",flexDirection:"column",justifyContent:"flexStart",alpha:li.alpha.primary},modes:{disabled:{alpha:li.alpha.inactive}},themeStyles:ba},ka={themeKeys:{color:"textColor"},base:z(z({maxLines:1,contain:"width"},li.typography.headline3),{},{color:li.color.textNeutral}),tones:{neutral:{disabled:{color:li.color.textNeutralDisabled}},inverse:{color:li.color.textInverse,disabled:{color:li.color.textNeutralDisabled}},brand:{color:li.color.textNeutral,disabled:{color:li.color.textNeutralDisabled}}},themeStyles:ba},Aa={themeKeys:{color:"textColor"},base:z(z({contain:"width",maxLines:2},li.typography.body2),{},{color:li.color.textNeutralSecondary}),tones:{neutral:{disabled:{color:li.color.textNeutralDisabled}},inverse:{color:li.color.textInverseSecondary,disabled:{color:li.color.textNeutralDisabled}},brand:{color:li.color.textNeutralSecondary,disabled:{color:li.color.textNeutralDisabled}}},themeStyles:ba};hi(wa),hi(Aa),hi(ka);var Sa=(null==(qo=li)?void 0:qo.componentConfig).ProgressBar,Ca=void 0===Sa?{styles:{}}:Sa,Ta=(Ca.defaultTone,y(Ca,c)),_a={themeKeys:{color:"barColor",borderRadius:"borderRadius"},base:{height:li.spacer.md,color:li.color.fillNeutralTertiary,borderRadius:li.radius.xs},tones:{inverse:{color:li.color.fillInverseTertiary}},themeStyles:Ta},Ra={themeKeys:{color:"progressColor",borderRadius:"borderRadius"},base:{borderRadius:li.radius.xs,color:li.color.fillNeutral},tones:{inverse:{color:li.color.fillInverse},brand:{color:li.color.fillBrand}},themeStyles:Ta};hi(_a),hi(Ra);var Ia=(null==(Jo=li)?void 0:Jo.componentConfig).Row,Ba=void 0===Ia?{styles:{}}:Ia,Ea=Ba.defaultTone,Na=y(Ba,d),Fa={tone:Ea,Container:hi({themeKeys:{gap:"itemSpacing",scrollIndex:"scrollIndex",itemTransition:"itemTransition"},base:{display:"flex",flexBoundary:"fixed",flexDirection:"row",gap:li.layout.gutterX,itemTransition:z(z({},li.animation.standardEntrance),{},{duration:li.animation.duration.fast})},themeStyles:Na})},La=function(e){var t=yi("left"),n=yi("right");return Ar(yr,Rr(e,{get selected(){return e.selected||0},get onLeft(){return vi(e.onLeft,t)},get onRight(){return vi(e.onRight,n)},forwardFocus:gi,get onCreate(){return vi((function(t){var n,r;return pi(e.x).call(t,t,t.children[null!==(n=e.selected)&&void 0!==n?n:0],null!==(r=e.selected)&&void 0!==r?r:0,void 0)}),e.onCreate)},get onSelectedChanged(){return vi(e.onSelectedChanged,"none"!==e.scroll?pi(e.x):void 0)},get tone(){var t;return null!==(t=e.tone)&&void 0!==t?t:Fa.tone},get style(){return[].concat(F([e.style].flat()),[Fa.Container.tones[e.tone||Fa.tone],Fa.Container.base])},get states(){var t;return null!==(t=e.tone)&&void 0!==t?t:Fa.tone}}))},za=(null==(ei=li)?void 0:ei.componentConfig).Keyboard,Ma=void 0===za?{styles:{}}:za,Pa=(Ma.defaultTone,y(Ma,f)),Oa={themeKeys:{keySpacing:"keySpacing",screenW:"screenW",marginX:"marginX"},base:{keySpacing:li.spacer.md,screenW:li.layout.screenW,marginX:li.layout.marginX,height:100},themeStyles:Pa},Da={themeKeys:{keySpacing:"keySpacing",textAlign:"textAlign",borderRadius:"borderRadius",color:"backgroundColor",justifyContent:"justifyContent",baseWidth:"baseWidth",sizes:"sizes",contentColor:"contentColor"},base:{keySpacing:li.spacer.md,height:9*li.spacer.md,paddingX:li.spacer.md,sizes:{sm:1,md:2,lg:3,xl:4,xxl:5},contentColor:li.color.fillNeutral,padding:[li.spacer.xxxl,li.spacer.xl],baseWidth:7*li.spacer.md,color:li.color.interactiveNeutral,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:li.radius.sm},modes:{focus:{color:li.color.interactiveNeutralFocus,contentColor:li.color.fillInverse},disabled:{color:li.color.fillNeutralDisabled,contentColor:li.color.fillNeutralDisabled}},tones:{inverse:{color:li.color.interactiveInverse,focus:{color:li.color.interactiveInverseFocus,contentColor:li.color.fillNeutral}},brand:{focus:{contentColor:li.color.fillNeutral}}},themeStyles:Pa},Ua={themeKeys:{color:"textColor"},base:z({textAlign:"left",color:li.color.textNeutral},li.typography.headline2),modes:{focus:{color:li.color.textInverse},disabled:{color:li.color.textNeutralDisabled}},tones:{inverse:{focus:{color:li.color.textNeutral}}},themeStyles:Pa};hi(Oa),hi(Da),hi(Ua);var Wa=(null==(ti=li)?void 0:ti.componentConfig).Key,ja=void 0===Wa?{styles:{}}:Wa,Ya=(ja.defaultTone,y(ja,h)),Ha={themeKeys:{keySpacing:"keySpacing",textAlign:"textAlign",borderRadius:"borderRadius",color:"backgroundColor",justifyContent:"justifyContent",baseWidth:"baseWidth",sizes:"sizes",contentColor:"contentColor"},base:{keySpacing:li.spacer.md,height:9*li.spacer.md,paddingX:li.spacer.md,contentColor:li.color.fillNeutral,sizes:{sm:1,md:2,lg:3,xl:4,xxl:5},padding:[li.spacer.md],baseWidth:7*li.spacer.md,color:li.color.interactiveNeutral,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:li.radius.sm},modes:{focus:{color:li.color.interactiveNeutralFocus,contentColor:li.color.fillInverse},disabled:{color:li.color.fillNeutralDisabled,contentColor:li.color.fillNeutralDisabled}},tones:{inverse:{color:li.color.interactiveInverse,focus:{color:li.color.interactiveInverseFocus,contentColor:li.color.fillNeutral}},brand:{focus:{contentColor:li.color.fillNeutral}}},themeStyles:Ya},Qa={themeKeys:{color:"textColor"},base:z({textAlign:"left",color:li.color.textNeutral},li.typography.headline2),modes:{focus:{color:li.color.textInverse},disabled:{color:li.color.textNeutralDisabled}},tones:{inverse:{focus:{color:li.color.textNeutral}}},themeStyles:Ya};hi(Ha),hi(Qa);var Ka=(null==(ni=li)?void 0:ni.componentConfig).Input,$a=void 0===Ka?{styles:{}}:Ka,Xa=($a.defaultTone,y($a,p)),Ga={themeKeys:{justifyContent:"justifyContent"},base:{display:"flex",justifyContent:"flexStart",flexDirection:"column",width:100,height:100,actualTitle:""},themeStyles:Xa},Va={themeKeys:{borderRadius:"borderRadius",color:"backgroundColor"},base:{width:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=e.layout.screenW,r=e.layout.columnCount,o=e.layout.marginX,i=e.layout.gutterX;if(!(t<1||t>r))return(n-2*o-(t-1)*i)/t;console.error(`Column expects a number between 1 & ${r}. Received ${t}`)}(li,4),height:100,display:"flex",flexDirection:"column",padding:[li.spacer.xxxl,li.spacer.xl],color:li.color.interactiveNeutral,contentColor:li.color.fillInverse,borderRadius:li.radius.sm,marginX:li.spacer.xxxl},modes:{focus:{color:li.color.interactiveNeutralFocus},disabled:{color:li.color.fillNeutralDisabled}},tones:{inverse:{color:li.color.interactiveInverse},brand:{color:li.color.interactiveBrand,focus:{color:li.color.fillNeutral}}},themeStyles:Xa},Za={themeKeys:{color:"textColor"},base:z({textAlign:"left",color:li.color.textNeutral},li.typography.button1),themeStyles:Xa};hi(Ga),hi(Va),hi(Za);var qa=(null==(ri=li)?void 0:ri.componentConfig).Tile,Ja=void 0===qa?{styles:{}}:qa,es=(Ja.defaultTone,y(Ja,v)),ts=(null==(oi=li)?void 0:oi.componentConfig).Surface,ns=void 0===ts?{styles:{}}:ts,rs=(ns.defaultSurfaceTone,y(ns,g)),os={themeKeys:{alpha:"alpha",paddingYProgress:"paddingYProgress"},base:{width:400,height:240,padding:[40,10],paddingYProgress:li.spacer.xl,paddingYBetweenContent:li.spacer.md,borderRadius:li.radius.md,alpha:li.alpha.primary},modes:{disabled:{alpha:li.alpha.inactive}},themeStyles:z(z({},rs),es)},is={themeKeys:{},base:{display:"flex",flexDirection:"column",justifyContent:"flexStart",mountY:1},themeStyles:es},as={themeKeys:{},base:{display:"flex",flexDirection:"column",justifyContent:"flexStart"},themeStyles:es},ss={themeKeys:{},base:{width:5*li.spacer.lg,height:li.spacer.xxl+li.spacer.md},themeStyles:es};hi(os),hi(is),hi(as),hi(ss);var ls={color:255,height:150,width:330,x:1910,y:10,mountX:1,alpha:.8,zIndex:100},us={x:10,fontSize:22,textColor:Br("#f6f6f6")},cs={fontSize:22,textColor:Br("#f6f6f6")},ds=O(Ne(0),2),fs=ds[0],hs=ds[1],ps=O(Ne(0),2),vs=ps[0],gs=ps[1],ys=O(Ne(99),2),ms=ys[0],xs=ys[1],bs=O(Ne(0),2),ws=bs[0],ks=bs[1],As=O(Ne(0),2),Ss=As[0],Cs=As[1],Ts=O(Ne(0),2),_s=Ts[0],Rs=Ts[1],Is=O(Ne(0),2),Bs=Is[0],Es=Is[1],Ns=0,Fs=0;function Ls(e){e.renderer.on("fpsUpdate",(function(e,t){var n,r,o,i,a="number"==typeof t?t:t.fps;a>5&&(!function(e){e&&(hs(e),xs((function(t){return Math.min(e,t)})),ks((function(t){return Math.max(e,t)})),Fs+=e,Ns++,gs(Math.round(Fs/Ns)))}(a),n=e.root.stage,r=0,o=0,i=0,n.txManager.textureIdCache.forEach((function(e,t,n){"loaded"===e.state&&r++,"loading"===e.state&&o++,"failed"===e.state&&i++})),Cs(r),Rs(o),Es(i))}))}var zs=function(e){return Ar(yr,Rr(e,{style:ls,get children(){return[Ar(yr,{get children(){return[Ar(gr,{style:us,children:"FPS:"}),Ar(gr,{style:cs,x:90,get children(){return fs()}})]}}),Ar(yr,{x:160,get children(){return[Ar(gr,{style:us,children:"AVG:"}),Ar(gr,{style:cs,x:100,get children(){return vs()}})]}}),Ar(yr,{x:0,y:20,get children(){return[Ar(gr,{style:us,children:"MIN:"}),Ar(gr,{style:cs,x:90,get children(){return ms()}})]}}),Ar(yr,{x:160,y:20,get children(){return[Ar(gr,{style:us,children:"MAX:"}),Ar(gr,{style:cs,x:100,get children(){return ws()}})]}}),Ar(yr,{x:0,y:50,get children(){return[Ar(gr,{style:us,children:"Loaded Textures Cnt:"}),Ar(gr,{style:us,x:270,get children(){return Ss()}})]}}),Ar(yr,{x:0,y:80,get children(){return[Ar(gr,{style:us,children:"Loading Textures Cnt:"}),Ar(gr,{style:us,x:270,get children(){return _s()}})]}}),Ar(yr,{x:0,y:110,get children(){return[Ar(gr,{style:us,children:"Failed Textures Cnt:"}),Ar(gr,{style:us,x:270,get children(){return Bs()}})]}})]}}))},Ms={Column:{flexDirection:"column",display:"flex",width:320,height:600,y:360,gap:20,zIndex:101,transition:{x:{duration:250,easing:"ease-in-out"}},x:8,focus:{x:li.layout.marginX}},Gradient:{zIndex:99,color:Br("#000000"),src:"./assets/sidenav.png",alpha:0,width:1200,height:1080,focus:{alpha:1},transition:{alpha:!0}},NavButton:{zIndex:102,height:70,width:100,borderRadius:8,focus:{color:Br("#424242")},active:{width:328,height:70}}},Ps="/solid-demo-app/",Os=[{name:"experiment",width:81,height:100,x:0,y:0},{name:"trending",width:100,height:56,x:81,y:0},{name:"tv",width:100,height:68,x:181,y:0},{name:"movie",width:94,height:100,x:282,y:0}];function Ds(e){var t,n,r,o=(t=Ps+"assets/icons_white.png",n=Os,r=Qn.createTexture("ImageTexture",{src:t}),n.reduce((function(e,t){var n=t.x,o=t.y,i=t.width,a=t.height;return e[t.name]=Qn.createTexture("SubTexture",{texture:r,x:n,y:o,width:i,height:a}),e}),{}));return Ar(yr,Rr(e,{get texture(){return o[e.name]},get width(){return o[e.name].props.width},get height(){return o[e.name].props.height},get x(){return(100-(o[e.name].props.width||0))/2},get y(){return(100-(o[e.name].props.height||0))/2}}))}function Us(e){return Ar(yr,Rr(e,{forwardStates:!0,get style(){return Ms.NavButton},get children(){return[Ar(yr,{y:-16,get children(){return Ar(Ds,{scale:.5,get name(){return e.icon}})}}),Ar(gr,{style:{fontSize:38,x:116,y:18,height:50,alpha:0,active:{alpha:1}},get children(){return e.children}})]}}))}function Ws(e){var t,n=Vr();function r(t){var r,o,i,a;if((r=function(){return t},i=Zr(),a=Me((function(){return Qr(r()).map((function(e){return jr(e,void 0,o)}))})),Me((function(){var e,t=D(a());try{for(t.s();!(e=t.n()).done;){var n=(0,e.value)(i.pathname);if(n)return n}}catch(r){t.e(r)}finally{t.f()}})))())return e.focusPage();n(t)}return[Ar(yr,{flexItem:!1,x:40,y:30,zIndex:105,get alpha(){return e.showWidgets?1:0},get children(){return[Ar(gr,{x:80,fontSize:28,color:4143380036,children:"Built With:"}),Ar(yr,{y:22,src:"./assets/solidWord.png",width:280,height:52})]}}),Ar(ta,Rr(e,{onFocus:function(){t.states.add("focus"),this.children.forEach((function(e){return e.states.add("active")})),this.children.selected.setFocus()},onBlur:function(){t.states.remove("focus"),this.selected=0,this.children.forEach((function(e){return e.states.remove("active")}))},get style(){return Ms.Column},scroll:"none",get children(){return[Ar(Us,{onEnter:function(){return r("/browse/all")},icon:"trending",children:"Trending"}),Ar(Us,{icon:"movie",onEnter:function(){return r("/browse/movie")},children:"Movies"}),Ar(Us,{icon:"tv",onEnter:function(){return r("/browse/tv")},children:"TV"}),Ar(Us,{icon:"experiment",onEnter:function(){return r("/examples")},children:"Examples"})]}})),Ar(yr,{ref:function(e){"function"==typeof t?t(e):t=e},get style(){return Ms.Gradient}})]}var js=function(e){To({Announcer:["a"],Menu:["m"],Escape:["Escape",27],Backspace:["Backspace",8],Left:["ArrowLeft",37],Right:["ArrowRight",39],Up:["ArrowUp",38],Down:["ArrowDown",40],Enter:["Enter",13]});var t=(Uo.setupTimers(),ze(Ue(So,Uo.onFocusChange,{defer:!0})),Uo);t.enabled=!1;var n,r,o=Vr();function i(){return!n.states.has("focus")&&(r=kt(),n.setFocus())}Ls({renderer:Qn});var a=O(Ne(!0),2),s=a[0],l=a[1],u=Zr(),c=["/browse","/entity"];return ze((function(){var e=u.pathname,t=c.some((function(t){return e.startsWith(t)}));"/"===e&&(t=!0),l(t)})),Ar(yr,{ref:function(e){var t=window.APP;"function"==typeof t?t(e):window.APP=e},onAnnouncer:function(){return t.enabled=!t.enabled},onLast:function(){return history.back()},onMenu:function(){return o("/")},style:{width:1920,height:1080},onBackspace:i,onLeft:i,onRight:function(){return n.states.has("focus")&&r.setFocus()},get children(){return[Ar(ui,{}),Ar(zs,{mountX:1,x:1910,y:10,get alpha(){return s()?1:0}}),kr((function(){return e.children})),Ar(Ws,{ref:function(e){"function"==typeof n?n(e):n=e},focusPage:function(){return r.setFocus()},get showWidgets(){return s()}})]}})},Ys={Page:{width:1920,height:1080},headlineText:{width:1200,height:240,x:360,y:455,contain:"both",fontSize:66,textAlign:"center"},headlineSubText:{width:960,height:170,x:530,y:655,contain:"both",fontSize:48,textAlign:"center"},itemsContainer:{width:li.layout.screenW,height:600,y:560,x:0,zIndex:2},Thumbnail:{borderRadius:16,width:185,height:278,scale:1,zIndex:2,transition:{scale:{duration:250,easing:"ease-in-out"}},border:{width:0,color:0},focus:{scale:1.1,border:{color:4294967142,width:8}}},FocusRing:{borderRadius:16,width:194,height:286,y:-5,x:-5,zIndex:-1},FPS:{color:255,height:42,width:140,x:20,y:20,zIndex:100},FPSLabel:{x:10,y:0,fontSize:36,textColor:Br("#ffffff")},FPSValue:{x:90,y:0,fontSize:36,textColor:Br("#ffffff")},showHeadline:{x:70,y:20},headlineBlur:{width:1920,height:150,x:0,y:0,zIndex:14,alpha:.9,color:Br("#000000")},RowTitle:{height:60,width:300,marginBottom:-40,fontSize:36,color:Br("#f0f0f0"),zIndex:2},Row:{display:"flex",justifyContent:"spaceBetween",height:300},Column:{display:"flex",flexDirection:"column",justifyContent:"flexStart",gap:64,width:li.layout.screenW-2*li.layout.marginX,x:li.layout.marginX+li.layout.gutterX,y:48,transition:{y:{duration:250,easing:"ease-in-out"}},zIndex:2},Rect:{width:250,height:100,y:10,x:300,color:Br("#0000ff")},peopleBio:z(z({},li.typography.body1),{},{fontFamily:"Ubuntu",fontWeight:"normal",contain:"both",width:780,height:340})},Hs={width:120,height:40,color:Br("#000000"),borderRadius:8,border:{width:2,color:Br("#3333ff")},scale:1,focus:{scale:1.1,border:{width:5,color:Br("#333333")}},transition:{scale:!0,color:!0}},Qs={container:Hs,topBar:{color:Br("#00A699"),height:8,y:2,x:-4,width:Hs.width+8},text:{fontSize:12,y:12,contain:"width",textAlign:"center",color:Br("#F6F6F9"),height:Hs.height,width:Hs.width}},Ks=386,$s=136,Xs=(Br("#715cab"),Br("#5a39a2"),Br("#291d43"),{fontSize:32,contain:"width",textAlign:"center",mountY:-.35,color:Br("#FFFFFF"),height:$s,width:Ks,focus:{fontSize:40},disabled:{color:Br("#909090")}});function Gs(e){return Ar(yr,Rr(e,{get style(){return Ys.Thumbnail}}))}function Vs(e){var t=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(ye in e){var o=new Set(n.length>1?n.flat():n[0]),i=n.map((function(t){return new Proxy({get:function(n){return t.includes(n)?e[n]:void 0},has:function(n){return t.includes(n)&&n in e},keys:function(){return t.filter((function(t){return t in e}))}},pt)}));return i.push(new Proxy({get:function(t){return o.has(t)?void 0:e[t]},has:function(t){return!o.has(t)&&t in e},keys:function(){return Object.keys(e).filter((function(e){return!o.has(e)}))}},pt)),i}var a,s={},l=n.map((function(){return{}})),u=D(Object.getOwnPropertyNames(e));try{for(u.s();!(a=u.n()).done;){var c,d=a.value,f=Object.getOwnPropertyDescriptor(e,d),h=!f.get&&!f.set&&f.enumerable&&f.writable&&f.configurable,p=!1,v=0,g=D(n);try{for(g.s();!(c=g.n()).done;)c.value.includes(d)&&(p=!0,h?l[v][d]=f.value:Object.defineProperty(l[v],d,f)),++v}catch(y){g.e(y)}finally{g.f()}p||(h?s[d]=f.value:Object.defineProperty(s,d,f))}}catch(y){u.e(y)}finally{u.f()}return[].concat(F(l),[s])}(e,["items"]),n=O(t,2),r=n[0],o=n[1];return Ar(La,Rr(o,{get style(){return Ys.Row},get children(){return Ar(xt,{get each(){return r.items},children:function(e){return Ar(Gs,e)}})}}))}var Zs,qs,Js="https://api.themoviedb.org/3",el="w185",tl={headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIyZDE4YjEwMTA0YjdiZTlkNjFiMWYwYjVlMGEwNzM2OCIsInN1YiI6IjYwZTVjMTdlNGNhNjc2MDA3NTA4Njc3MSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.D_nqH9kd-bhhWzeVsTDPYhHnsUaNAuyAa6YATmKHqsA"}};function nl(e){return qs+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:el)+e}function rl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(Js+e,z(z({},tl),t)).then((function(e){return e.json()}))}function ol(){return rl("/configuration").then((function(e){var t;return Zs=e,qs=null===(t=e.images)||void 0===t?void 0:t.secure_base_url,e}))}var il={get:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Zs?rl(e,t):ol().then((function(){return rl(e,t)}))},loadConfig:ol};function al(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((function(e){return{src:nl(e.poster_path||e.profile_path),tileSrc:nl(e.backdrop_path||e.profile_path,"w300"),backdrop:nl(e.backdrop_path,"w1280"),href:`/entity/${e.media_type||"people"}/${e.id}`,shortTitle:(t=e.title||e.name,n=30,t.length>n?t.substring(0,n-3)+"...":t),title:e.title||e.name,data:e,entityInfo:{type:e.media_type||"people",id:e.id},heroContent:{title:e.title||e.name,description:e.overview}};var t,n}))}var sl=new Map,ll=new Map;function ul(e){var t=O(Ne([]),2),n=t[0],r=t[1],o=O(Ne(1),2),i=o[0],a=o[1],s=O(Ne(!1),2),l=s[0],u=s[1],c=O(Pe(i,e),1)[0];return Fe((function(){var e=c();e&&et((function(){0===e.length&&u(!0),r((function(t){return[].concat(F(t),F(e))}))}),!1)})),{pages:n,page:i,setPage:a,setPages:r,end:l,setEnd:u}}var cl=900,dl={display:"flex",flexDirection:"column",width:cl,height:220,gap:16},fl=z(z({},li.typography.display2),{},{fontFamily:"Ubuntu",fontWeight:700,maxLines:1,width:cl,contain:"width"}),hl=function(e){return Ar(gr,Rr(e,{style:fl}))},pl=z(z({},li.typography.body1),{},{fontFamily:"Ubuntu",fontWeight:400,lineHeight:32,width:cl,maxLines:3,contain:"width"}),vl={fontSize:16,lineHeight:20},gl=function(e){return Ar(gr,Rr(e,{style:pl,get children(){return e.children}}))},yl=function(e){return t=Sr("node"),Ir(_o,t,(function(){return[8,13,11,13]})),Tr(t,Rr(e,{style:{color:"0x00000099",borderRadius:8,border:{width:2,color:"0xffffffff"}}}),!0),Cr(t,Ar(gr,{style:vl,get children(){return e.children}})),t;var t},ml=z(z({},li.typography.body2),{},{fontFamily:"Ubuntu",fontWeight:400}),xl=function(e){return Ar(yr,{style:{display:"flex",flexDirection:"row",gap:18,width:cl,height:48},get children(){return[Ar(yr,{y:-4,src:"./assets/stars.png",width:188,height:31}),Ar(yr,{y:-4,flexItem:!1,clipping:!0,get width(){return 188*e.voteAverage/10},height:31,get children(){return Ar(yr,{src:"./assets/stars-full.png",width:188,height:31})}}),Ar(gr,{style:ml,get children(){return[kr((function(){return e.voteCount}))," reviews"]}}),Ar(gr,{style:ml,get children(){return e.metaText}}),Ar(xt,{get each(){return e.badges},children:function(e){return Ar(yl,{y:-5,children:e})}})]}})},bl=function(e){return Ar(yr,Rr({id:"contentBlock",style:dl},e,{get children(){return[Ar(hl,{get children(){return e.content.title}}),Ar(gl,{get children(){return e.content.description}}),Ar(bt,{get when(){return e.content.voteCount},get children(){return Ar(xl,{get metaText(){return e.content.metaText},get badges(){return e.content.badges},get voteCount(){return e.content.voteCount},get voteAverage(){return e.content.voteAverage}})}})]}}))},wl=function(){var e=qr(),t=O(Ne(0),2),n=t[0],r=t[1],o=O(Ne({}),2),i=o[0],a=o[1],s=Vr(),l=Oe((function(){return 0})),u=Me((function(){return ul((t=e.filter||"all",function(e){var n=`/trending/${t}/week?page=${e}`;if(sl.has(n))return sl.get(n);var r=il.get(n).then((function(e){var n=e.results.filter((function(e){return!e.adult})),r=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:7,n=[],r=0,o=e.length;r<o;r+=t)n.push(e.slice(r,r+t));return n}((ll.has(t)?ll.get(t):[]).concat(al(n)));return r[r.length-1].length<7?ll.set(t,r.pop()):ll.delete(t),r}));return sl.set(n,r),r}));var t})),c=Lo((function(e){return si(e)}),400),d=Lo((function(e){return a(e||{})}),200);function f(){var e;null===(e=this.children.selected)||void 0===e||e.setFocus(),r(-1*(this.y||0)+24);var t=u().pages().length;(0===t||this.parent.selected&&this.parent.selected>=t-2)&&u().setPage((function(e){return e+1}))}function h(){var e=this.children.selected;return I(e&&e.href),s(e.href),!0}return ze(Ue(kt,(function(e){e.backdrop&&c(e.backdrop),e.heroContent&&d(e.heroContent)}),{defer:!0})),Ar(bt,{get when(){return u().pages().length},get children(){return[Ar(bl,{y:360,x:162,get content(){return i()}}),Ar(yr,{clipping:!0,get style(){return Ys.itemsContainer},get children(){return Ar(ta,{plinko:!0,announce:"All Trending - Week",get y(){return n()},get style(){return Ys.Column},get children(){return Ar(xt,{get each(){return u().pages()},children:function(e,t){return Ar(Vs,{get autofocus(){return l(t())},items:e,width:1620,onFocus:f,onEnter:h})}})}})}})]}})},kl=function(){var e=Vr(),t=Oe((function(){return 0}));function n(){var t=this.children.selected;I(t&&t.id),e("/"+t.id)}var r=[{title:"Flex Row",id:"flex",description:"Flex Row Implementation"},{title:"Flex Column",id:"flexcolumn",description:"Flex Column Implementation"},{title:"Flex Row Vertical Align",id:"flexsize",description:"Flex Row Vertical Align Implementation"},{title:"Flex Column Vertical Align",id:"flexcolumnsize",description:"Flex Column Vertical Align Implementation"},{title:"Buttons",id:"buttons",description:"Demo a few buttons"},{title:"Text",id:"text",description:"Text layout with flexbox"},{title:"Create Elements",id:"create",description:"Testing Show + children + inserting text"},{title:"Viewport",id:"viewport",description:"Events going in and out of viewport"}];function o(e){var t=O(Ne(4294967295),2),n=t[0],r=t[1];return Ar(yr,Rr(e,{onFocus:function(){return r(255)},onBlur:function(){return r(4294967295)},style:{width:370,height:320,borderRadius:6,scale:1,color:405488895,transition:{color:!0,scale:!0},focus:{scale:1.1,color:4294967295}},get children(){return Ar(yr,{x:30,get children(){return[Ar(gr,{y:30,fontSize:84,get color(){return n()},get children(){return e.index}}),Ar(gr,{y:140,fontSize:42,width:340,height:42,contain:"both",get color(){return n()},get children(){return e.title}}),Ar(gr,{y:200,fontSize:28,width:330,contain:"width",get color(){return n()},get children(){return e.description}})]}})}}))}var i=O(Ne(140),2),a=i[0],s=i[1];function l(e){s(-400*e.selected+140)}return Ar(yr,{colorTop:1147903743,colorBottom:743406847,get children(){return[Ar(yr,{x:120,get children(){return[Ar(yr,{src:"./assets/solidjs.png",width:101,height:90,y:40}),Ar(gr,{fontSize:90,x:110,y:40,children:"Examples"}),Ar(yr,{y:140,height:1,width:1800,color:3906468351})]}}),Ar(La,{onSelectedChanged:l,onEnter:n,transition:{x:{delay:20,duration:300}},get x(){return a()},y:300,width:4400,get style(){return Ys.Row},justifyContent:"flexStart",gap:40,get children(){return Ar(xt,{each:r,children:function(e,n){return Ar(o,Rr({get autofocus(){return t(n())},get index(){return n()}},e))}})}})]}})},Al=function(){var e={width:900,height:500,y:350,x:150,gap:25,display:"flex",flexDirection:"column",justifyContent:"flexStart",color:Br("00000000")},t={width:900,height:36,gap:6,display:"flex",flexDirection:"row",justifyContent:"flexStart",color:Br("00000000")},n={fontSize:42},r={width:e.width,fontSize:26,contain:"width"},o={fontSize:26};return We((function(){si("#000000")})),Ar(yr,{autofocus:!0,style:e,get children(){return[Ar(gr,{style:n,children:"Title of the Page"}),Ar(gr,{style:r,children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer vel tempor tellus. Sed eu leo purus. Vestibulum sollicitudin eget tellus a varius. Phasellus est turpis, volutpat sed blandit sit amet, rutrum sit amet mauris. In dignissim elit orci, a sollicitudin ipsum faucibus et. Quisque vel quam rutrum, faucibus augue sed, scelerisque nunc."}),Ar(yr,{style:t,get children(){return[Ar(gr,{style:o,children:"Subline Text"}),Ar(yr,{width:28,height:28,src:"./assets/rt-popcorn.png"}),Ar(gr,{style:o,children:"More Text"})]}})]}})},Sl=function(){var e,t,n={width:900,height:500,y:50,x:150,gap:25,display:"flex",flexDirection:"column",justifyContent:"flexStart",color:Br("00000000")},r={width:900,height:36,gap:6,display:"flex",flexDirection:"row",justifyContent:"flexStart",color:Br("00000000")},o={fontSize:42},i={fontSize:26};We((function(){si("#000000"),e.animate({x:100},{duration:2e3}).start()}));var a=O(Ne(),2),s=a[0],l=a[1],u=O(Ne(),2),c=u[0];u[1];setTimeout((function(){var e;l("- Inserted -"),null===(e=t.getChildById("child1"))||void 0===e||e.animate({x:600},{duration:2e3}).start()}),2e3);var d={width:400,height:300,color:Br("#0000ff")},f={color:Br("#f54242"),focus:{color:Br("#4287f5")}};function h(e){var t=Xe((function(){return e.children}));return Ar(yr,Rr(e,{get style(){return[f,e.style,[d]]},get children(){return[Ar(yr,{id:"child1",width:100,height:100,get color(){return Br("#ff0000")},y:25,get children(){return[kr((function(){return t()})),Ar(yr,{id:"subChild",x:150,width:100,height:100,get color(){return Br("#00ff00")}}),Ar(gr,{get children(){return e.title}})]}}),Ar(yr,{width:100,height:100,get color(){return Br("#ffff00")},y:175,get children(){return t()}})]}}))}var p={borderLeft:{width:8,color:95598118},borderTop:{width:8,color:631422246},borderRight:{width:8,color:95598118},borderBottom:{width:8,color:3316790822}},v={color:Br("#cccccc"),focus:{color:Br("#000000")}},g={color:Br("#ffffff"),focus:{color:Br("#f6f6cc")}};return Ar(yr,{style:n,get children(){return[Ar(gr,{style:o,children:"Title of the Page"}),Ar(yr,{style:r,get children(){return[Ar(gr,{get children(){return c()}}),Ar(gr,{style:i,get children(){return["Sub ",kr((function(){return s()}))," Text"]}}),Ar(bt,{get when(){return s()},get children(){return Ar(yr,{width:28,height:28,src:"./assets/rt-popcorn.png"})}}),Ar(gr,{style:i,children:"More Text"})]}}),Ar(h,{autofocus:!0,ref:function(e){"function"==typeof t?t(e):t=e},style:[g,v],get children(){return Ar(gr,{children:"Child Test"})}}),Ar(yr,{ref:function(t){"function"==typeof e?e(t):e=t},style:p,width:100,height:100,get color(){return Br("#00ff00")},x:900,y:400,get alpha(){return e.states.has("focus")?1:.2}})]}})},Cl=function(){var e,t,n=O(Ne([]),2),r=n[0],o=n[1],i={width:100,height:100,x:-400,y:-400,rotation:0,borderRadius:50,color:Br("#4287f5"),transition:{x:{duration:1250,easing:"linear"},y:{duration:1250,easing:"linear"},rotation:{duration:1400,easing:"ease-in-out"}}},a={fontSize:32,x:960,y:540,mount:.5,lineheight:52},s=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)};function l(e,t){o((function(t){return[].concat(F(t),[e]).slice(-4)})),console.log(e)}return We((function(){si("#000000"),e.x=910,e.y=490,t=setInterval((function(){e.rotation=s(-90,90),e.x=s(-300,2220),e.y=s(-300,1380)}),2500)})),je((function(){clearInterval(t)})),Ar(yr,{get children(){return[Ar(gr,{style:a,get children(){return r().join("\n")}}),Ar(yr,{autofocus:!0,style:i,ref:function(t){"function"==typeof e?e(t):e=t},onEvents:[["inBounds",function(e){return l("inBounds")}],["outOfBounds",function(e){return l("outOfBounds")}],["inViewport",function(e){return l("inViewport")}],["outOfViewport",function(e){return l("outOfViewport")}]]})]}})},Tl=function(){function e(e,t){this.states.toggle("disabled")}var t={display:"flex",justifyContent:"flexStart",width:1500,height:300,color:Br("00000000"),gap:26,y:400};function n(e){return Ar(yr,Rr(e,{forwardStates:!0,get style(){return Qs.container},get children(){return Ar(gr,{get style(){return Qs.text},get children(){return e.children}})}}))}var r=function(e){return t=Sr("node"),Ir(_o,t,(function(){return[10,15]})),Tr(t,Rr(e,{get style(){return{color:Br("#000000be"),borderRadius:8,border:{width:2,color:Br("#ffffff")}}}}),!0),Cr(t,Ar(gr,{style:{fontSize:20},get children(){return e.children}})),t;var t};return[Ar(La,{x:100,y:200,gap:5,style:t,get children(){return[Ar(r,{children:"HD"}),Ar(r,{children:"PG13"}),Ar(r,{children:"NC17"}),Ar(gr,{fontSize:30,children:"I like bananas"}),Ar(r,{children:"DOLBY"})]}}),Ar(La,{x:100,gap:40,style:t,get children(){return[Ar(n,{autofocus:!0,onEnter:e,children:"TV Shows"}),Ar(n,{states:{active:!0,disabled:!1},children:"Movies"}),Ar(n,{states:"active",children:"Sports"}),Ar(n,{states:"disabled",children:"News"})]}})]},_l=function(){var e={display:"flex",justifyContent:"flexStart",width:1600,height:110,color:Br("#4dabf5")},t={fontSize:44,marginTop:25,marginBottom:-20,skipFocus:!0};function n(e){return Ar(yr,Rr(e,{style:{width:200,height:100,y:5,color:392801023}}))}var r=O(Ne(50),2),o=r[0],i=r[1];function a(){var e;null===(e=this.children.selected)||void 0===e||e.setFocus(),i(150+-1*(this.y||0))}We((function(){si("#333333")}));var s=50;return Ar(ta,{x:160,get y(){return o()},gap:30,height:850,get width(){return e.width},get style(){return Ys.Column},get children(){return[Ar(gr,{style:t,children:"Flex Start"}),Ar(La,{gap:s,style:e,onFocus:a,get children(){return[Ar(n,{autofocus:!0}),Ar(n,{}),Ar(n,{}),Ar(n,{}),Ar(n,{})]}}),Ar(gr,{style:t,children:"Flex Start - Margin Left"}),Ar(La,{gap:s,style:e,onFocus:a,get children(){return[Ar(n,{marginLeft:100}),Ar(n,{}),Ar(n,{marginLeft:100}),Ar(n,{}),Ar(n,{})]}}),Ar(gr,{style:t,children:"Flex End"}),Ar(La,{gap:s,justifyContent:"flexEnd",style:e,onFocus:a,get children(){return[Ar(n,{}),Ar(n,{}),Ar(n,{}),Ar(n,{}),Ar(n,{})]}}),Ar(gr,{style:t,children:"Flex End - Margin Right"}),Ar(La,{gap:s,justifyContent:"flexEnd",style:e,onFocus:a,get children(){return[Ar(n,{}),Ar(n,{marginRight:100}),Ar(n,{}),Ar(n,{}),Ar(n,{marginRight:100})]}}),Ar(gr,{style:t,children:"Center - No Margin Support"}),Ar(La,{gap:s,justifyContent:"center",style:e,onFocus:a,get children(){return[Ar(n,{}),Ar(n,{}),Ar(n,{}),Ar(n,{}),Ar(n,{})]}}),Ar(gr,{style:t,children:"Space Between - No Margin Support"}),Ar(La,{gap:s,justifyContent:"spaceBetween",style:e,onFocus:a,get children(){return[Ar(n,{}),Ar(n,{}),Ar(n,{}),Ar(n,{}),Ar(n,{})]}}),Ar(gr,{style:t,children:"Space Evenly - No Margin Support"}),Ar(La,{gap:s,justifyContent:"spaceEvenly",style:e,onFocus:a,get children(){return[Ar(n,{}),Ar(n,{}),Ar(n,{}),Ar(n,{}),Ar(n,{})]}})]}})},Rl=function(){var e={display:"flex",justifyContent:"flexStart",width:1600,height:110,color:Br("#4dabf5")},t={fontSize:44,marginTop:25,marginBottom:-20,skipFocus:!0};function n(e){return Ar(yr,Rr(e,{style:{width:200,height:100,y:5,color:392801023}}))}function r(){return Math.floor(91*Math.random())+10}var o=O(Ne(50),2),i=o[0],a=o[1];function s(){var e;null===(e=this.children.selected)||void 0===e||e.setFocus(),a(150+-1*(this.y||0))}We((function(){si("#333333")}));var l=50;return Ar(ta,{x:160,get y(){return i()},gap:30,height:850,get width(){return e.width},get style(){return Ys.Column},get children(){return[Ar(gr,{style:t,children:"Flex Start - AlignItems: center"}),Ar(La,{alignItems:"center",gap:l,style:e,onFocus:s,get children(){return[Ar(n,{autofocus:!0,get height(){return r()}}),Ar(n,{get height(){return r()}}),Ar(n,{get height(){return r()}}),Ar(n,{get height(){return r()}}),Ar(n,{get height(){return r()}})]}}),Ar(gr,{style:t,children:"Flex Start - Margin Left - AlignItems: flexStart"}),Ar(La,{gap:l,alignItems:"flexStart",style:e,onFocus:s,get children(){return[Ar(n,{marginLeft:100,get height(){return r()}}),Ar(n,{get height(){return r()}}),Ar(n,{marginLeft:100,get height(){return r()}}),Ar(n,{get height(){return r()}}),Ar(n,{get height(){return r()}})]}}),Ar(gr,{style:t,children:"Flex End - AlignItems: flexEnd"}),Ar(La,{gap:l,justifyContent:"flexEnd",alignItems:"flexEnd",style:e,onFocus:s,get children(){return[Ar(n,{get height(){return r()}}),Ar(n,{get height(){return r()}}),Ar(n,{get height(){return r()}}),Ar(n,{get height(){return r()}}),Ar(n,{get height(){return r()}})]}}),Ar(gr,{style:t,children:"Flex End - Margin Right"}),Ar(La,{gap:l,justifyContent:"flexEnd",style:e,onFocus:s,get children(){return[Ar(n,{get height(){return r()}}),Ar(n,{marginRight:100,get height(){return r()}}),Ar(n,{get height(){return r()}}),Ar(n,{get height(){return r()}}),Ar(n,{marginRight:100,get height(){return r()}})]}}),Ar(gr,{style:t,children:"Center - No Margin Support"}),Ar(La,{gap:l,justifyContent:"center",style:e,onFocus:s,get children(){return[Ar(n,{get height(){return r()}}),Ar(n,{get height(){return r()}}),Ar(n,{get height(){return r()}}),Ar(n,{get height(){return r()}}),Ar(n,{get height(){return r()}})]}}),Ar(gr,{style:t,children:"Space Between - No Margin Support"}),Ar(La,{gap:l,justifyContent:"spaceBetween",style:e,onFocus:s,get children(){return[Ar(n,{get height(){return r()}}),Ar(n,{get height(){return r()}}),Ar(n,{get height(){return r()}}),Ar(n,{get height(){return r()}}),Ar(n,{get height(){return r()}})]}}),Ar(gr,{style:t,children:"Space Evenly - No Margin Support"}),Ar(La,{gap:l,justifyContent:"spaceEvenly",style:e,onFocus:s,get children(){return[Ar(n,{get height(){return r()}}),Ar(n,{get height(){return r()}}),Ar(n,{get height(){return r()}}),Ar(n,{get height(){return r()}}),Ar(n,{get height(){return r()}})]}})]}})},Il=function(){var e={display:"flex",justifyContent:"spaceEvenly",width:1920,y:100,height:880,color:Br("00000000")},t={display:"flex",flexDirection:"column",justifyContent:"flexStart",color:Br("#4dabf5"),height:850,width:80};function n(e){var t={width:Math.floor(61*Math.random())+10,height:80,x:5,color:Br("#1769aa")};return Ar(yr,Rr(e,{style:t}))}var r=O(Ne(50),2),o=(r[0],r[1]);function i(){var e;null===(e=this.children.selected)||void 0===e||e.setFocus(),o(150+-1*(this.y||0))}We((function(){si("#333333")}));var a=50;return[Ar(gr,{style:{fontSize:44,y:20,x:150},children:"Start, MarginTop, End, MarginBottom, Center, Between, Evenly"}),Ar(La,{gap:a,style:e,onFocus:i,get children(){return[Ar(ta,{gap:30,style:t,alignItems:"center",get children(){return[Ar(n,{autofocus:!0}),Ar(n,{}),Ar(n,{}),Ar(n,{}),Ar(n,{})]}}),Ar(ta,{gap:a,style:t,onFocus:i,alignItems:"flexStart",get children(){return[Ar(n,{marginTop:100}),Ar(n,{}),Ar(n,{marginTop:100}),Ar(n,{}),Ar(n,{})]}}),Ar(ta,{gap:a,alignItems:"flexEnd",justifyContent:"flexEnd",style:t,onFocus:i,get children(){return[Ar(n,{}),Ar(n,{}),Ar(n,{}),Ar(n,{}),Ar(n,{})]}}),Ar(ta,{gap:a,justifyContent:"flexEnd",style:t,onFocus:i,get children(){return[Ar(n,{}),Ar(n,{marginBottom:100}),Ar(n,{}),Ar(n,{}),Ar(n,{marginBottom:100})]}}),Ar(ta,{gap:a,justifyContent:"center",style:t,onFocus:i,get children(){return[Ar(n,{}),Ar(n,{}),Ar(n,{}),Ar(n,{}),Ar(n,{})]}}),Ar(ta,{gap:a,justifyContent:"spaceBetween",style:t,onFocus:i,get children(){return[Ar(n,{}),Ar(n,{}),Ar(n,{}),Ar(n,{}),Ar(n,{})]}}),Ar(ta,{gap:a,justifyContent:"spaceEvenly",style:t,onFocus:i,get children(){return[Ar(n,{}),Ar(n,{}),Ar(n,{}),Ar(n,{}),Ar(n,{})]}})]}})]},Bl=function(){var e={display:"flex",justifyContent:"spaceEvenly",width:1920,y:100,height:880,color:Br("00000000")},t={display:"flex",flexDirection:"column",justifyContent:"flexStart",color:Br("#4dabf5"),height:850,width:60};function n(e){var t={width:50,height:80,x:5,color:Br("#1769aa")};return Ar(yr,Rr(e,{style:t}))}var r=O(Ne(50),2),o=(r[0],r[1]);function i(){var e;null===(e=this.children.selected)||void 0===e||e.setFocus(),o(150+-1*(this.y||0))}We((function(){si("#333333")}));var a=50;return[Ar(gr,{style:{fontSize:44,y:20,x:150},children:"Start, MarginTop, End, MarginBottom, Center, Between, Evenly"}),Ar(La,{gap:a,style:e,onFocus:i,get children(){return[Ar(ta,{gap:30,style:t,get children(){return[Ar(n,{autofocus:!0}),Ar(n,{}),Ar(n,{}),Ar(n,{}),Ar(n,{})]}}),Ar(ta,{gap:a,style:t,onFocus:i,get children(){return[Ar(n,{marginTop:100}),Ar(n,{}),Ar(n,{marginTop:100}),Ar(n,{}),Ar(n,{})]}}),Ar(ta,{gap:a,justifyContent:"flexEnd",style:t,onFocus:i,get children(){return[Ar(n,{}),Ar(n,{}),Ar(n,{}),Ar(n,{}),Ar(n,{})]}}),Ar(ta,{gap:a,justifyContent:"flexEnd",style:t,onFocus:i,get children(){return[Ar(n,{}),Ar(n,{marginBottom:100}),Ar(n,{}),Ar(n,{}),Ar(n,{marginBottom:100})]}}),Ar(ta,{gap:a,justifyContent:"center",style:t,onFocus:i,get children(){return[Ar(n,{}),Ar(n,{}),Ar(n,{}),Ar(n,{}),Ar(n,{})]}}),Ar(ta,{gap:a,justifyContent:"spaceBetween",style:t,onFocus:i,get children(){return[Ar(n,{}),Ar(n,{}),Ar(n,{}),Ar(n,{}),Ar(n,{})]}}),Ar(ta,{gap:a,justifyContent:"spaceEvenly",style:t,onFocus:i,get children(){return[Ar(n,{}),Ar(n,{}),Ar(n,{}),Ar(n,{}),Ar(n,{})]}})]}})]},El=function(){function e(e,t){this.states.toggle("disabled")}var t={display:"flex",justifyContent:"flexStart",width:1500,height:300,color:Br("00000000"),gap:26,y:400,x:100},n={width:386,height:136,color:"0x715cabff",focus:{color:"0x5a39a2ff"},disabled:{color:"0x291d43ff"}},r=["RoundedRectangle",{radius:65}];function o(e){return Ar(yr,Rr(e,{forwardStates:!0,style:n,shader:r,get children(){return Ar(gr,{style:Xs,get children(){return e.children}})}}))}return Ar(La,{style:t,get children(){return[Ar(o,{autofocus:!0,onEnter:e,children:"Focused"}),Ar(o,{states:{active:!0,disabled:!1},children:"Normal"}),Ar(o,{states:"disabled",children:"Disabled"})]}})};function Nl(e){return e.split("-")[0]}function Fl(e){var t=e.type,n=e.id;return il.get(`/${t}/${n}/recommendations`).then((function(e){var n=e.results;return n.length?al(n.slice(0,7)):il.get(`/trending/${t}/week?page=1`).then((function(e){return al(e.results.slice(0,7))}))}))}function Ll(e){var t=e.type,n=e.id;return il.get(`/${t}/${n}/credits`).then((function(e){return al(e.cast.slice(0,7))}))}function zl(e){var t=e.type,n=e.id,r="movie"===t?{rtCrit:86,rtFan:92}:{};return il.get(`/${t}/${n}`).then((function(e){return z({backgroundImage:nl(e.backdrop_path,"w1280"),heroContent:{title:e.title||e.name,description:e.overview,badges:["HD","CC"],voteAverage:e.vote_average,voteCount:e.vote_count,metaText:"movie"===t?(i=e.runtime,a=i%60,Math.floor(i/60)+"h "+(a<10?"0":"")+a+"min   "+(n=e.release_date,o=n.split("-"),o[1]+"/"+o[2]+"/"+o[0])):`${Nl(e.first_air_date)} - ${Nl(e.last_air_date)}`,reviews:r}},e);var n,o,i,a}))}var Ml="https://storage.googleapis.com/shaka-demo-assets/angel-one/dash.mpd";function Pl(){return(Pl=w(x().mark((function e(){var t,n;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.getElementById("video"),n=new shaka.Player,e.next=4,n.attach(t);case 4:return window.player=n,n.addEventListener("error",Ol),e.prev=6,e.next=9,n.load(Ml);case 9:console.log("The video has now been loaded!"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),Dl(e.t0);case 15:case"end":return e.stop()}}),e,null,[[6,12]])})))).apply(this,arguments)}function Ol(e){Dl(e.detail)}function Dl(e){console.error("Error code",e.code,"object",e)}document.addEventListener("DOMContentLoaded",(function(){shaka.polyfill.installAll(),shaka.Player.isBrowserSupported()?function(){Pl.apply(this,arguments)}():console.error("Browser not supported!")}));var Ul=function(){var e=qr(),t=Vr(),n=O(Pe((function(){return z({},e)}),zl),1)[0],r=O(Pe((function(){return z({},e)}),Ll),1)[0],o=O(Pe((function(){return z({},e)}),Fl),1)[0],i=O(Ne(0),2),a=i[0],s=i[1];ze(Ue(n,(function(e){si(e.backgroundImage)}),{defer:!0}));var l,u,c,d=640,f={color:Br("#000000"),alpha:0,width:1900,height:890,x:-160,y:d,borderRadius:30};function h(){var e;null===(e=this.children.selected)||void 0===e||e.setFocus(),l.y=d,u.y=d,u.alpha=0}function p(){var e;null===(e=this.children.selected)||void 0===e||e.setFocus(),l.y=200,u.y=160,u.alpha=.9}function v(){var e=this.children.selected;I(e&&e.href),t(e.href)}function g(){var e;(e=document.getElementById("video")).hidden=!0,e.pause(),document.getElementsByTagName("canvas")[0].focus(),c.setFocus(),s(0)}function y(){var e=function(){var e=document.getElementById("video");return e.hidden=!1,setTimeout((function(){return e.play()}),50),e.focus(),e}();At(e),s(.9)}return Ar(bt,{get when(){return n()},keyed:!0,get children(){return[Ar(yr,{x:170,onUp:function(){return c.setFocus()},onEscape:g,get children(){return[Ar(bl,{y:260,get content(){return n().heroContent}}),Ar(La,{ref:function(e){"function"==typeof c?c(e):c=e},y:500,scroll:"none",height:90,width:640,gap:40,onDown:function(){return l.setFocus()},onEnter:y,get children(){return[Ar(Di,{width:300,autofocus:!0,children:"Play"}),Ar(Di,{width:300,children:"Resume"})]}}),Ar(ta,{ref:function(e){"function"==typeof l?l(e):l=e},x:0,y:d,get style(){return Ys.Column},zIndex:5,get children(){return Ar(bt,{get when(){return kr((function(){return!!o()}))()&&r()},get children(){return[Ar(gr,{skipFocus:!0,get style(){return Ys.RowTitle},children:"Recommendations"}),Ar(Vs,{onFocus:h,onEnter:v,get items(){return o()},width:1620}),Ar(gr,{skipFocus:!0,get style(){return Ys.RowTitle},children:"Cast and Crew"}),Ar(Vs,{onFocus:p,onEnter:v,get items(){return r()},width:1620})]}})}}),Ar(yr,{ref:function(e){"function"==typeof u?u(e):u=e},style:f,transition:{alpha:!0,y:!0}})]}}),Ar(yr,{get alpha(){return a()},get color(){return Br("#000000")},zIndex:200,transition:{alpha:!0}})]}})};function Wl(e){var t=e.id;return il.get(`/person/${t}/combined_credits`).then((function(e){return al(e.cast.slice(0,7))}))}function jl(e){var t=e.id;return il.get(`/person/${t}`).then((function(e){return z({backgroundImage:nl(e.profile_path,"original"),heroContent:{title:e.title||e.name,description:e.biography}},e)}))}var Yl=function(){var e=qr(),t=Vr(),n=O(Pe((function(){return z({},e)}),jl),1)[0],r=O(Pe((function(){return z({},e)}),Wl),1)[0],o={color:Br("#000000"),alpha:.8,width:800,height:440,x:130,y:180,borderRadius:30};function i(){var e=this.children.selected;I(e&&e.href),t(e.href)}return We((function(){si("#333333")})),Ar(bt,{get when(){return n()},keyed:!0,get children(){return[Ar(yr,{get src(){return n().backgroundImage},width:400,autosize:!0,y:0,x:1800,mountX:1}),Ar(yr,{x:150,y:200,width:800,gap:24,get style(){return Ys.Column},zIndex:3,get children(){return[Ar(gr,{contain:"width",fontFamily:"Ubuntu",get style(){return li.typography.display2},get children(){return n().name}}),Ar(gr,{contain:"both",get style(){return Ys.peopleBio},get children(){return n().biography}})]}}),Ar(yr,{style:o}),Ar(ta,{y:670,x:140,get style(){return Ys.Column},scroll:"none",get children(){return Ar(bt,{get when(){return r()},get children(){return[Ar(gr,{skipFocus:!0,get style(){return Ys.RowTitle},children:"Credits"}),Ar(Vs,{autofocus:!0,onEnter:i,get items(){return r()}})]}})}})]}})},Hl=function(){return e=Sr("node"),_r(e,"style",{width:1920,height:1080,color:868483072}),e;var e},Ql=new URL("AppCoreExtensions-legacy-DppVFjYx.js",T.meta.url).href;tr.debug=!1,tr.animationsEnabled=!0,tr.fontSettings.fontFamily="Ubuntu",tr.fontSettings.color=Br("#f6f6f6"),tr.fontSettings.fontSize=32,tr.rendererOptions={coreExtensionModule:Ql,fpsUpdateInterval:200,enableInspector:!0},wr((function(){return Ar(go,{root:function(e){return Ar(js,e)},get children(){return[Ar(uo,{path:"",component:wl}),Ar(uo,{path:"examples",component:kl}),Ar(uo,{path:"browse/:filter",component:wl}),Ar(uo,{path:"text",component:Al}),Ar(uo,{path:"buttons",component:Tl}),Ar(uo,{path:"flex",component:_l}),Ar(uo,{path:"create",component:Sl}),Ar(uo,{path:"viewport",component:Cl}),Ar(uo,{path:"flexsize",component:Rl}),Ar(uo,{path:"flexcolumnsize",component:Il}),Ar(uo,{path:"flexcolumn",component:Bl}),Ar(uo,{path:"buttonsmaterial",component:El}),Ar(uo,{path:"entity/people/:id",component:Yl}),Ar(uo,{path:"entity/:type/:id",component:Ul}),Ar(uo,{path:"*all",component:Hl})]}})}))}}}))}();
//# sourceMappingURL=index-legacy-11ZzHuTG.js.map
