{"version":3,"file":"Viewport-DCs31U_8.js","sources":["../../src/pages/Viewport.tsx"],"sourcesContent":["import { Text, View, hexColor } from \"@lightningtv/solid\";\nimport { onMount, onCleanup, createSignal } from \"solid-js\";\nimport { setGlobalBackground } from \"../state\";\n\nexport default () => {\n  let ball, invervalTimer;\n\n  const [ballStatus, setBallStatus] = createSignal<string[]>([]);\n\n  const styleBall = {\n    width: 100,\n    height: 100,\n    x: -400,\n    y: -400,\n    rotation: 0,\n    borderRadius: 50,\n    color: \"#4287f5\",\n    transition: {\n      x: { duration: 1250, easing: \"linear\" },\n      y: { duration: 1250, easing: \"linear\" },\n      rotation: { duration: 1400, easing: \"ease-in-out\" },\n    },\n  } as const;\n\n  const Title = {\n    fontSize: 32,\n    x: 960,\n    y: 540,\n    mount: 0.5,\n    lineheight: 52,\n  };\n\n  const randomIntBetween = (from, to) =>\n    Math.floor(Math.random() * (to - from + 1) + from);\n\n  onMount(() => {\n    setGlobalBackground(\"#000000\");\n\n    ball.x = (1920 - 100) / 2;\n    ball.y = (1080 - 100) / 2;\n    invervalTimer = setInterval(() => {\n      ball.rotation = randomIntBetween(-90, 90);\n      ball.x = randomIntBetween(-300, 2220);\n      ball.y = randomIntBetween(-300, 1380);\n    }, 2500);\n  });\n\n  function logEvent(name, elm) {\n    setBallStatus((prev) => {\n      return [...prev, name].slice(-4);\n    });\n    console.log(name);\n  }\n\n  onCleanup(() => {\n    clearInterval(invervalTimer);\n  });\n\n  return (\n    <View>\n      <Text style={Title}>{ballStatus().join(\"\\n\")}</Text>\n      <View\n        autofocus\n        style={styleBall}\n        ref={ball}\n        onEvent={{\n          inBounds: (elm) => logEvent(\"inBounds\", elm),\n          outOfBounds: (elm) => logEvent(\"outOfBounds\", elm),\n          inViewport: (elm) => logEvent(\"inViewport\", elm),\n          outOfViewport: (elm) => logEvent(\"outOfViewport\", elm),\n        }}\n      />\n    </View>\n  );\n};\n"],"names":["ball","invervalTimer","ballStatus","setBallStatus","createSignal","styleBall","width","height","x","y","rotation","borderRadius","color","transition","duration","easing","Title","fontSize","mount","lineheight","randomIntBetween","from","to","Math","floor","random","onMount","setGlobalBackground","setInterval","logEvent","name","elm","prev","slice","console","log","onCleanup","clearInterval","_$createComponent","View","children","Text","style","join","autofocus","ref","r$","_ref$","onEvent","inBounds","outOfBounds","inViewport","outOfViewport"],"mappings":";AAIA,MAAA,WAAe,MAAM;AACnB,MAAIA,MAAMC;AAEV,QAAM,CAACC,YAAYC,aAAa,IAAIC,aAAuB,CAAA,CAAE;AAE7D,QAAMC,YAAY;AAAA,IAChBC,OAAO;AAAA,IACPC,QAAQ;AAAA,IACRC,GAAG;AAAA,IACHC,GAAG;AAAA,IACHC,UAAU;AAAA,IACVC,cAAc;AAAA,IACdC,OAAO;AAAA,IACPC,YAAY;AAAA,MACVL,GAAG;AAAA,QAAEM,UAAU;AAAA,QAAMC,QAAQ;AAAA,MAAS;AAAA,MACtCN,GAAG;AAAA,QAAEK,UAAU;AAAA,QAAMC,QAAQ;AAAA,MAAS;AAAA,MACtCL,UAAU;AAAA,QAAEI,UAAU;AAAA,QAAMC,QAAQ;AAAA,MAAA;AAAA,IAAc;AAAA,EAEtD;AAEA,QAAMC,QAAQ;AAAA,IACZC,UAAU;AAAA,IACVT,GAAG;AAAA,IACHC,GAAG;AAAA,IACHS,OAAO;AAAA,IACPC,YAAY;AAAA,EACd;AAEA,QAAMC,mBAAmBA,CAACC,MAAMC,OAC9BC,KAAKC,MAAMD,KAAKE,OAAYH,KAAAA,KAAKD,OAAO,KAAKA,IAAI;AAEnDK,UAAQ,MAAM;AACZC,wBAAoB,GAAS;AAExBnB,SAAAA,KAAK,OAAO,OAAO;AACnBC,SAAAA,KAAK,OAAO,OAAO;AACxBR,oBAAgB2B,YAAY,MAAM;AAC3BlB,WAAAA,WAAWU,iBAAiB,KAAK,EAAE;AACnCZ,WAAAA,IAAIY,iBAAiB,MAAM,IAAI;AAC/BX,WAAAA,IAAIW,iBAAiB,MAAM,IAAI;AAAA,OACnC,IAAI;AAAA,EAAA,CACR;AAEQS,WAAAA,SAASC,MAAMC,KAAK;AAC3B5B,kBAAe6B,CAAS,SAAA;AACtB,aAAO,CAAC,GAAGA,MAAMF,IAAI,EAAEG,MAAM,EAAE;AAAA,IAAA,CAChC;AACDC,YAAQC,IAAIL,IAAI;AAAA,EAAA;AAGlBM,YAAU,MAAM;AACdC,kBAAcpC,aAAa;AAAA,EAAA,CAC5B;AAED,SAAAqC,gBACGC,MAAI;AAAA,IAAA,IAAAC,WAAA;AAAAF,aAAAA,CAAAA,gBACFG,MAAI;AAAA,QAACC,OAAO1B;AAAAA,QAAK,IAAAwB,WAAA;AAAGtC,iBAAAA,WAAAA,EAAayC,KAAK,IAAI;AAAA,QAAA;AAAA,MAAC,CAAAL,GAAAA,gBAC3CC,MAAI;AAAA,QACHK,WAAS;AAAA,QACTF,OAAOrC;AAAAA,QAASwC,IAAAC,IAAA;AAAA,cAAAC,QACX/C;AAAI,iBAAA+C,uBAAAA,MAAAD,EAAA,IAAJ9C,OAAI8C;AAAAA,QAAA;AAAA,QACTE,SAAS;AAAA,UACPC,UAAWlB,CAAAA,QAAQF,SAAS,UAAe;AAAA,UAC3CqB,aAAcnB,CAAAA,QAAQF,SAAS,aAAkB;AAAA,UACjDsB,YAAapB,CAAAA,QAAQF,SAAS,YAAiB;AAAA,UAC/CuB,eAAgBrB,CAAAA,QAAQF,SAAS,eAAoB;AAAA,QAAA;AAAA,MACvD,CAAC,CAAA;AAAA,IAAA;AAAA,EAAA,CAAA;AAIT;"}