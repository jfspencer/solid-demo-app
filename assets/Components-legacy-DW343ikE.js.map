{"version":3,"file":"Components-legacy-DW343ikE.js","sources":["../../node_modules/.pnpm/@lightningtv+solid@2.7.8_@lightningjs+renderer@2.13.0_@solidjs+router@0.15.3_patch_hash=hnhvc_j2dbu7s43oiapm3sbrx6morz7u/node_modules/@lightningtv/solid/src/primitives/Visible.tsx","../../src/pages/Components.tsx"],"sourcesContent":["import {\n  DEV,\n  children,\n  createMemo,\n  ChildrenReturn,\n  JSX,\n  untrack,\n  onCleanup,\n  createRoot,\n} from 'solid-js';\nimport { ElementNode } from '@lightningtv/solid';\n\nexport function Visible<T>(props: {\n  when: T | undefined | null | false;\n  keyed?: boolean;\n  fallback?: JSX.Element;\n  children: JSX.Element;\n}): JSX.Element {\n  let child: ChildrenReturn | undefined;\n  let disposer: VoidFunction | undefined;\n  const keyed = props.keyed;\n  const condition = createMemo<T | undefined | null | boolean>(\n    () => props.when,\n    undefined,\n    DEV\n      ? {\n          equals: (a, b) => (keyed ? a === b : !a === !b),\n          name: \"condition\"\n        }\n      : { equals: (a, b) => (keyed ? a === b : !a === !b) }\n  );\n\n  onCleanup(() => disposer?.());\n\n\n  return createMemo(() => {\n    const c = condition();\n    const isKeyed = untrack(() => !!keyed);\n    if (isKeyed){\n      disposer?.();\n      child = undefined;\n    }\n\n    if (c && !child) {\n      disposer = createRoot((dispose) => {\n        child = children(() => props.children);\n        return dispose;\n      })\n    }\n\n    const isHidden = !c;\n    child?.toArray().forEach((childNode) => {\n      if (childNode instanceof ElementNode) {\n        childNode.hidden = isHidden;\n      }\n    });\n\n    return c ? child : props.fallback;\n  }) as unknown as JSX.Element;\n};\n","import { Text, View, Dynamic } from \"@lightningtv/solid\";\nimport { Visible } from \"@lightningtv/solid/primitives\";\nimport { Button } from \"@lightningtv/solid-ui\";\nimport { createSignal, For, onCleanup } from \"solid-js\";\nimport { setGlobalBackground } from \"../state\";\n\n// Define the Square component\nfunction Square(props) {\n  return (\n    <View\n      {...props}\n      width={props.size || 80}\n      height={props.size || 80}\n      color={props.color || \"#e0e0e0\"}\n    />\n  );\n}\n\n// Define the Card component, which nests a Square\nfunction Card(props) {\n  return (\n    <View\n      {...props}\n      width={props.size === \"large\" ? 400 : 200}\n      height={props.size === \"large\" ? 500 : 300}\n      transition={true}\n      color=\"#0891b2\"\n    >\n      <Square x={80} y={80} />\n      <Square x={20} y={20} size={40} />\n    </View>\n  );\n}\n\nconst PositioningPage = () => {\n  setGlobalBackground(\"#1e293b\");\n\n  const [x, setX] = createSignal(100);\n  const [size, setSize] = createSignal(true);\n\n  const [dynamicComponents] = createSignal([Square, Card, Square]);\n\n  const interval = setInterval(() => {\n    setX((x) => (x === 100 ? 250 : 100));\n    setSize((size) => !size);\n  }, 2000);\n\n  onCleanup(() => clearInterval(interval));\n\n  return (\n    <View x={150} autofocus>\n      {/* Simple square components with different sizes */}\n      <Visible when={size()}>\n        <Square\n          onDestroy={() => console.log(\"destroyed\")}\n          x={100}\n          y={100}\n          size={50}\n          color=\"#ef4444\"\n        />\n        <Square x={100} y={200} size={100} color=\"#22c55e\" />\n        <Square x={100} y={350} size={200} color=\"#3b82f6\" />\n      </Visible>\n\n      {/* Reactive square with animated x position */}\n      <Square\n        x={x()}\n        y={600}\n        size={50}\n        transition={{ x: { duration: 1000, easing: \"linear\" } }}\n      />\n\n      {/* Card components */}\n      <Card x={500} y={100} size={size() ? \"large\" : \"small\"} />\n      <Card x={500} y={500} size={size() ? \"small\" : \"large\"} />\n\n      {/* Dynamic components */}\n      <View x={1000} y={100}>\n        <Text>Dynamic Components</Text>\n        <Dynamic component={Button} y={50} width={200} children=\"Button\" />\n        <For each={dynamicComponents()}>\n          {(Component, index) => (\n            <Dynamic\n              component={Component}\n              x={205 * index()}\n              y={300}\n              size={50}\n            />\n          )}\n        </For>\n      </View>\n    </View>\n  );\n};\n\nexport default PositioningPage;\n"],"names":["Visible","props","child","disposer","keyed","condition","createMemo","when","undefined","equals","a","b","onCleanup","_disposer","_child","c","isKeyed","untrack","_disposer2","createRoot","dispose","children","isHidden","toArray","forEach","childNode","ElementNode","hidden","fallback","Square","_$createComponent","View","_$mergeProps","width","size","height","color","Card","transition","x","y","PositioningPage","setGlobalBackground","_createSignal","createSignal","_createSignal2","_slicedToArray","setX","_createSignal3","_createSignal4","setSize","_createSignal5","_createSignal6","dynamicComponents","interval","setInterval","clearInterval","autofocus","onDestroy","console","log","duration","easing","Text","Dynamic","component","Button","For","each","Component","index"],"mappings":"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","x_google_ignoreList":[0]}