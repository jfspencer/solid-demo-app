import{h as r,m as T,T as y,z as c,V as h,A as d,B as w,D as B,E as I,u as j,a as f,c as D,f as M,o as V,s as z,S as k,G as H,R as P,C as G,i as m,l as N,H as x,j as U,J as Y,K as J,L as K}from"./index-C62FKGOT.js";const p=e=>r(L,T(e,{get color(){return e.backgroundColor},get itemSpacing(){return e.contentSpacing},alignItems:"center",forwardStates:!0,get children(){return r(y,{get color(){return e.textColor},get contain(){var t;return(t=e.contain)!=null?t:"width"},get textAlign(){return e.textAlign},get style(){var t;return[c.Text.tones[(t=e.tone)!=null?t:c.tone],c.Text.base]},get children(){return e.children}})}})),L=e=>r(h,T(e,{get color(){return e.backgroundColor},get justifyContent(){return e.justify},get itemSpacing(){return e.contentSpacing},get style(){var t,o;return[e.style,(o=c.Container.tones)==null?void 0:o[(t=e.tone)!=null?t:c.tone],c.Container.base]},forwardStates:!0}));function q(e){const t=Math.floor(e/60),o=e%60;return t+"h "+(o<10?"0":"")+o+"min"}function O(e){const t=e.split("-");return t[1]+"/"+t[2]+"/"+t[0]}function R(e){return e.split("-")[0]}function Q({type:e,id:t}){return d.get("/".concat(e,"/").concat(t,"/recommendations")).then(({results:o})=>o.length?w(o.slice(0,7)):d.get("/trending/".concat(e,"/week?page=1")).then(({results:s})=>w(s.slice(0,7))))}function W({type:e,id:t}){return d.get("/".concat(e,"/").concat(t,"/credits")).then(({cast:o})=>w(o.slice(0,7)))}function X({type:e,id:t}){let o=e==="movie"?{rtCrit:86,rtFan:92}:{};return d.get("/".concat(e,"/").concat(t)).then(s=>({backgroundImage:B(s.backdrop_path,"w1280"),heroContent:{title:s.title||s.name,description:s.overview,badges:["HD","CC"],voteAverage:s.vote_average,voteCount:s.vote_count,metaText:e==="movie"?q(s.runtime)+"   "+O(s.release_date):"".concat(R(s.first_air_date)," - ").concat(R(s.last_air_date)),reviews:o},...s}))}const ee=()=>{const e=I(),t=j(),[o]=f(()=>({...e}),X),[s]=f(()=>({...e}),W),[C]=f(()=>({...e}),Q),[b,v]=D(0);M(V(o,n=>{z(n.backgroundImage)},{defer:!0}));const l=640,_={color:255,alpha:0,width:1900,height:890,x:-160,y:l,borderRadius:30};function $(){var n;(n=this.children.selected)==null||n.setFocus(),u.y=l,a.y=l,a.alpha=0}function A(){var n;(n=this.children.selected)==null||n.setFocus(),u.y=200,a.y=160,a.alpha=.9}function F(){let n=this.children.find(i=>i.states.has("focus"));U(n&&n.href),t(n.href)}function E(){Y(),document.getElementsByTagName("canvas")[0].focus(),g.setFocus(),v(0)}function S(){const n=J();K(n),v(.9)}let u,a,g;return r(k,{get when(){return o()},keyed:!0,get children(){return[r(h,{x:170,onUp:()=>g.setFocus(),onEscape:E,get children(){return[r(H,{y:260,get content(){return o().heroContent}}),r(P,{ref(n){var i=g;typeof i=="function"?i(n):g=n},y:500,scroll:"none",height:90,width:640,gap:40,onDown:()=>u.setFocus(),onEnter:S,get children(){return[r(p,{width:300,autofocus:!0,children:"Play"}),r(p,{width:300,children:"Resume"})]}}),r(G,{ref(n){var i=u;typeof i=="function"?i(n):u=n},x:0,y:l,get style(){return m.Column},height:880,scroll:"none",zIndex:5,get children(){return r(k,{get when(){return N(()=>!!C())()&&s()},get children(){return[r(y,{skipFocus:!0,get style(){return m.RowTitle},children:"Recommendations"}),r(x,{onFocus:$,onEnter:F,get items(){return C()},width:1620}),r(y,{skipFocus:!0,get style(){return m.RowTitle},children:"Cast and Crew"}),r(x,{onFocus:A,onEnter:F,get items(){return s()},width:1620})]}})}}),r(h,{ref(n){var i=a;typeof i=="function"?i(n):a=n},style:_,transition:{alpha:!0,y:!0}})]}}),r(h,{get alpha(){return b()},color:255,skipFocus:!0,zIndex:200,transition:{alpha:!0}})]}})};export{ee as default};
//# sourceMappingURL=Entity-CcaAllJr.js.map
