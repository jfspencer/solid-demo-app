import{c as o,a as I,b as P,d as R,t as p,e as F,f as T,o as C,g as b,h as r,V as y,C as S,I as E,T as x,s as k}from"./index-B_1DOSdt.js";function G(e){const[g,u]=o([]),[i,h]=o(0),[a,l]=o(!1),[f]=I(i,e);return P(()=>{const c=f();c&&R(()=>{c.length===0&&l(!0),u(d=>[...d,...c])})}),[g,{page:i,setPage:h,setItems:u,end:a,setEnd:l}]}const H=50,s={ProductRow:{width:500,display:"flex",flexDirection:"row",gap:40,height:H,borderRadius:16,color:4294967053,border:{color:8422911,width:0},active:{color:960052479},focus:{color:4143380991,border:{color:8422911,width:6}},transition:{x:{duration:300},width:{duration:300},alpha:{duration:300}}},ProductText:{fontSize:20,fontWeight:600,lineHeight:24,color:4143380223,focus:{color:336861183}},itemsContainer:{width:p.layout.screenW,height:600,y:180,x:180,zIndex:2}};function W(e){return r(y,{get y(){return e.y},get autofocus(){return e.autofocus},get style(){return s.ProductRow},forwardStates:!0,get children(){return[r(x,{get style(){return s.ProductText},get children(){return e.item.id}}),r(x,{get style(){return s.ProductText},get children(){return e.item.title}}),r(x,{get style(){return s.ProductText},get children(){return e.item.price}})]}})}const V=()=>{const[e,g]=o(0),u=F(()=>0),[i,h]=o(0),[a,l]=o([]),[f,{setPage:c}]=G(n=>fetch("https://dummyjson.com/products?limit=20&skip=".concat(20*n)).then(t=>t.json()).then(t=>(t.total,t.products))),d=8;T(C([f,i],([n,t])=>{a().length-d>t||(l(n.slice(0,t+d)),t>n.length-5&&c(m=>m+1))},{defer:!0})),b(()=>{k(255)});function w(n,t,m,j){g((t.y||0)*-1+50),h(m)}return r(y,{clipping:!0,get style(){return s.itemsContainer},get children(){return r(S,{plinko:!0,get y(){return e()},scroll:"none",onSelectedChanged:w,get children(){return r(E,{get each(){return a()},children:(n,t)=>r(W,{y:t*50,get item(){return n()},get autofocus(){return u(t)}})})}})}})};export{V as default};
//# sourceMappingURL=Grid-Bmti8ww9.js.map
